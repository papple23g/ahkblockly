var __BRYTHON__=__BRYTHON__||{};try{eval("async function* f(){}")}catch(err){console.warn("Your browser is not fully supported. If you are using Microsoft Edge, please upgrade to the latest version")}!function(o){o.isWebWorker="undefined"!=typeof WorkerGlobalScope&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator,o.isNode="undefined"!=typeof process&&"node"===process.release.name;var t,e=(t=o.isNode?{location:{href:"",origin:"",pathname:""},navigator:{userLanguage:""}}:self).location.href;o.protocol=e.split(":")[0],o.BigInt=t.BigInt,o.indexedDB=t.indexedDB;var r=void 0===o.brython_path?(o.isWebWorker?(r=t.location.href).startsWith("blob:")&&(r=r.substr(5)):r=(n=document.getElementsByTagName("script"))[n.length-1].src,(n=r.split("/")).pop(),o.brython_path=n.join("/")+"/"):(o.brython_path.endsWith("/")||(o.brython_path+="/"),o.brython_path),n=(t.location.origin+t.location.pathname).split("/");n.pop();n=o.script_dir=n.join("/");if(o.__ARGV=[],o.webworkers={},o.file_cache={},o.$py_src={},o.path=[r+"Lib",r+"libs",n,r+"Lib/site-packages"],o.async_enabled=!1,o.async_enabled&&(o.block={}),o.imported={},o.precompiled={},o.frames_stack=[],o.builtins=Object.create(null),o.builtins_scope={id:"__builtins__",module:"__builtins__",binding:{}},o.builtin_funcs={},o.builtin_classes=[],o.__getattr__=function(t){return this[t]},o.__setattr__=function(t,e){if(!(-1<["debug","stdout","stderr"].indexOf(t)))throw o.builtins.AttributeError.$factory("__BRYTHON__ object has no attribute "+t);o[t]=e},o.language=t.navigator.userLanguage||t.navigator.language,o.locale="C",o.isWebWorker?o.charset="utf-8":o.charset=document.characterSet||document.inputEncoding||"utf-8",o.max_int=Math.pow(2,53)-1,o.min_int=-o.max_int,o.max_float=new Number(Number.MAX_VALUE),o.min_float=new Number(Number.MIN_VALUE),o.$py_next_hash=Math.pow(2,53)-1,o.$py_UUID=0,o.lambda_magic=Math.random().toString(36).substr(2,8),o.set_func_names=function(t,e){var r,n;for(n in t.$infos?(r=t.$infos.__name__,t.$infos.__module__=e,t.$infos.__qualname__=r):(r=t.__name__,t.$infos={__name__:r,__module__:e,__qualname__:r}),t.__module__=e,t)"function"==typeof t[n]&&(t[n].$infos={__doc__:t[n].__doc__||"",__module__:e,__qualname__:r+"."+n,__name__:n},"classmethod"==t[n].$type&&(t[n].__class__=o.method))},"undefined"!=typeof Storage){o.has_local_storage=!1;try{localStorage&&(o.local_storage=localStorage,o.has_local_storage=!0)}catch(t){}o.has_session_storage=!1;try{sessionStorage&&(o.session_storage=sessionStorage,o.has_session_storage=!0)}catch(t){}}else o.has_local_storage=!1,o.has_session_storage=!1;o.globals=function(){return o.frames_stack[o.frames_stack.length-1][3]},o.scripts={},o.$options={},o.builtins_repr_check=function(t,e){var r=o.args("__repr__",1,{self:null},["self"],e,{},null,null).self,e=o.builtins;if(!e.isinstance(r,t))throw e.TypeError.$factory("descriptor '__repr__' requires a "+`'${t.$infos.__name__}' object but received a `+`'${o.class_name(r)}'`)},o.update_VFS=function(t){o.VFS=o.VFS||{};var e,r=t.$timestamp;for(e in void 0!==r&&delete t.$timestamp,t)o.VFS.hasOwnProperty(e)&&console.warn("Virtual File System: duplicate entry "+e),o.VFS[e]=t[e],o.VFS[e].timestamp=r},o.add_files=function(t){for(var e in o.files=o.files||{},t)o.files[e]=t[e]},o.python_to_js=function(t,e){return o.meta_path=o.$meta_path.slice(),o.use_VFS||o.meta_path.shift(),"(function() {\n var $locals_"+(e=void 0===e?"__main__":e)+" = {}\n"+__BRYTHON__.py2js(t,e,e).to_js()+"\n}())"},t.py=function(t){t=o.py2js(t[0],"script","script").to_js();o.set_import_paths(),new Function("$locals_script",t)({})}}(__BRYTHON__),__BRYTHON__.implementation=[3,10,0,"final",0],__BRYTHON__.__MAGIC__="3.10.0",__BRYTHON__.version_info=[3,10,0,"final",0],__BRYTHON__.compiled_date="2021-10-05 08:25:40.688608",__BRYTHON__.timestamp=1633415140688,__BRYTHON__.builtin_module_names=["_aio","_ajax","_base64","_binascii","_io_classes","_json","_jsre","_locale","_multiprocessing","_posixsubprocess","_profile","_sre_utils","_string","_strptime","_svg","_webcomponent","_webworker","_zlib_utils","array","bry_re","builtins","dis","encoding_cp932","hashlib","html_parser","long_int","marshal","math","modulefinder","posix","python_re","random","unicodedata"],function(F){function J(t){if(1==t.length)return t.charCodeAt(0);var e=65536;return e+=(1023&t.charCodeAt(0))<<10,e+=1023&t.charCodeAt(1)}function M(t){return t[t.length-1]}var P=["**","//",">>","<<"],R={"}":"{","]":"[",")":"("};function L(t,e,r,n,o){var s={type:t,string:e,start:r,end:n,line:o};return s[0]=t,s[1]=e,s[2]=r.slice(0,2),s[3]=n,s[4]=o,s}function q(t,e){var r=t.substr(e).search(/[\r\n]/);return-1==r?t.substr(e):t.substr(e,r)}function D(t,e,r,n,o,s){for(var a,_,i=e,l=[];;){if(e>=t.length||-1<(a="\r\n".indexOf(t[e])))return l.push(L("COMMENT",t.substring(i-1,e),[r,i-n],[r,e-n+1],s)),void 0!==a&&(_=1,"\r"==t[e]&&"\n"==t[e+1]?_++:void 0===t[e]&&(_=0),l.push(L(o,t.substr(e,_),[r,e-n+1],[r,e-n+_+1],s)),void 0===t[e]&&l.push(L("NEWLINE","\n",[r,e-n+1],[r,e-n+2],"")),e+=_),{t:l,pos:e};e++}}F.tokenizer=function*(t){var e,r,n,o,s,a,_,i,l,c,u,f,p,$,d,h,m,g=F.unicode_tables,b=/^(r|u|R|U|f|F|fr|Fr|fR|FR|rf|rF|Rf|RF)$/,y=/^(b|B|br|Br|bR|BR|rb|rB|Rb|RB)$/,v="line_start",x=0,B=!1,w=[],k=[],E=0,j=1;for(yield L("ENCODING","utf-8",[0,0],[0,0],"");x<t.length;)switch(e=t[x],55296<=(r=t.charCodeAt(x))&&r<=56319&&(r=J(t.substr(x,2)),e=t.substr(x,2),x++),x++,v){case"line_start":if(f=q(t,x-1),j=x,E++,d=/^\f?(\r\n|\r|\n)/.exec(t.substr(x-1))){yield L("NL",d[0],[E,0],[E,d[0].length],f),x+=d[0].length-1;continue}if("#"==e){for(var N of(p=D(t,x,E,j,"NL",f)).t)yield N;x=p.pos,v="line_start";continue}if(u=0," "==e?u=1:"\t"==e&&(u=8),u){for(;x<t.length;){if(" "==t[x])u++;else{if("\t"!=t[x])break;u+=8}x++}if(x==t.length){E--;break}if("#"==t[x]){for(N of(p=D(t,x+1,E,j,"NL",f)).t)yield N;x=p.pos;continue}if(d=/^\f?(\r\n|\r|\n)/.exec(t.substr(x))){yield L("NL","",[E,x-j+1],[E,x-j+1+d[0].length],f),x+=d[0].length;continue}if(0==w.length||u>M(w))w.push(u),yield L("INDENT","",[E,0],[E,u],f);else if(u<M(w)){var C=w.indexOf(u);if(-1==C){var S=Error("unindent does not match any outer indentation level");throw S.type="IndentationError",S.line_num=E,S}for(var O=w.length-1;C<O;O--)w.pop(),yield L("DEDENT","",[E,u],[E,u],f)}v=null}else{for(;0<w.length;)w.pop(),yield L("DEDENT","",[E,u],[E,u],f);v=null,x--}break;case null:switch(e){case'"':case"'":n=e,s=[E,x-j,j],(o=t[x]==e&&t[x+1]==e)&&(x+=2),B=!1,v="STRING",_=a="";break;case"#":for(N of(p=D(t,x,E,j,$=0<k.length?"NL":"NEWLINE",f)).t)yield N;x=p.pos,0==k.length?v="line_start":(v=null,E++,j=x+1,f=q(t,x));break;case"0":v="NUMBER",l=e,c="",t[x]&&-1<"xbo".indexOf(t[x].toLowerCase())&&(l+=t[x],c=t[x].toLowerCase(),x++);break;case".":if(t[x]&&g.Nd[J(t[x])])v="NUMBER",c="",l=e;else{for(var A=e;t[x]==e;)x++,A+=e;for(var I=x-j-A.length+1;3<=A.length;)yield L("OP","...",[E,I],[E,I+3],f),A=A.substr(3);for(O=0;O<A.length;O++)yield L("OP",".",[E,I],[E,I+1],f),I++}break;case"\\":(d=/^\f?(\r\n|\r|\n)/.exec(t.substr(x)))?(E++,j=(x+=d[0].length)+1,f=q(t,x)):yield L("ERRORTOKEN",e,[E,x-j],[E,x-j+1],f);break;case"\n":case"\r":yield L($=0<k.length?"NL":"NEWLINE",(d=/^\f?(\r\n|\r|\n)/.exec(t.substr(x-1)))[0],[E,x-j],[E,x-j+d[0].length],f),x+=d[0].length-1,"NEWLINE"==$?v="line_start":(E++,j=x+1,f=q(t,x));break;default:g.XID_Start[J(e)]?(v="NAME",i=e):g.Nd[J(e)]?(v="NUMBER",c="",l=e):-1<".,:;+-*/%~^|&=<>[](){}@".indexOf(e)?(A=e,-1<P.indexOf(e+t[x])&&(A=e+t[x],x++),("="==t[x]&&(2==A.length||-1<"+-*/%~^|&=<>@".indexOf(A))||"-"==e&&">"==t[x]||":"==e&&"="==t[x])&&(A+=t[x],x++),-1<"[({".indexOf(e)?k.push(e):-1<"])}".indexOf(e)&&(k&&M(k)==R[e]?k.pop():k.push(e)),yield L("OP",A,[E,x-j-A.length+1],[E,x-j+1],f)):"!"==e&&"="==t[x]?(yield L("OP","!=",[E,x-j],[E,x-j+2],f),x++):" "==e||"\t"==e||(yield L("ERRORTOKEN",e,[E,x-j],[E,x-j+1],f))}break;case"NAME":g.XID_Continue[J(e)]?i+=e:('"'==e||"'"==e)&&(b.exec(i)||y.exec(i))?(n=e,o=t[x]==n&&t[x+1]==n,B=!(v="STRING"),s=[E,x-j-(_=i).length,j],o&&(x+=2),a=""):(yield L("NAME",i,[E,x-j-i.length],[E,x-j],f),v=null,x--);break;case"STRING":switch(e){case n:B?a+=e:(h=f,E>s[0]&&(h=t.substring(s[2]-1,x+2)),o?e+t.substr(x,2)==n.repeat(3)?(m=_+n.repeat(3)+a+n.repeat(3),triple_quote_line=f,yield L("STRING",m,s,[E,x-j+3],h),x+=2,v=null):a+=e:(yield L("STRING",m=_+n+a+n,s,[E,x-j+1],h),v=null)),B=!1;break;case"\r":case"\n":if(!B&&!o){for(var T=s[1]+j-1,x=T;" "==t[x-1];)x--;for(;x<T;)console.log("yield ERRORTOKEN, escaped",B),yield L("ERRORTOKEN"," ",[E,x-j+1],[E,x-j+2],f),x++;yield L("ERRORTOKEN",n,[E,++x-j],[E,x-j+1],f),v=null,x++;break}a+=e,E++,j=x+1,"\r"==e&&"\n"==t[x]&&(a+=t[x],j++,x++),f=q(t,x),B=!1;break;case"\\":a+=e,B=!B;break;default:B=!1,a+=e}break;case"NUMBER":if(""==c&&g.Nd[J(e)])l+=e;else if("b"==c&&-1<"01".indexOf(e))l+=e;else if("o"==c&&-1<"01234567".indexOf(e))l+=e;else if("x"==c&&-1<"0123456789abcdef".indexOf(e.toLowerCase()))l+=e;else if("_"==e){if(l.endsWith("_"))throw SyntaxError("consecutive _ in number");l+=e}else!("."==e&&-1==l.indexOf(e)||"e"==e.toLowerCase()&&-1==l.toLowerCase().indexOf("e")||("+"==e||"-"==e)&&l.toLowerCase().endsWith("e"))?"j"==e.toLowerCase()?(yield L("NUMBER",l+=e,[E,x-j-l.length+1],[E,x-j+1],f),v=null):(yield L("NUMBER",l,[E,x-j-l.length],[E,x-j],f),v=null,x--):l+=e}if(0<k.length)throw SyntaxError("EOF in multi-line statement");switch(v){case"line_start":E++;break;case"NAME":yield L("NAME",i,[E,x-j-i.length+1],[E,x-j+1],f);break;case"NUMBER":yield L("NUMBER",l,[E,x-j-l.length+1],[E,x-j+1],f);break;case"STRING":throw SyntaxError(`unterminated string literal (detected at line ${E})`)}for(t.endsWith("\n")||" "==e||v==j||(yield L("NEWLINE","",[E,x-j+1],[E,x-j+2],""),E++);0<w.length;)w.pop(),yield L("DEDENT","",[E,0],[E,0],"");yield L("ENDMARKER","",[E,0],[E,0],"")}}(__BRYTHON__),function($B){var js,$pos,res,$op;Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.isSafeInteger=Number.isSafeInteger||function(t){return Number.isInteger(t)&&Math.abs(t)<=Number.MAX_SAFE_INTEGER};var _b_=$B.builtins,_window,_window=$B.isNode?{location:{href:"",origin:"",pathname:""}}:self;$B.parser={};var clone=$B.clone=function(t){var e,r={};for(e in t)r[e]=t[e];return r};$B.last=function(t){return void 0===t&&console.log($B.frames_stack.slice()),t[t.length-1]},$B.list2obj=function(t,e){var r={},n=t.length;for(void 0===e&&(e=!0);0<n--;)r[t[n]]=e;return r},$B.op2method={operations:{"**":"pow","//":"floordiv","<<":"lshift",">>":"rshift","+":"add","-":"sub","*":"mul","/":"truediv","%":"mod","@":"matmul"},augmented_assigns:{"//=":"ifloordiv",">>=":"irshift","<<=":"ilshift","**=":"ipow","+=":"iadd","-=":"isub","*=":"imul","/=":"itruediv","%=":"imod","&=":"iand","|=":"ior","^=":"ixor","@=":"imatmul"},binary:{"&":"and","|":"or","~":"invert","^":"xor"},comparisons:{"<":"lt",">":"gt","<=":"le",">=":"ge","==":"eq","!=":"ne"},boolean:{or:"or",and:"and",in:"in",not:"not",is:"is"},subset:function(){var t,e={},r=[];if("all"==arguments[0])(r=Object.keys($B.op2method)).splice(r.indexOf("subset"),1);else for(var n of arguments)r.push(n);for(t of r){var o,s=$B.op2method[t];if(void 0===s)throw Error(t);for(o in s)e[o]=s[o]}return e}};var $operators=$B.op2method.subset("all"),$augmented_assigns=$B.augmented_assigns=$B.op2method.augmented_assigns,noassign=$B.list2obj(["True","False","None","__debug__"]),$op_order=[["or"],["and"],["not"],["in","not_in"],["<","<=",">",">=","!=","==","is","is_not"],["|"],["^"],["&"],[">>","<<"],["+"],["-"],["*","@","/","//","%"],["unary_neg","unary_inv","unary_pos"],["**"]],$op_weight={},$weight=1,_tmp;for(_tmp of $op_order){for(var item of _tmp)$op_weight[item]=$weight;$weight++}var $loop_num=0,ast={arg:function(t){this.arg=t}},binary_ops={"+":"Add","-":"Sub","*":"Mult","/":"Div","//":"FloorDiv","%":"Mod","**":"Pow","<<":"LShift",">>":"RShift","|":"BitOr","^":"BitXor","&":"BitAnd","@":"MatMult"},key;for(key in binary_ops)eval("ast."+binary_ops[key]+" = function(){}");var boolean_ops={and:"And",or:"Or"},key;for(key in boolean_ops)eval("ast."+boolean_ops[key]+" = function(){}");var comparison_ops={"=":"Eq","!=":"NotEq","<":"Lt","<=":"LtE",">":"Gt",">=":"GtE",is:"Is",is_not:"IsNot",in:"In",not_in:"NotIn"},key,tok;for(key in comparison_ops)eval("ast."+comparison_ops[key]+" = function(){}");for(tok of["UAdd","USub","Not","Invert"])eval("ast."+tok+" = function(){}");function ast_or_obj(t){return t.ast?t.ast():t}ast.Assign=function(t,e){this.targets=t,this.value=e},ast.AsyncFunctionDef=function(t,e,r,n){this.name=t,this.args=e,this.body=r,this.decorator_lsit=n},ast.AugAssign=function(t,e,r){this.target=t,this.op=e,this.value=r},ast.BinaryOp=function(t,e,r){this.left=t,this.op=e,this.right=r},ast.BooleanOp=function(t,e,r){this.left=t,this.op=e,this.right=r},ast.Call=function(t,e,r){this.func=t,this.args=e,this.keywords=r},ast.ClassDef=function(t,e,r,n,o){this.name=t,this.bases=e,this.keywords=r,this.body=n,this.decorator_list=o},ast.Constant=function(t){this.value=t},ast.Del=function(){},ast.Delete=function(t){this.targets=t},ast.Expr=function(t){this.value=t},ast.FunctionDef=function(t,e,r,n){this.name=t,this.args=e,this.body=r,this.decorator_lsit=n},ast.keyword=function(t,e){this.arg=t,this.value=e},ast.Load=function(){},ast.Name=function(t,e){this.id=t,this.ctx=e||ast.Load},ast.Pass=function(){},ast.Return=function(){},ast.Slice=function(){},ast.Starred=function(t){this.value=t},ast.Store=function(){},ast.Subscript=function(t,e){this.value=t,this.slice=e,this.ctx=ast.Load},ast.UnaryOp=function(t,e){this.op=t,this.operand=e};var create_temp_name=$B.parser.create_temp_name=function(t){return(t||"$temp")+$loop_num++},replace_node=$B.parser.replace_node=function(t,e){var r=t.parent,n=t.parent.children.indexOf(t);(r.children[n]=e).parent=r,e.bindings=t.bindings},chained_comp_num=0,$_SyntaxError=$B.parser.$_SyntaxError=function(t,e,r){for(var n=t;"node"!==n.type;)n=n.parent;for(var o=n.node,s=o;void 0!==s.parent;)s=s.parent;var a=o.module||$get_module(t).module,_=s.src,o=o.line_num;if(void 0!==t.$pos&&($pos=t.$pos),_&&(o=_.substr(0,$pos).split("\n").length),s.line_info&&(o=s.line_info),void 0!==r&&"number"==typeof r)throw $B.$IndentationError(a,e,_,$pos,o,s);e&&Array.isArray(e)&&$B.$SyntaxError(a,e[0],_,$pos,o,s),"Triple string end not found"===e&&$B.$SyntaxError(a,"invalid syntax : triple string end not found",_,$pos,o,s);r="invalid syntax";e&&!e.startsWith("token ")&&(r+=" ("+e+")"),$B.$SyntaxError(a,r,_,$pos,o,s)};function check_assignment(e,t){var r,n="assign to",o=!1;t&&(r=t.once,n=t.action||n,o=void 0!==t.augmented&&t.augmented);var s=e,a=["assert","import","raise","return"];function _(t){$_SyntaxError(e,o?[`'${t}' is an illegal expression `+"for augmented assignment"]:[`cannot ${n} ${t}`])}for("delete"!=n&&a.push("del");s;){if(-1<a.indexOf(s.type))$_SyntaxError(e,"assign to "+s.type);else if("expr"==s.type){var i,l=s.tree[0];"op"==l.type?void 0!==$B.op2method.comparisons[s.tree[0].op]?_("comparison"):_("operator"):"call"==l.type?_("function call"):"id"==l.type?(i=l.value,-1<["None","True","False","__debug__"].indexOf(i)&&_(i),!0===noassign[i]&&_(keyword)):-1<["str","int","float","complex"].indexOf(l.type)?_("literal"):"ellipsis"==l.type?_("Ellipsis"):"list_or_tuple"==l.type&&"gen_expr"==l.real?_("generator expression"):"packed"==l.type&&check_assignment(l.tree[0],{action:n,once:!0})}else if("list_or_tuple"==s.type)for(var c of s.tree)check_assignment(c,{action:n,once:!0});else"comprehension"==s.type?_("comprehension"):"ternary"==s.type?_("conditional expression"):"op"==s.type&&_("operator");if(r)break;s=s.parent}}var $Node=$B.parser.$Node=function(t){this.type=t,this.children=[]};$Node.prototype.add=function(t){(this.children[this.children.length]=t).parent=this,t.module=this.module},$Node.prototype.ast=function(){if(this.C)this.C.tree[0].ast?console.log("ast for node",this,"\n",this.C.tree[0].ast()):console.log(this.C.tree[0].type,"(no ast)");else for(var t of this.children)t.ast()},$Node.prototype.insert=function(t,e){this.children.splice(t,0,e),e.parent=this,e.module=this.module},$Node.prototype.toString=function(){return"<object 'Node'>"},$Node.prototype.show=function(t){var e="";if("module"===this.type){for(var r of this.children)e+=r.show(t);return e}e+=" ".repeat(t=t||0),e+=this.C,0<this.children.length&&(e+="{"),e+="\n";for(r of this.children)e+=r.show(t+4);return 0<this.children.length&&(e+=" ".repeat(t),e+="}\n"),e},$Node.prototype.to_js=function(t){if(void 0!==this.js)return this.js;if(this.res=[],this.unbound=[],"module"===this.type){for(var e of this.children)this.res.push(e.to_js());return this.js=this.res.join(""),this.js}t=t||0;var r=this.C.to_js();if(r){this.res.push(" ".repeat(t)),this.res.push(r),0<this.children.length&&this.res.push("{"),this.res.push("\n");for(var e of this.children)this.res.push(e.to_js(t+4));0<this.children.length&&(this.res.push(" ".repeat(t)),this.res.push("}\n"))}return this.js=this.res.join(""),this.js},$Node.prototype.transform=function(t){if(this.has_await)return this.parent.insert(t,$NodeJS("var save_stack = $B.save_stack()")),this.C&&0<this.C.tree.length&&"return"==this.C.tree[0].type||this.parent.insert(t+2,$NodeJS("$B.restore_stack(save_stack, $locals)")),this.has_await=!1,1;if(this.has_yield&&!this.has_yield.transformed){var e=this.parent;if(this.has_yield.from){var r=new $Node,n=new $NodeCtx(r),o=new $ExprCtx(n,"js",!1),s=new $RawJSCtx(o,`$locals.$expr${this.has_yield.from_num}`),a=new $AssignCtx(o);new $ExprCtx(a).tree=this.has_yield.tree,e.insert(t,r);$get_node(this.has_yield);var _=this.has_yield.from_num;return e.insert(t+1,$NodeJS(`$B.$import("sys", [], {})
            var _i${_} = _b_.iter($locals.$expr${_}),
                _r${_}
            var $failed${_} = false
            try{
                var _y${_} = _b_.next(_i${_})
            }catch(_e){
                $B.set_exc(_e)
                $failed${_} = true
                $B.pmframe = $B.last($B.frames_stack)
                _e = $B.exception(_e)
                if(_e.__class__ === _b_.StopIteration){
                    var _r${_} = $B.$getattr(_e, "value")
                }else{
                    throw _e
                }
            }
            if(! $failed${_}){
                while(true){
                    var $failed1${_} = false
                    try{
                        $B.leave_frame({$locals})
                        var _s${_} = yield _y${_}
                        $B.frames_stack.push($top_frame)
                    }catch(_e){
                        if(_e.__class__ === _b_.GeneratorExit){
                            var $failed2${_} = false
                            try{
                                var _m${_} = $B.$getattr(_i${_}, "close")
                            }catch(_e1){
                                $failed2${_} = true
                                if(_e1.__class__ !== _b_.AttributeError){
                                    throw _e1
                                }
                            }
                            if(! $failed2${_}){
                                $B.$call(_m${_})()
                            }
                            throw _e
                        }else if($B.is_exc(_e, [_b_.BaseException])){
                            var _x = $B.$call($B.$getattr($locals.sys, "exc_info"))()
                            var $failed3${_} = false
                            try{
                                var _m${_} = $B.$getattr(_i${_}, "throw")
                            }catch(err){
                                $failed3${_} = true
                                if($B.is_exc(err, [_b_.AttributeError])){
                                    throw err
                                }
                            }
                            if(! $failed3${_}){
                                try{
                                    _y${_} = $B.$call(_m${_}).apply(null,
                                        _b_.list.$factory(_x${_}))
                                }catch(err){
                                    if($B.$is_exc(err, [_b_.StopIteration])){
                                        _r${_} = $B.$getattr(err, "value")
                                        break
                                    }
                                    throw err
                                }
                            }
                        }
                    }
                    if(! $failed1${_}){
                        try{
                            if(_s${_} === _b_.None){
                                _y${_} = _b_.next(_i${_})
                            }else{
                                _y${_} = $B.$call($B.$getattr(_i${_}, "send"))(_s${_})
                            }
                        }catch(err){
                            if($B.is_exc(err, [_b_.StopIteration])){
                                _r${_} = $B.$getattr(err, "value")
                                break
                            }
                            throw err
                        }
                    }
                }
            }`)),3}e.children.splice(t,1),"abstract_expr"===this.has_yield.tree[0].type?r=$NodeJS("var result = _b_.None"):(r=new $Node,n=new $NodeCtx(r),o=new $ExprCtx(n,"js",!1),s=new $RawJSCtx(o,"var result"),(a=new $AssignCtx(o)).tree[1]=this.has_yield.tree[0],s.parent=a),r.line_num=this.line_num,e.insert(t,r);var i=new $NodeJS("try");i.add($NodeJS("$B.leave_frame({$locals})")),i.add(this),e.insert(t+1,i),this.has_yield.to_js=function(){return"yield result"},this.has_yield.transformed=!0;for(var l=0;l<i.children.length;)l+=u=void 0===(u=i.children[l].transform(l))?1:u;r=$NodeJS(`catch(err${this.line_num})`);return r.add($NodeJS("$B.frames_stack.push($top_frame)")),r.add($NodeJS(`throw err${this.line_num}`)),e.insert(t+2,r),e.insert(t+3,$NodeJS("$B.frames_stack.push($top_frame)")),2}if("module"!==this.type){var c,e=this.C.tree[0];void 0===e&&console.log(this),void 0!==e.transform&&(c=e.transform(this,t));for(l=0;l<this.children.length;)l+=u=void 0===(u=this.children[l].transform(l))?1:u;return c=void 0===c?1:c}this.__doc__=$get_docstring(this);for(var u,l=0;l<this.children.length;)l+=u=void 0===(u=this.children[l].transform(l))?1:u},$Node.prototype.clone=function(){var t,e=new $Node(this.type);for(t in this)e[t]=this[t];return e},$Node.prototype.clone_tree=function(){var t,e,r=new $Node(this.type);for(t in this)r[t]=this[t];r.children=[];for(e of this.children)r.add(e.clone_tree());return r};var $AbstractExprCtx=$B.parser.$AbstractExprCtx=function(t,e){this.type="abstract_expr",this.with_commas=e,this.parent=t,this.tree=[],t.tree.push(this)};$AbstractExprCtx.prototype.toString=function(){return"(abstract_expr "+this.with_commas+") "+this.tree},$AbstractExprCtx.prototype.transition=function(t,e){var r=(o=this).packed,n=o.is_await;if(!o.assign)switch(t){case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"ellipsis":case"[":case"(":case"{":case".":case"not":case"lambda":case"yield":o.parent.tree.pop();var o,s=o.with_commas;(o=o.parent).packed=r,o.is_await=n}switch(t){case"await":return new $AwaitCtx(o);case"id":return new $IdCtx(new $ExprCtx(o,"id",s),e);case"str":return new $StringCtx(new $ExprCtx(o,"str",s),e);case"JoinedStr":return new JoinedStrCtx(new $ExprCtx(o,"str",s),e);case"bytes":return new $StringCtx(new $ExprCtx(o,"bytes",s),e);case"int":return new $NumberCtx("int",new $ExprCtx(o,"int",s),e);case"float":return new $NumberCtx("float",new $ExprCtx(o,"float",s),e);case"imaginary":return new $NumberCtx("imaginary",new $ExprCtx(o,"imaginary",s),e);case"(":return new $ListOrTupleCtx(new $ExprCtx(o,"tuple",s),"tuple");case"[":return new $ListOrTupleCtx(new $ExprCtx(o,"list",s),"list");case"{":return new $DictOrSetCtx(new $ExprCtx(o,"dict_or_set",s));case"ellipsis":return new $EllipsisCtx(new $ExprCtx(o,"ellipsis",s));case"not":return"op"==o.type&&"is"==o.op?(o.op="is_not",o):new $NotCtx(new $ExprCtx(o,"not",s));case"lambda":return new $LambdaCtx(new $ExprCtx(o,"lambda",s));case"op":var a=e;switch(a){case"*":o.parent.tree.pop();s=o.with_commas;return o=o.parent,new $PackedCtx(new $ExprCtx(o,"expr",s));case"-":case"~":case"+":o.parent.tree.pop();var _=new $UnaryCtx(o.parent,a);return _=new $OpCtx(_,"-"==a?"unary_neg":"+"==a?"unary_pos":"unary_inv"),new $AbstractExprCtx(_,!1);case"not":o.parent.tree.pop();s=o.with_commas;return o=o.parent,new $NotCtx(new $ExprCtx(o,"not",s));case"...":return new $EllipsisCtx(new $ExprCtx(o,"ellipsis",s))}$_SyntaxError(o,"token "+t+" after "+o);case"in":if("op"==o.parent.type&&"not"==o.parent.op)return o.parent.op="not_in",o;$_SyntaxError(o,"token "+t+" after "+o);case"=":"yield"==o.parent.type&&$_SyntaxError(o,["assignment to yield expression not possible"]),$_SyntaxError(o,"token "+t+" after "+o);case"yield":return new $AbstractExprCtx(new $YieldCtx(o),!0);case":":return"sub"==o.parent.type||"list_or_tuple"==o.parent.type&&"sub"==o.parent.parent.type?new $AbstractExprCtx(new $SliceCtx(o.parent),!1):$transition(o.parent,t,e);case")":case",":switch(o.parent.type){case"list_or_tuple":case"slice":case"call_arg":case"op":case"yield":break;case"match":if(","==t){o.parent.tree.pop();var i=new $ListOrTupleCtx(o.parent,"tuple");return i.implicit=!0,i.has_comma=!0,i.tree=[o],o.parent=i}case"annotation":$_SyntaxError(o,"empty annotation");default:$_SyntaxError(o,t)}}return $transition(o.parent,t,e)},$AbstractExprCtx.prototype.to_js=function(){return this.js_processed=!0,"list"===this.type?"["+$to_js(this.tree)+"]":$to_js(this.tree)};var $AliasCtx=$B.parser.$AliasCtx=function(t){this.type="ctx_manager_alias",this.parent=t,this.tree=[],t.tree[t.tree.length-1].alias=this};$AliasCtx.prototype.transition=function(t,e){var r=this;switch(t){case",":case":":return r.parent.set_alias(r.tree[0].tree[0]),$transition(r.parent,t,e)}$_SyntaxError(r,"token "+t+" after "+r)};var $AnnotationCtx=$B.parser.$AnnotationCtx=function(t){this.type="annotation",this.parent=t,this.tree=[],t.annotation=this;var e,r=$get_scope(t);void 0===r.binding.__annotations__&&(r.binding.__annotations__=!0,t.create_annotations=!0),"def"==r.ntype&&t.tree&&0<t.tree.length&&"id"==t.tree[0].type&&(e=t.tree[0].value,r.globals&&-1<r.globals.has(e)&&$_SyntaxError(t,["annotated name '"+e+"' can't be global"]),r.annotations=r.annotations||new Set,r.annotations.add(e),t.$in_parens||(r.binding=r.binding||{},r.binding[e]=!0))};$AnnotationCtx.prototype.toString=function(){return"(annotation) "+this.tree},$AnnotationCtx.prototype.transition=function(t,e){var r=this;return"eol"==t&&1==r.tree.length&&0==r.tree[0].tree.length?$_SyntaxError(r,"empty annotation"):":"==t&&"def"!=r.parent.type?$_SyntaxError(r,"more than one annotation"):"augm_assign"==t?$_SyntaxError(r,"augmented assign as annotation"):"op"==t&&$_SyntaxError(r,"operator as annotation"),$transition(r.parent,t)},$AnnotationCtx.prototype.to_js=function(){return"expr"==this.tree[0].type&&"id"==this.tree[0].tree[0].type?`"${this.tree[0].tree[0].value}"`:$to_js(this.tree)};var $AssertCtx=$B.parser.$AssertCtx=function(t){this.type="assert",this.parent=t,this.tree=[],t.tree[t.tree.length]=this};function make_assign(t,e,r){var n=new $Node;n.id=r;r=new $NodeCtx(n),r=new $ExprCtx(r,"left",!0);return r.tree=t.tree,new $AssignCtx(r).tree[1]=new $JSCode(e),n}$AssertCtx.prototype.toString=function(){return"(assert) "+this.tree},$AssertCtx.prototype.transition=function(t,e){return","==t?(1<this.tree.length&&$_SyntaxError(this,"too many commas after assert"),new $AbstractExprCtx(this,!1)):"eol"==t?$transition(this.parent,t):void $_SyntaxError(this,t)},$AssertCtx.prototype.transform=function(t,e){var r,n,o;n=1<this.tree.length?(r=this.tree[0],this.tree[1]):(r=this.tree[0],null),"expr"==this.tree[0].type&&"tuple"==this.tree[0].name&&1<this.tree[0].tree[0].tree.length&&(s=_b_.SyntaxWarning.$factory("assertion is always true, perhaps remove parentheses?"),o=$get_module(this),$B.$syntax_err_line(s,o.filename,o.src,$pos,$get_node(this).line_num),$B.imported._warnings.warn(s));var s=new $ConditionCtx(t.C,"if");new $NotCtx(s).tree=[r],t.C=s;s="throw _b_.AssertionError.$factory()";null!==n&&(s="throw _b_.AssertionError.$factory(_b_.str.$factory("+n.to_js()+"))"),t.add($NodeJS(s))};var $AssignCtx=$B.parser.$AssignCtx=function(t,e){check_assignment(t),"expr"==t.type&&"lambda"==t.tree[0].type&&$_SyntaxError(t,["cannot assign to lambda"]),this.type="assign",t.parent.tree.pop(),t.parent.tree.push(this),this.parent=t.parent,this.tree=[t];var r,n,o=$get_scope(this);if("list_or_tuple"==t.type||"expr"==t.type&&"list_or_tuple"==t.tree[0].type)(t="expr"==t.type?t.tree[0]:t).bind_ids(o);else if("assign"==t.type){check_assignment(t.tree[1]);for(var s of t.tree)"id"==(r=s.tree[0]).type&&$bind(r.value,o,this)}else(r=t.tree[0])&&"id"==r.type?(r.value,r.bound=!0,o.globals&&o.globals.has(r.value)?(n=$get_module(t),r.global_module=n.module,$bind(r.value,n,this)):($get_node(this).bound_before=Object.keys(o.binding),$bind(r.value,o,this))):"ellipsis"==r.type?$_SyntaxError(t,["cannot assign to Ellipsis"]):"unary"==r.type?$_SyntaxError(t,["cannot assign to operator"]):"packed"==r.type&&("id"==r.tree[0].name&&(n=r.tree[0].tree[0].value,-1<["None","True","False","__debug__"].indexOf(n)&&$_SyntaxError(t,["cannot assign to "+n])),void 0===r.parent.in_tuple&&$_SyntaxError(t,["starred assignment target must be in a list or tuple"]))};$AssignCtx.prototype.ast=function(){for(var t,e=ast_or_obj(this.tree[1]),r=[],n=this.tree[0];"assign"==n.type;)r.splice(0,0,ast_or_obj(n.tree[1])),n=n.tree[0];r.splice(0,0,ast_or_obj(n.tree[0]));for(t of r)t.ctx=ast.Store;return new ast.Assign(r,e)},$AssignCtx.prototype.guess_type=function(){},$AssignCtx.prototype.toString=function(){return"(assign) "+this.tree[0]+"="+this.tree[1]},$AssignCtx.prototype.transition=function(t,e){var r=this;if("eol"==t)return"abstract_expr"==r.tree[1].type&&$_SyntaxError(r,"token "+t+" after "+r),r.guess_type(),$transition(r.parent,"eol");$_SyntaxError(r,"token "+t+" after "+r)},$AssignCtx.prototype.transform=function(n,o){for(var s=$get_scope(this),t=this.tree[0],e=this.tree[1],r=[];"assign"==t.type;)r.push(t.tree[1]),t=t.tree[0];if(0<r.length){r.push(t);var a=n.C;a.tree=[];var _,i=new $RawJSCtx(a,"var $temp"+$loop_num);i.tree=a.tree,new $AssignCtx(i).tree[1]=e;for(_ of r){"expr"==_.type&&"list_or_tuple"==_.tree[0].type&&"tuple"==_.tree[0].real&&1==_.tree[0].tree.length&&(_=_.tree[0].tree[0]);var l=new $Node,c=new $NodeCtx(l);l.locals=n.locals,l.line_num=n.line_num,n.parent.insert(o+1,l),_.parent=c;var u=new $AssignCtx(_);new $RawJSCtx(u,"$temp"+$loop_num)}return $loop_num++,void(this.tree[0]=t)}var f,p=null;switch(t.type){case"expr":1<t.tree.length?p=t.tree:"list_or_tuple"==t.tree[0].type||"target_list"==t.tree[0].type?p=t.tree[0].tree:"id"==t.tree[0].type&&(f=t.tree[0].value,s.globals&&s.globals.has(f)||(t.tree[0].bound=!0));break;case"target_list":case"list_or_tuple":p=t.tree}e=this.tree[1];if(null!==p){i=null;if(null!==(i="list"==e.type||"tuple"==e.type||"expr"==e.type&&1<e.tree.length?e.tree:i)){if(i.length>p.length)throw Error("ValueError : too many values to unpack (expected "+p.length+")");if(i.length<p.length)throw Error("ValueError : need more than "+i.length+" to unpack");var $=[],d=0;(l=new $Node).line_num=n.line_num,new $NodeJSCtx(l,"void(0)"),$[d++]=l;var h,m="$temp"+$loop_num;(l=new $Node).line_num=n.line_num,new $NodeJSCtx(l,"var "+m+" = [], $pos = 0"),$[d++]=l;for(h of i){var g=m+"[$pos++] = "+h.to_js();(l=new $Node).line_num=n.line_num,new $NodeJSCtx(l,g),$[d++]=l}var b,y=$get_node(this);for(b of p){(l=new $Node).id=y.module,l.locals=y.locals,l.line_num=n.line_num;var v=new $NodeCtx(l);b.parent=v,(u=new $AssignCtx(b,!1)).tree[1]=new $JSCode(m+"["+x+"]"),$[d++]=l}n.parent.children.splice(o,1);for(var x=$.length-1;0<=x;x--)n.parent.insert(o,$[x]);$loop_num++}else{n.parent.children.splice(o,1);var i=create_temp_name("$right"),B=create_temp_name("$rlist");(l=$NodeJS("var "+i+" = $B.$getattr($B.$iter("+e.to_js()+'), "__next__");')).line_num=n.line_num,n.parent.insert(o++,l),n.parent.insert(o++,$NodeJS("var "+B+"=[], $pos=0;while(1){try{"+B+"[$pos++] = "+i+"()}catch(err){break}}"));for(var w=null,k=p.length,x=0;x<p.length;x++){var E=p[x];if("packed"==E.type||"expr"==E.type&&"packed"==E.tree[0].type){w=x,k--;break}}n.parent.insert(o++,$NodeJS("if("+B+".length<"+k+'){throw _b_.ValueError.$factory("need more than " +'+B+'.length + " value" + ('+B+'.length > 1 ? "s" : "") + " to unpack")}')),null==w&&n.parent.insert(o++,$NodeJS("if("+B+".length>"+k+'){throw _b_.ValueError.$factory("too many values to unpack (expected '+p.length+')")}')),p.forEach(function(t,e){var r=new $Node;r.id=s.id,r.line_num=n.line_num,n.parent.insert(o++,r);r=new $NodeCtx(r);t.parent=r,t.in_tuple=!0;r=new $AssignCtx(t,!1),t=B;t+=null==w||e<w?"["+e+"]":e==w?".slice("+e+","+B+".length-"+(p.length-e-1)+")":"["+B+".length-"+(p.length-e)+"]",r.tree[1]=new $JSCode(t)}),$loop_num++}}else t.tree[0].bound&&"expr"==e.type&&"int"==e.name&&(n.bindings=n.bindings||{},n.bindings[t.tree[0].value]="int")},$AssignCtx.prototype.to_js=function(){if(this.js_processed=!0,"call"==this.parent.type)return'{$nat:"kw",name:'+this.tree[0].to_js()+",value:"+this.tree[1].to_js()+"}";for(var t=this.tree[0];"expr"==t.type&&!t.assign;)t=t.tree[0];var e=this.tree[1];if("attribute"==t.type||"sub"==t.type){var r=e.to_js(),n="",o="",s="$temp"+$loop_num,o="expr"==e.type&&void 0!==e.tree[0]&&"call"==e.tree[0].type&&("eval"==e.tree[0].func.value||"exec"==e.tree[0].func.value)||"expr"==e.type&&void 0!==e.tree[0]&&"sub"==e.tree[0].type?(n+="var "+s+" = "+r+";\n",s):r;if("attribute"==t.type){$loop_num++,t.func="setattr";var a=t.to_js();return(t.func="getattr",t.assign_self)?n+a[0]+o+a[1]+o+")":(n=(n+=a).substr(0,n.length-1))+","+o+");_b_.None;"}if("sub"==t.type){var _,a=t.value.to_js(),o="$temp"+$loop_num;"id"==t.value.type&&(_=$get_node(this).locals[t.value.value]),$loop_num++;n="var "+o+" = "+a+"\n";return("list"!==_&&(n+="if(Array.isArray("+o+") && !"+o+".__class__){"),1==t.tree.length?n+="$B.set_list_key("+o+","+(t.tree[0].to_js()+""||"null")+","+e.to_js()+")":2==t.tree.length?n+="$B.set_list_slice("+o+","+(t.tree[0].to_js()+""||"null")+","+(t.tree[1].to_js()+""||"null")+","+e.to_js()+")":3==t.tree.length&&(n+="$B.set_list_slice_step("+o+","+(t.tree[0].to_js()+""||"null")+","+(t.tree[1].to_js()+""||"null")+","+(t.tree[2].to_js()+""||"null")+","+e.to_js()+")"),"list"==_)?n:(n+="\n}else{",1==t.tree.length?n+="$B.$setitem("+t.value.to_js()+","+t.tree[0].to_js()+","+r+")};_b_.None;":(t.func="setitem",n=(n+=t.to_js()).substr(0,n.length-1),t.func="getitem",n+=","+r+")};_b_.None;"),n)}}return t.to_js()+" = "+e.to_js()};var $AsyncCtx=$B.parser.$AsyncCtx=function(t){this.type="async",(this.parent=t).async=!0};$AsyncCtx.prototype.toString=function(){return"(async)"},$AsyncCtx.prototype.transition=function(t,e){var r=this;if("def"==t)return $transition(r.parent,t,e);if("for"==t||"with"==t){var n=$get_scope(r).ntype;"def"!==n&&"generator"!=n&&$_SyntaxError(r,["'async "+t+"' outside async function"]);e=$transition(r.parent,t,e);return e.parent.async=!0,e}$_SyntaxError(r,"token "+t+" after "+r)};var $AttrCtx=$B.parser.$AttrCtx=function(t){this.type="attribute",this.value=t.tree[0],(this.parent=t).tree.pop(),(t.tree[t.tree.length]=this).tree=[],this.func="getattr"};$AttrCtx.prototype.toString=function(){return"(attr) "+this.value+"."+this.name},$AttrCtx.prototype.transition=function(t,e){var r=this;if("id"===t){e=e;return"__debug__"==e?$_SyntaxError(r,["cannot assign to __debug__"]):!0===noassign[e]&&$_SyntaxError(r,`'${e}' cannot be an attribute`),e=$mangle(e,r),r.name=e,r.parent}$_SyntaxError(r,t)},$AttrCtx.prototype.to_js=function(){this.js_processed=!0;var t=this.value.to_js();if("setattr"==this.func&&"id"==this.value.type){var e=$get_scope(this),r=e.parent;if("def"==e.ntype&&"class"==r.ntype){e=e.C.tree[0].positional_list;if(this.value.value==e[0]&&r.C&&void 0===r.C.tree[0].args)return this.assign_self=!0,[t+".__class__ && "+t+".__dict__ && !"+t+".__class__.$has_setattr && ! "+t+".$is_class ? _b_.dict.$setitem("+t+".__dict__, '"+this.name+"', ",") : $B.$setattr("+t+', "'+this.name+'", ']}}return"setattr"==this.func?"$B.$setattr("+t+',"'+this.name+'")':"$B.$getattr("+t+',"'+this.name+'")'};var $AugmentedAssignCtx=$B.parser.$AugmentedAssignCtx=function(t,e){check_assignment(t,{augmented:!0}),this.type="augm_assign",this.C=t,this.parent=t.parent,t.parent.tree.pop(),(t.parent.tree[t.parent.tree.length]=this).op=e,this.tree=[t];var r=this.scope=$get_scope(this);"expr"!=t.type||"id"==(e=t.tree[0]).type&&(t=e.value,"def"!=r.ntype&&"generator"!=r.ntype||void 0!==r.binding[t]||void 0!==r.globals&&r.globals.has(t)||(e.unbound=!0)),$get_node(this).bound_before=Object.keys(r.binding),this.module=r.module};$AugmentedAssignCtx.prototype.toString=function(){return"(augm assign) "+this.tree},$AugmentedAssignCtx.prototype.transition=function(t,e){var r=this;if("eol"==t)return"abstract_expr"==r.tree[1].type&&$_SyntaxError(r,"token "+t+" after "+r),$transition(r.parent,"eol");$_SyntaxError(r,"token "+t+" after "+r)},$AugmentedAssignCtx.prototype.transform=function(t,e){var r=this.C,n=this.op,o="__"+$operators[n]+"__",s=0,a=t.parent,_=t.line_num,i=!1;a.children.splice(e,1);var l,c,u,f="expr"==this.tree[0].type&&"id"==this.tree[0].tree[0].type;f&&(B="int"==this.tree[0].tree[0].bindingType(this.scope),this.tree[0].tree[0].augm_assign=!0,0<$B.debug&&(p=$NodeJS("if("+this.tree[0].to_js()+" === undefined){throw _b_.NameError.$factory(\"name '"+this.tree[0].tree[0].value+"' is not defined\")}"),t.parent.insert(e,p),s++),l=this.tree[0].tree[0].value,c=void 0!==this.scope.binding[l],u=this.tree[0].tree[0].unbound);var p="expr"==this.tree[1].type&&"int"==this.tree[1].tree[0].type;p&&(d=this.tree[1].tree[0].value,p=($=parseInt(d[1],d[0]))>$B.min_int&&$<$B.max_int);var $,d=p?"("+this.tree[1].tree[0].to_js()+")":"$temp";p||((b=new $Node).line_num=_,i=!0,new $NodeJSCtx(b,"var $temp,$left;"),a.insert(e,b),s++,(b=new $Node).id=this.scope.id,$=new $NodeCtx(b),x=new $ExprCtx($,"js",!1),$=new $RawJSCtx(x,"$temp"),(x=new $AssignCtx(x)).tree[1]=this.tree[1],$.parent=x,a.insert(e+s,b),s++);var h="";switch(n){case"+=":case"-=":case"*=":case"/=":if(f){var m=this.scope,g="$local_"+m.module.replace(/\./g,"_");switch(m.ntype){case"module":h=g;break;case"def":case"generator":h=m.globals&&m.globals.has(r.tree[0].value)?g:"$locals";break;case"class":var b=new $Node;i||(b.line_num=_,i=!0),new $NodeJSCtx(b,"var $left = "+r.to_js()),a.insert(e+s,b),s++}}}var y,v,x=r.tree[0].to_js();if("id"==r.tree[0].type&&(y=r.tree[0].firstBindingScopeId(),v=r.tree[0].value,x=y?"$locals_"+y.replace(/\./g,"_")+'["'+v+'"]':'$locals["'+v+'"]'),B&&p&&"//="!=n)return a.insert(e+s,$NodeJS(x+" "+n+" "+d)),s++;var h=h&&!r.tree[0].unknown_binding&&!u,B=n.charAt(0);h&&(a.insert(e+s,$NodeJS("$left = "+x)),s++,b=new $Node,i||(b.line_num=_,i=!0),N=p?"if(":'if(typeof $temp.valueOf() == "number" && ',N+="$left.constructor === Number",N+=" && Number.isSafeInteger($left"+B+d+")){"+(p?"(":'(typeof $temp == "number" && ')+'typeof $left == "number") ? ',N+=x+n+d,new $NodeJSCtx(b,N+=" : "+x+" = new Number($left"+B+(p?d:d+".valueOf()")+")}"),a.insert(e+s,b),s++,"+="==n&&(a.insert(e+s,$NodeJS(N='else if(typeof $left == "string" && typeof $temp == "string"){'+x+" = $left + $temp}")),s++));if("sub"==r.tree[0].type&&("+="==n||"-="==n||"*="==n)&&1==r.tree[0].tree.length){var w="$B.augm_item_"+{"+=":"add","-=":"sub","*=":"mul"}[n]+"("+r.tree[0].value.to_js()+","+r.tree[0].tree[0].to_js()+","+d+");_b_.None;",b=new $Node;return i||(b.line_num=_,i=!0),new $NodeJSCtx(b,w),a.insert(e+s,b),void s++}p=$NodeJS(h?"else":"if(true)"),a.insert(e+s,p),s++;w=$NodeJS("var iadd = $B.$getattr("+r.to_js()+',"'+o+'", null)');i||(w.line_num=_,i=!0),p.add(w);o=$NodeJS("if(iadd === null)");p.add(o);w=new $Node;w.id=this.scope.id,w.line_num=t.line_num,o.add(w);var w=new $NodeCtx(w),k=new $ExprCtx(w,"clone",!1);if(u)new $RawJSCtx(k,x);else{k.tree=r.tree;for(var E of k.tree)E.parent=k}w=new $AssignCtx(k),n=new $OpCtx(k,n.substr(0,n.length-1));n.parent=w,new $RawJSCtx(n,d),w.tree.push(n),k.parent.tree.pop(),k.parent.tree.push(w);w=$NodeJS("else");p.add(w);p=new $Node;p.line_num=t.line_num,w.add(p);var p=new $NodeCtx(p),j=new $ExprCtx(p,"clone",!1);if(u)new $RawJSCtx(j,N=y?x:'$B.$local_search("'+v+'");'+x);else{j.tree=r.tree;for(var E of j.tree)E.parent=j}var N=new $AssignCtx(j);return N.tree.push($NodeJS("iadd("+d+")")),j.parent.tree.pop(),j.parent.tree.push(N),!f||c||this.scope.blurred||(this.scope.binding[l]=void 0),s},$AugmentedAssignCtx.prototype.to_js=function(){return""};var $AwaitCtx=$B.parser.$AwaitCtx=function(t){this.type="await",this.parent=t,this.tree=[],t.tree.push(this);for(var e=t;e;)"list_or_tuple"==e.type&&(e.is_await=!0),e=e.parent};$AwaitCtx.prototype.transition=function(t,e){return this.parent.is_await=!0,$transition(this.parent,t,e)},$AwaitCtx.prototype.to_js=function(){return"var save_stack = $B.save_stack();try{await ($B.promise("+$to_js(this.tree)+"))}catch(err){$B.restore_stack(save_stack, $locals);throw err};$B.restore_stack(save_stack, $locals); "};var $BodyCtx=$B.parser.$BodyCtx=function(t){for(var e=t.parent;"node"!==e.type;)e=e.parent;var r=e.node,t=new $Node;return t.is_body_node=!0,t.line_num=r.line_num,r.insert(0,t),new $NodeCtx(t)},set_loop_context=$B.parser.set_loop_context=function(t,e){for(var r=t;"node"!==r.type;)r=r.parent;for(var n=r.node.parent,o=!1;;)if("module"==n.type)$_SyntaxError(t,e+" outside of a loop");else{var s=n.C.tree[0];if("condition"==s.type&&"while"==s.token){(this.loop_ctx=s)["has_"+e]=!0;break}switch(s.type){case"for":o=(this.loop_ctx=s)["has_"+e]=!0;break;case"def":case"generator":case"class":$_SyntaxError(t,e+" outside of a loop");default:n=n.parent}if(o)break}},$BreakCtx=$B.parser.$BreakCtx=function(t){this.type="break",(this.parent=t).tree[t.tree.length]=this,set_loop_context.apply(this,[t,"break"])};$BreakCtx.prototype.toString=function(){return"break "},$BreakCtx.prototype.transition=function(t,e){if("eol"==t)return $transition(this.parent,"eol");$_SyntaxError(this,t)},$BreakCtx.prototype.to_js=function(){this.js_processed=!0;var t=";$locals_"+$get_scope(this).id.replace(/\./g,"_")+'["$no_break'+this.loop_ctx.loop_num+'"] = false';return"asyncfor"!=this.loop_ctx.type?t+=";break":t+=";throw _b_.StopIteration.$factory("+this.loop_ctx.loop_num+")",t};var $CallArgCtx=$B.parser.$CallArgCtx=function(t){this.type="call_arg",this.parent=t,this.start=$pos,this.tree=[],t.tree.push(this),this.expect="id"};$CallArgCtx.prototype.toString=function(){return"call_arg "+this.tree},$CallArgCtx.prototype.transition=function(t,e){var r=this;switch(t){case"await":case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"ellipsis":case"not":case"lambda":if("id"!=r.expect)break;r.expect=",";var n=new $AbstractExprCtx(r,!1);return $transition(n,t,e);case"=":if(","==r.expect)return new $ExprCtx(new $KwArgCtx(r),"kw_value",!1);break;case"for":1<this.parent.tree.length&&$_SyntaxError(r,"non-parenthesized generator expression");var o=new $ListOrTupleCtx(r,"gen_expr");o.vars=r.vars,o.locals=r.locals,o.intervals=[r.start],r.tree.pop(),o.expression=r.tree,r.tree=[o],o.tree=[];var o=new $ComprehensionCtx(o);return new $TargetListCtx(new $CompForCtx(o));case"op":if("id"==r.expect){var s=e;switch(r.expect=",",s){case"+":case"-":case"~":return $transition(new $AbstractExprCtx(r,!1),t,s);case"*":return new $StarArgCtx(r);case"**":return new $DoubleStarArgCtx(r)}}$_SyntaxError(r,"token "+t+" after "+r);case")":return r.parent.kwargs&&$B.last(r.parent.tree).tree[0]&&-1==["kwarg","star_arg","double_star_arg"].indexOf($B.last(r.parent.tree).tree[0].type)&&$_SyntaxError(r,["non-keyword argument after keyword argument"]),0<r.tree.length&&("list_or_tuple"==(o=r.tree[r.tree.length-1]).type&&"gen_expr"==o.real&&o.intervals.push($pos)),$transition(r.parent,t);case":":if(","==r.expect&&"lambda"==r.parent.parent.type)return $transition(r.parent.parent,t);break;case",":if(","==r.expect)return r.parent.kwargs&&-1==["kwarg","star_arg","double_star_arg"].indexOf($B.last(r.parent.tree).tree[0].type)&&$_SyntaxError(r,["non-keyword argument after keyword argument"]),$transition(r.parent,t,e)}$_SyntaxError(r,"token "+t+" after "+r)},$CallArgCtx.prototype.to_js=function(){return this.js_processed=!0,$to_js(this.tree)};var $CallCtx=$B.parser.$CallCtx=function(t){this.type="call",this.func=t.tree[0],void 0!==this.func&&(this.func.parent=this),"class"!=(this.parent=t).type?(t.tree.pop(),t.tree[t.tree.length]=this):t.args=this,this.expect="id",this.tree=[],this.start=$pos,this.func&&"attribute"==this.func.type&&"wait"==this.func.name&&"id"==this.func.value.type&&"time"==this.func.value.value&&(console.log("call",this.func),$get_node(this).blocking={type:"wait",call:this}),this.func&&"input"==this.func.value&&($get_node(this).blocking={type:"input"})};$CallCtx.prototype.ast=function(){var t,e,r,n=new ast.Call(ast_or_obj(this.func),[],[]);console.log("call ast",this.tree);for(t of this.tree)"double_star_arg"!=t.type?void 0!==(r=t.tree[0])&&("kwarg"==r.type?n.keywords.push(new ast.keyword(r.tree[0].value,ast_or_obj(r.tree[1]))):"star_arg"==r.type?((e=new ast.Starred(ast_or_obj(r.tree[0]))).ctx=ast.Load,n.args.push(e)):n.args.push(ast_or_obj(r))):(r=t.tree[0].tree[0].value,delete(r=new ast.keyword(null,r)).arg,n.keywords.push(r));return n},$CallCtx.prototype.toString=function(){return"(call) "+this.func+"("+this.tree+")"},$CallCtx.prototype.transition=function(t,e){var r=this;switch(t){case",":return"id"==r.expect&&$_SyntaxError(r,t),r.expect="id",r;case"await":case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":case"ellipsis":return r.expect=",",$transition(new $CallArgCtx(r),t,e);case")":return r.end=$pos,r.parent;case"op":switch(r.expect=",",e){case"-":case"~":case"+":return r.expect=",",$transition(new $CallArgCtx(r),t,e);case"*":return r.has_star=!0,new $StarArgCtx(r);case"**":return r.has_dstar=!0,new $DoubleStarArgCtx(r)}$_SyntaxError(r,t);case"yield":$_SyntaxError(r,t)}return $transition(r.parent,t,e)},$CallCtx.prototype.to_js=function(){this.js_processed=!0,0<this.tree.length&&0==this.tree[this.tree.length-1].tree.length&&this.tree.pop();var t=this.func.to_js();if(void 0!==this.func){if("classmethod"===this.func.value)return"_b_.classmethod.$factory("+$to_js(this.tree)+")";if("unary"==this.func.type){var e="$B.$getattr("+$to_js(this.tree);switch(this.func.op){case"+":return e+',"__pos__")()';case"-":return e+',"__neg__")()';case"~":return e+',"__invert__")()'}}var r,n=[],o=[],s=!1,a=[];for(r of this.tree)switch(r.type){case"star_arg":s=!0,n.push([r.tree[0].tree[0].to_js(),"*"]);break;case"double_star_arg":a.push(r.tree[0].tree[0].to_js());break;case"id":n.push([r.to_js(),"s"]);break;default:switch(r.tree[0].type){case"expr":n.push([r.to_js(),"s"]);break;case"kwarg":o.push(r.tree[0].tree[0].value+":"+r.tree[0].tree[1].to_js());break;case"list_or_tuple":case"op":n.push([r.to_js(),"s"]);break;case"star_arg":s=!0,n.push([r.tree[0].tree[0].to_js(),"*"]);break;case"double_star_arg":a.push(r.tree[0].tree[0].to_js());break;default:n.push([r.to_js(),"s"])}}if(s){for(var _=[],i=0,l=n.length;i<l;i++)if("*"==(r=n[i])[1])_.push("_b_.list.$factory("+r[0]+")");else{var c=[n[i][0]];for(i++;i<l&&"s"==n[i][1];)c.push(n[i][0]),i++;i--,_.push("["+c.join(",")+"]")}for(var u=_[0],i=1;i<_.length;i++)u+=".concat("+_[i]+")"}else{for(i=0,l=n.length;i<l;i++)n[i]=n[i][0];u=n.join(", ")}var f="{"+o.join(", ")+"}",f=a.length?'{$nat:"kw",kw:['+f+","+a.join(", ")+"]}":"{}"!=f?'{$nat:"kw",kw:'+f+"}":"";s&&f?u+=".concat(["+f+"])":u&&f?u+=","+f:u=u||f;f="$B.$call("+t+")"+(u=s?".apply(null,"+u+")":"("+u+")");if(-1<this.tree.length&&"id"==this.func.type&&this.func.is_builtin)if(void 0!==$B.builtin_funcs[this.func.value])return-1==["complex","bytes","bytearray","object","memoryview","int","float","str","list","tuple","dict","set","frozenset","range","slice","zip","bool","type","classmethod","staticmethod","enumerate","reversed","property","$$super","zip","map","filter"].indexOf(this.func.value)?t+u:t+".$factory"+u;return f}};var $CaseCtx=$B.parser.$CaseCtx=function(t){this.type="case",t.tree=[this],this.parent=t,this.tree=[],this.expect="as"};$CaseCtx.prototype.set_alias=function(t){this.alias=t},$CaseCtx.prototype.transition=function(t,e){var r,n=this;switch(t){case"as":return n.expect=":",new $AbstractExprCtx(new $AliasCtx(n));case":":switch((r=function t(e){var r;if("capture_pattern"==e.type)return e.tree[0];if("or_pattern"==e.type){for(var n of e.tree)if(r=t(n))return r}else if("sequence_pattern"==e.type&&"("==e.token&&1==e.tree.length&&(r=t(e.tree[0])))return r;return!1}(this.tree[0]))&&($get_node(n).parent.irrefutable=r),n.expect){case"id":case"as":case":":var o=$B.last(n.tree);return o&&"sequence_pattern"==o.type&&remove_empty_pattern(o),$BodyCtx(n)}break;case"op":if("|"==e)return new $PatternCtx(new $PatternOrCtx(n));$_SyntaxError(n,["expected :"]);case",":if(":"==n.expect||"as"==n.expect)return new $PatternCtx(new $PatternSequenceCtx(n));case"if":return n.has_guard=!0,new $AbstractExprCtx(new $ConditionCtx(n,t),!1);default:$_SyntaxError(n,["expected :"])}},$CaseCtx.prototype.to_js=function(){var t,e=$get_node(this),r=0==e.parent.children.indexOf(e)?"if":"else if";return this.has_guard&&(t=(t=this.tree.pop().to_js().substr(3)).substr(0,t.length-1)),r+'(($locals.$line_info="'+e.line_num+","+e.module+'") && $B.pattern_match(subject, '+$to_js(this.tree)+(this.alias?`, {as: "${this.alias.value}"}`:"")+")"+(this.has_guard?" && "+t:"")+")"};var $ClassCtx=$B.parser.$ClassCtx=function(t){this.type="class",this.parent=t,this.tree=[],(t.tree[t.tree.length]=this).expect="id";t=this.scope=$get_scope(this);this.parent.node.parent_block=t,this.parent.node.bound={},this.parent.node.binding={__annotations__:!0}};$ClassCtx.prototype.ast=function(){var t=get_decorators(this.parent.node),e=[],r=[];if(this.args)for(var n of this.args.tree)2==n.vars.length?r.push(new ast.keyword(ast_or_obj(n.vars[0]),ast_or_obj(n.vars[1]))):e.push(new ast.arg(ast_or_obj(n.vars[0])));var o,s=new ast.ClassDef(this.name,e,r,[],t);for(o of this.parent.node.children)s.body.push(ast_or_obj(o.C.tree[0]));return s},$ClassCtx.prototype.toString=function(){return"(class) "+this.name+" "+this.tree+" args "+this.args},$ClassCtx.prototype.transition=function(t,e){var r=this;switch(t){case"id":if("id"==r.expect)return r.set_name(e),r.expect="(:",r;break;case"(":return new $CallCtx(r);case":":if(this.args)for(var n of this.args.tree){n=n.tree[0];"expr"==n.type&&"id"==n.name||"kwarg"==n.type||$_SyntaxError(r,"invalid class parameter")}return $BodyCtx(r)}$_SyntaxError(r,"token "+t+" after "+r)},$ClassCtx.prototype.set_name=function(t){var e=this.parent;this.random=$B.UUID(),this.name=t,this.id=e.node.module+"_"+t+"_"+this.random,this.binding={},this.parent.node.id=this.id;for(var e=this.scope,r=e,n=e,o=[];"class"==n.ntype;)o.splice(0,0,n.C.tree[0].name),n=n.parent;for(this.qualname=o.concat([t]).join(".");r.C&&"class"==r.C.tree[0].type;)r=r.parent;for(;r.C&&"def"!=r.C.tree[0].type&&"generator"!=r.C.tree[0].type;)r=r.parent;this.parent.node.parent_block=r,$bind(t,e,this),e.is_function&&-1==e.C.tree[0].locals.indexOf(t)&&e.C.tree[0].locals.push(t)},$ClassCtx.prototype.transform=function(t,e){this.doc_string=$get_docstring(t),this.module=$get_module(this).module.replace(/\./g,"_");var r="\n"+" ".repeat(t.indent+12),n=new $Node,o="$locals_"+this.id.replace(/\./g,"_");new $NodeJSCtx(n,a="var "+o+" = {__annotations__: $B.empty_dict()}, "+r+"$locals = "+o),t.insert(0,n);for(var s=this.scope;"__builtins__"!==s.parent_block.id;)s=s.parent_block;var n="$locals_"+s.id.replace(/\./g,"_"),a=" ".repeat(t.indent+4)+'$locals.$name = "'+this.name+'"'+r+'$locals.$qualname = "'+this.qualname+'"'+r+"$locals.$is_class = true; "+r+'$locals.$line_info = "'+t.line_num+","+this.module+'";'+r+'var $top_frame = ["'+o+'", $locals,"'+s.id+'", '+n+"]"+r+"$locals.$f_trace = $B.enter_frame($top_frame);"+r+"if($locals.$f_trace !== _b_.None){$locals.$f_trace = $B.trace_line()}";t.insert(1,$NodeJS(a)),t.add($NodeJS("if($locals.$f_trace !== _b_.None){$B.trace_return(_b_.None)}")),t.add($NodeJS("$B.leave_frame({$locals})"));n=new $Node;new $NodeJSCtx(n,"return "+o+";"),t.insert(t.children.length,n);r=new $Node;new $NodeJSCtx(r,")();"),t.parent.insert(e+1,r);o="$locals_"+this.module+".__name__";t.parent.insert(++e+1,$NodeJS("$"+this.name+"_"+this.random+".__module__ = "+o));n=$get_scope(this),r=";$locals_"+n.id.replace(/\./g,"_"),o=1;if((a=[(r+='["'+this.name+'"]')+' = $B.$class_constructor("'+this.name])[o++]='", $'+this.name+"_"+this.random,void 0!==this.args){var _=[],i=[];for(c of this.args.tree)"kwarg"==c.tree[0].type?i.push(c.tree[0]):_.push(c.to_js());a[o++]=", _b_.tuple.$factory(["+_.join(",")+"]),[";var l,c,u=new RegExp('"',"g"),f=[],p=0;for(l of _)f[p++]='"'+l.replace(u,'\\"')+'"';a[o++]=f.join(",")+"]",f=[],p=0;for(c of i)f[p++]='["'+c.tree[0].value+'",'+c.tree[1].to_js()+"]";a[o++]=",["+f.join(",")+"]"}else a[o++]=", _b_.tuple.$factory([]),[],[]";a[o++]=")";o=new $Node;new $NodeJSCtx(o,a.join("")),t.parent.insert(++e+1,o),e++;o=new $Node;a=r+".__doc__ = "+(this.doc_string||"_b_.None")+";",new $NodeJSCtx(o,a),t.parent.insert(e+1,o),"module"==n.ntype&&(n=new $Node,new $NodeJSCtx(n,'$locals["'+this.name+'"] = '+this.name)),t.parent.insert(e+2,$NodeJS("_b_.None;")),this.transformed=!0},$ClassCtx.prototype.to_js=function(){return this.js_processed=!0,"var $"+this.name+"_"+this.random+" = (function()"};var $CompIfCtx=$B.parser.$CompIfCtx=function(t){this.type="comp_if",t.parent.intervals.push($pos),this.parent=t,this.tree=[],t.tree[t.tree.length]=this};$CompIfCtx.prototype.toString=function(){return"(comp if) "+this.tree},$CompIfCtx.prototype.transition=function(t,e){return $transition(this.parent,t,e)},$CompIfCtx.prototype.to_js=function(){return this.js_processed=!0,$to_js(this.tree)};var $ComprehensionCtx=$B.parser.$ComprehensionCtx=function(t){this.type="comprehension",this.parent=t,this.tree=[],t.tree[t.tree.length]=this};$ComprehensionCtx.prototype.toString=function(){return"(comprehension) "+this.tree},$ComprehensionCtx.prototype.transition=function(t,e){switch(t){case"if":return new $AbstractExprCtx(new $CompIfCtx(this),!1);case"for":return new $TargetListCtx(new $CompForCtx(this))}return $transition(this.parent,t,e)},$ComprehensionCtx.prototype.to_js=function(){this.js_processed=!0;var t,e=[];for(t of this.tree)e.push(t.start);return e};var $CompForCtx=$B.parser.$CompForCtx=function(t){this.type="comp_for",t.parent.intervals.push($pos),this.parent=t,this.tree=[],this.expect="in",t.tree[t.tree.length]=this};$CompForCtx.prototype.toString=function(){return"(comp for) "+this.tree},$CompForCtx.prototype.transition=function(t,e){var r=this;return"in"==t&&"in"==r.expect?(r.expect=null,new $AbstractExprCtx(new $CompIterableCtx(r),!0)):null===r.expect?$transition(r.parent,t,e):void $_SyntaxError(r,"token "+t+" after "+r)},$CompForCtx.prototype.to_js=function(){return this.js_processed=!0,$to_js(this.tree)};var $CompIterableCtx=$B.parser.$CompIterableCtx=function(t){this.type="comp_iterable",this.parent=t,this.tree=[],t.tree[t.tree.length]=this};$CompIterableCtx.prototype.toString=function(){return"(comp iter) "+this.tree},$CompIterableCtx.prototype.transition=function(t,e){return $transition(this.parent,t,e)},$CompIterableCtx.prototype.to_js=function(){return this.js_processed=!0,$to_js(this.tree)};var $ConditionCtx=$B.parser.$ConditionCtx=function(t,e){this.type="condition",this.token=e,this.parent=t,this.tree=[],this.node=$get_node(this),this.scope=$get_scope(this),"while"==e&&(this.loop_num=$loop_num++),"elif"==e&&(e=this.node.parent.children.indexOf(this.node),this.node.parent.children[e-1].C.tree[0].orelse=this),t.tree.push(this)};$ConditionCtx.prototype.ast=function(){var t,e={type:{if:"If",while:"While",elif:"If"}[this.token],test:ast_or_obj(this.tree[0])};this.orelse&&(e.orelse=ast_or_obj(this.orelse)),e.body=[];for(t of this.node.children)e.body.push(ast_or_obj(t.C.tree[0]));return e},$ConditionCtx.prototype.toString=function(){return this.token+" "+this.tree},$ConditionCtx.prototype.transition=function(t,e){var r=this;if(":"==t)return"abstract_expr"==r.tree[0].type&&0==r.tree[0].tree.length&&$_SyntaxError(r,"token "+t+" after "+r),$BodyCtx(r);$_SyntaxError(r,["expected ':'"])},$ConditionCtx.prototype.transform=function(t,e){$get_scope(this);if("while"==this.token){t.parent.insert(e,$NodeJS('$locals["$no_break'+this.loop_num+'"] = true'));e=$get_module(this).module;return"return"!=$B.last(t.children).C.tree[0].type&&(e='$locals.$line_info = "'+t.line_num+","+e+'";if($locals.$f_trace !== _b_.None){$B.trace_line()};_b_.None;',t.add($NodeJS(e))),2}},$ConditionCtx.prototype.to_js=function(){this.js_processed=!0;var t=this.token,e=[(t="elif"==t?"else if":t)+"($B.$bool("];return"while"==t?e.push('$locals["$no_break'+this.loop_num+'"] && '):"else if"==t&&(t=$get_node(this).line_num+","+$get_scope(this).id,e.push('($B.set_line("'+t+'")) && ')),1==this.tree.length?e.push($to_js(this.tree)+"))"):(e.push(this.tree[0].to_js()+"))"),0<this.tree[1].tree.length&&e.push("{"+this.tree[1].to_js()+"}")),e.join("")};var $ContinueCtx=$B.parser.$ContinueCtx=function(t){this.type="continue",this.parent=t,$get_node(this).is_continue=!0,t.tree[t.tree.length]=this,set_loop_context.apply(this,[t,"continue"])};$ContinueCtx.prototype.toString=function(){return"(continue)"},$ContinueCtx.prototype.transition=function(t,e){if("eol"==t)return this.parent;$_SyntaxError(this,"token "+t+" after "+this)},$ContinueCtx.prototype.to_js=function(){this.js_processed=!0;var t="continue";return t=this.loop_ctx.has_break?`$locals["$no_break${this.loop_ctx.loop_num}"] = true;${t}`:t};var $DebuggerCtx=$B.parser.$DebuggerCtx=function(t){this.type="continue",(this.parent=t).tree[t.tree.length]=this};$DebuggerCtx.prototype.toString=function(){return"(debugger)"},$DebuggerCtx.prototype.transition=function(t,e){},$DebuggerCtx.prototype.to_js=function(){return this.js_processed=!0,"debugger"};var $DecoratorCtx=$B.parser.$DecoratorCtx=function(t){this.type="decorator",((this.parent=t).tree[t.tree.length]=this).tree=[]};function get_decorators(t){for(var e=[],r=t.parent,n=r.children.indexOf(t);;){if(--n<0)break;if("decorator"!=r.children[n].C.tree[0].type)break;var o=r.children[n].C.tree[0].tree[0];e.push(ast_or_obj(o))}return e}$DecoratorCtx.prototype.toString=function(){return"(decorator) "+this.tree},$DecoratorCtx.prototype.transition=function(t,e){var r=this;return"id"==t&&0==r.tree.length?$transition(new $AbstractExprCtx(r,!1),t,e):"eol"==t?$transition(r.parent,t):void $_SyntaxError(r,"token "+t+" after "+r)},$DecoratorCtx.prototype.transform=function(t,e){for(var r=e+1,n=t.parent.children,o=[this.tree];;)if(r>=n.length)$_SyntaxError(t.C,["decorator expects function"]);else if("node_js"==n[r].C.type)r++;else{if("decorator"!=n[r].C.tree[0].type)break;o.push(n[r].C.tree[0].tree),n.splice(r,1)}this.dec_ids=[];var s;for(s of o)this.dec_ids.push("$id"+$B.UUID());var a=n[r].C.tree[0];"def"==a.type&&(a.decorated=!0,a.alias="$dec"+$B.UUID());var _="",i=$get_scope(this),e='$locals["';i.globals&&i.globals.has(a.name)&&(e="$locals_"+$get_module(this).id+'["');var l=(e+=a.name+'"]')+" = ";o.forEach(function(t,e){l+="$B.$call("+this.dec_ids[e]+")(",_+=")"},this),l+=(a.decorated?a.alias:e)+_+";",$bind(a.name,i,this),t.parent.insert(r+1,$NodeJS(l)),this.decorators=o},$DecoratorCtx.prototype.to_js=function(){this.js_processed=!0;var r=[];return this.decorators.forEach(function(t,e){r.push("var "+this.dec_ids[e]+" = "+$to_js(t)+";")},this),r.join("")};var $DefCtx=$B.parser.$DefCtx=function(t){this.type="def",this.name=null,this.parent=t,this.tree=[],this.async=t.async,this.locals=[],(t.tree[t.tree.length]=this).enclosing=[];var e=this.scope=$get_scope(this);e.C&&"class"==e.C.tree[0].type&&(this.class_name=e.C.tree[0].name),t.node.binding={};for(var r=e;r.C&&"class"==r.C.tree[0].type;)r=r.parent;for(;r.C&&"def"!=r.C.tree[0].type;)r=r.parent;var n=this.parent.node.parent_block=r;for(this.is_comp=n.is_comp;n&&n.C;){if("def"==n.C.tree[0].type){this.inside_function=!0;break}n=n.parent_block}this.module=e.module,this.root=$get_module(this),this.num=$loop_num,$loop_num++,this.positional_list=[],this.default_list=[],this.other_args=null,this.other_kw=null,this.after_star=[]};$DefCtx.prototype.ast=function(){var t,e,r,n,o,s={posonlyargs:[],args:[],kwonlyargs:[],kwdefaults:[],defaults:[]},a=get_decorators(this.parent.node),_="arg";for(r of this.tree[1].tree)"end_positional"==r.type?(s.posonlyargs=s.args,s.args=[]):"func_star_arg"==r.type?"*"==r.op&&"*"==r.name?_="kwonly":"*"==r.op?s.vararg=new ast.arg(r.name):"**"==r.op&&(s.kwarg=new ast.arg(r.name)):(t=!1,r.has_default&&(t=ast_or_obj(r.tree[0])),n=new ast.arg(r.name),r.annotation&&(n.annotation=ast_or_obj(r.annotation.tree[0])),"kwonly"==_?(s.kwonlyargs.push(n),t&&s.kwdefaults.push(t)):(s.args.push(n),t&&s.defaults.push(t)));e=new(this.async?ast.AsyncFunctionDef:ast.FunctionDef)(this.name,s,[],a),this.annotation&&(e.returns=ast_or_obj(this.annotation.tree[0]));for(o of this.parent.node.children)e.body.push(ast_or_obj(o.C.tree[0]));return e},$DefCtx.prototype.set_name=function(t){try{t=$mangle(t,this.parent.tree[0])}catch(t){throw console.log(t),console.log("parent",this.parent),t}-1<["None","True","False"].indexOf(t)&&$_SyntaxError(this,"invalid function name");var e=new $IdCtx(this,t);this.name=t,this.id=this.scope.id+"_"+t,this.id=this.id.replace(/\./g,"_"),this.id+="_"+$B.UUID(),this.parent.node.id=this.id,this.parent.node.module=this.module,this.binding={};var r=this.scope;void 0!==r.globals&&r.globals.has(t)?$bind(t,this.root,this):$bind(t,r,this),e.bound=!0,r.is_function&&-1==r.C.tree[0].locals.indexOf(t)&&r.C.tree[0].locals.push(t)},$DefCtx.prototype.toString=function(){return"def "+this.name+"("+this.tree+")"},$DefCtx.prototype.transition=function(t,e){var r=this;switch(t){case"id":return r.name&&$_SyntaxError(r,"token "+t+" after "+r),r.set_name(e),r;case"(":return null==r.name&&$_SyntaxError(r,"missing name in function definition"),r.has_args=!0,new $FuncArgs(r);case"annotation":return new $AbstractExprCtx(new $AnnotationCtx(r),!0);case":":if(r.has_args)return $BodyCtx(r);$_SyntaxError(r,"missing function parameters");case"eol":r.has_args&&$_SyntaxError(r,"missing colon")}$_SyntaxError(r,"token "+t+" after "+r)},$DefCtx.prototype.transform=function(t,e){if(this.is_comp&&($get_node(this).is_comp=!0),void 0===this.transformed){var r=this.scope;this.doc_string=$get_docstring(t),this.rank=e;var n=t.indent+12;this.name.substr(0,15)!="lambda_"+$B.lambda_magic||(E=r.parent_block).C&&"def"==E.C.tree[0].type&&this.enclosing.push(E);for(var o=this.parent.node;o.parent&&o.parent.is_def_func;)this.enclosing.push(o.parent.parent),o=o.parent.parent;var s=[],a=[],_=!1;this.argcount=0,this.kwonlyargcount=0,this.kwonlyargsdefaults=[],this.otherdefaults=[],this.varnames={},this.args=[],this.__defaults__=[],this.slots=[];var i=[],l=[],c=[];this.annotation&&c.push('"return":'+this.annotation.to_js()),this.func_name=this.tree[0].to_js();var u,f=this.func_name;this.decorated&&(this.func_name="var "+this.alias,f=this.alias);for(u of this.tree[1].tree)"end_positional"==u.type?(this.args.push("/"),i.push('"/"'),_=!0):(this.args.push(u.name),this.varnames[u.name]=!0),"func_arg_id"==u.type?(this.star_arg?(this.kwonlyargcount++,u.has_default&&this.kwonlyargsdefaults.push(u.name)):(this.argcount++,u.has_default&&this.otherdefaults.push(u.name)),this.slots.push('"'+u.name+'":null'),i.push('"'+u.name+'"'),l.push('"'+u.name+'": _'+u.name),0<u.tree.length&&(s.push('"'+u.name+'"'),a.push(u.name+":"+$to_js(u.tree)),this.__defaults__.push($to_js(u.tree)))):"func_star_arg"==u.type&&("*"==u.op?this.star_arg=u.name:"**"==u.op&&(this.kw_arg=u.name)),u.annotation&&(m=$mangle(u.name,this),c.push(m+": "+u.annotation.to_js()));var l="{"+l.join(", ")+"}",p=67;this.star_arg&&(p|=4),this.kw_arg&&(p|=8),"generator"==this.type&&(p|=32),this.async&&(p|=128);for(var $=[],d=r;d.parent_block&&"__builtins__"!==d.parent_block.id;)d=d.parent_block;var h="$locals_"+d.id.replace(/\./g,"_"),m=this.name+this.num,g="$locals_"+this.id;x="var "+g+" = {},"+(P="\n"+" ".repeat(n))+"$locals = "+g+";",(B=new $Node).locals_def=!0,B.func_node=t,new $NodeJSCtx(B,x),$.push(B);var b,y=[$NodeJS('$locals.$line_info = "'+t.line_num+","+this.module+'"'),$NodeJS(`var $top_frame = ["${this.id}", $locals,`+'"'+d.id+'", '+h+", "+(this.is_comp?this.name:m)+"]"),$NodeJS("$locals.$f_trace = $B.enter_frame($top_frame)"),$NodeJS("var $stack_length = $B.frames_stack.length;")];"generator"==this.type&&y.push($NodeJS("$locals.$is_generator = true")),this.async&&y.splice(1,0,$NodeJS(`$locals.$async = "${this.id}"`));for(b of y)b.enter_frame=!0;this.is_comp&&$.push($NodeJS("var $defaults = {}")),this.env=[];var v=[],x=g+' = $locals = $B.args("'+this.name+'", '+this.argcount+", {"+this.slots.join(", ")+"}, ["+i.join(", ")+"], arguments, $defaults, "+this.other_args+", "+this.other_kw+");",B=new $Node;new $NodeJSCtx(B,x),v.push(B);var w=!1;if(null!==this.other_args||null!==this.other_kw||0!=this.after_star.length||_)$.push(v[0]),1<v.length&&$.push(v[1]);else{w=!0,$.push($NodeJS("var $len = arguments.length;"));var k,B=new $Node;new $NodeJSCtx(B,x="var last_arg;if($len > 0 && ((last_arg = arguments[$len - 1]) !== undefined) && last_arg.$nat !== undefined)"),$.push(B);for(k of v)B.add(k);var E=new $Node;new $NodeJSCtx(E,"else"),$.push(E);h=this.slots.length,v=$NodeJS("if($len == "+h+")");E.add(v),v.add($NodeJS(g+" = $locals = $B.conv_undef("+l+")")),E.add($NodeJS("else if($len > "+h+'){$B.wrong_nb_args("'+this.name+'", $len, '+h+", ["+i+"])}")),0<h&&(E.add($NodeJS("else if($len + Object.keys($defaults).length < "+h+'){$B.wrong_nb_args("'+this.name+'", $len, '+h+", ["+i+"])}")),h=$NodeJS("else"),E.add(h),h.add($NodeJS(g+" = $locals = $B.conv_undef("+l+")")),h.add($NodeJS("var defparams = ["+i+"]")),h.add($NodeJS("for(var i = $len; i < defparams.length; i++){$locals[defparams[i]] = $defaults[defparams[i]]}")))}var j,$=$.concat(y),N="class"==r.ntype;N&&(S="$locals_"+r.parent_block.id.replace(/\./g,"_"),T=r.C.tree[0].qualname,j=this.parent.node.binding.__class__,this.parent.node.binding.__class__=!0,$.push($NodeJS("$locals.__class__ = $B.get_method_class("+S+', "'+T+'")'))),$.push($NodeJS("$B.js_this = this;"));for(var C=$.length-1;0<=C;C--)t.children.splice(0,0,$[C]);r=new $Node;this.params="",w&&(this.params=Object.keys(this.varnames).map(t=>"_"+t).join(", ")),new $NodeJSCtx(r,""),r.is_def_func=!0,r.module=this.module;var S=t.children[t.children.length-1],n=S.indent;"return"!=S.C.tree[0].type&&(x="if($locals.$f_trace !== _b_.None){\n"+"    ".repeat(n)+"$B.trace_return(_b_.None)\n"+"    ".repeat(n)+"}\n"+"    ".repeat(n),x+="$B.leave_frame","$exec"==this.id.substr(0,5)&&(x+="_exec"),t.add($NodeJS(x+="({$locals});return _b_.None")));var O=[];if(this.parent.node.referenced)for(var A in this.parent.node.referenced)this.parent.node.binding[A]||O.push('"'+A+'"');if(this.parent.node.nonlocals)for(var I of this.parent.node.nonlocals){A='"'+I+'"';-1==O.indexOf(A)&&O.push(A)}t.add(r);var T=1,n=t.indent;if(!this.is_comp){t.parent.insert(e+T++,$NodeJS(m+".$is_func = true")),this.$has_yield_in_cm&&t.parent.insert(e+T++,$NodeJS(m+".$has_yield_in_cm = true")),t.parent.insert(e+T++,$NodeJS(m+".$infos = {"));w=this.name;w.substr(0,15)=="lambda_"+$B.lambda_magic&&(w="<lambda>"),t.parent.insert(e+T++,$NodeJS(x='    __name__:"'+w+'",'));S=w;if(this.class_name&&(S=this.class_name+"."+w),t.parent.insert(e+T++,$NodeJS(x='    __qualname__:"'+S+'",')),0<this.otherdefaults.length){var F=[];for(J of this.otherdefaults)F.push("$defaults."+J);t.parent.insert(e+T++,$NodeJS("    __defaults__ : $B.fast_tuple(["+F.join(", ")+"]),"))}else t.parent.insert(e+T++,$NodeJS("    __defaults__ : _b_.None,"));if(0<this.kwonlyargsdefaults.lengh){var J,F=[];for(J of this.kwonlyargsdefaults)F.push("$defaults."+J);t.parent.insert(e+T++,$NodeJS("    __kwdefaults__ : $B.fast_tuple(["+F.join(", ")+"]),"))}else t.parent.insert(e+T++,$NodeJS("    __kwdefaults__ : _b_.None,"));t.parent.insert(e+T++,$NodeJS("    __annotations__: {"+c.join(",")+"},")),t.parent.insert(e+T++,$NodeJS("    __dict__: $B.empty_dict(),")),t.parent.insert(e+T++,$NodeJS("    __doc__: "+(this.doc_string||"_b_.None")+","));r=$get_module(this);for(A in t.parent.insert(e+T++,$NodeJS('    __module__ : "'+r.module+'",')),this.parent.node.binding)"__class__"==A&&N&&!j||(this.varnames[A]=!0);var M=[];for(A in this.varnames)M.push('"'+A+'"');var P;this.name,this.num;x="    __code__:{"+(P="\n"+" ".repeat(n+8))+"    co_argcount:"+this.argcount;w=","+P+" ".repeat(4),S=$get_module(this).module,r=this.name;r.startsWith("lambda_"+$B.lambda_magic)&&(r="<lambda>"),x+=w+"co_filename:$locals_"+S.replace(/\./g,"_")+'["__file__"] || "<string>"'+w+"co_firstlineno:"+t.line_num+w+"co_flags:"+p+w+"co_freevars: ["+O+"]"+w+"co_kwonlyargcount:"+this.kwonlyargcount+w+'co_name: "'+r+'"'+w+"co_nlocals: "+M.length+w+"co_posonlyargcount: "+(this.pos_only||0)+w+"co_varnames: $B.fast_tuple(["+M.join(", ")+"])"+P+"}\n"+" ".repeat(n+4)+"};",t.parent.insert(e+T++,$NodeJS(x+="_b_.None;"))}this.default_str="{"+a.join(", ")+"}",this.is_comp||(n=m,x="return "+(n="generator"==this.type?`$B.generator.$factory(${m})`:m),this.async&&(x="generator"==this.type?`return $B.async_generator.$factory(${m})`:"return $B.make_async("+n+")"),t.parent.insert(e+T++,$NodeJS(x+"}")),t.parent.insert(e+T++,$NodeJS(this.func_name+" = "+this.name+"$"+this.num+"("+this.default_str+")")),t.parent.insert(e+T++,$NodeJS(f+".$set_defaults = function(value){return "+f+" = "+this.name+"$"+this.num+"(value)}")),this.$has_yield_in_cm&&t.parent.insert(e+T++,$NodeJS(`${f}.$has_yield_in_cm = true`)));for(var R=t,L=0;L<R.children.length&&R.children[L]!==$B.last(y);L++);var q,D=$NodeJS("try"),f=R.children.slice(L+1);R.insert(L+1,D);for(q of f)if(q.is_def_func)for(var V of q.children)D.add(V);else D.add(q);R.children.splice(L+2,R.children.length);f=$NodeJS("catch(err)");return f.add($NodeJS("$B.set_exc(err)")),f.add($NodeJS("if((! err.$in_trace_func) && $locals.$f_trace !== _b_.None){$locals.$f_trace = $B.trace_exception()}")),f.add($NodeJS("$B.leave_frame({$locals});throw err")),R.add(f),this.transformed=!0,T}},$DefCtx.prototype.to_js=function(t){return this.js_processed=!0,this.is_comp?"var "+this.name+" = "+(this.async?" async ":"")+"function* (_expr)":(t=t||this.tree[0].to_js(),this.decorated&&(t="var "+this.alias),"var "+this.name+"$"+this.num+" = function($defaults){"+(this.async?"async ":"")+"function"+("generator"==this.type?"* ":" ")+this.name+this.num+"("+this.params+")")};var $DelCtx=$B.parser.$DelCtx=function(t){this.type="del",(this.parent=t).tree.push(this),this.tree=[]};$DelCtx.prototype.ast=function(){console.log("ast del",this.tree[0]);for(var t="list_or_tuple"==this.tree[0].type?this.tree[0].tree.slice():"expr"==this.tree[0].type&&"list_or_tuple"==this.tree[0].tree[0].type?this.tree[0].tree[0]:[this.tree[0].tree[0]],e=0;e<t.length;e++)t[e]=ast_or_obj(t[e]),t[e].ctx=ast.Del;return new ast.Delete(t)},$DelCtx.prototype.toString=function(){return"del "+this.tree},$DelCtx.prototype.transition=function(t,e){if("eol"==t)return check_assignment(this.tree[0],{action:"delete"}),$transition(this.parent,t);$_SyntaxError(this,"token "+t+" after "+this)},$DelCtx.prototype.to_js=function(){this.js_processed=!0;var t=this.parent;if("list_or_tuple"==this.tree[0].type){var e=[];for(a of this.tree[0].tree){var r=new $DelCtx(t);r.tree=[a],e.push(r.to_js()),t.tree.pop()}return this.tree=[],e.join(";")}if("expr"==this.tree[0].type&&"list_or_tuple"==this.tree[0].tree[0].type)return this.tree[0]=this.tree[0].tree[0],this.to_js();var n=this.tree[0].tree[0];switch(n.type){case"id":var o=$get_scope(this),s=!1;if(("def"==o.ntype||"generator"==o.ntype)&&o.globals&&o.globals.has(n.value)){for(o=o.parent;o.parent&&"__builtins__"!==o.parent.id;)o=o.parent;s=!0}e='$B.$delete("'+n.value+'"'+(s?', "global"':"")+");";return delete o.binding[n.value],e;case"list_or_tuple":var a,e=[];for(a of n.tree)e.push("delete "+a.to_js());return e.join(";");case"sub":return n.func="delitem",js=n.to_js(),n.func="getitem",js;case"attribute":return"_b_.delattr("+n.value.to_js()+',"'+n.name+'")';default:$_SyntaxError(this,["cannot delete "+n.type])}};var $DictOrSetCtx=$B.parser.$DictOrSetCtx=function(t){this.type="dict_or_set",this.real="dict_or_set",this.expect="id",this.closed=!1,this.start=$pos,this.parent=t,this.tree=[],t.tree[t.tree.length]=this};$DictOrSetCtx.prototype.toString=function(){switch(this.real){case"dict":return"(dict) {"+this.items+"}";case"set":return"(set) {"+this.tree+"}"}return"(dict_or_set) {"+this.tree+"}"},$DictOrSetCtx.prototype.transition=function(t,e){var r=this;if(r.closed){switch(t){case"[":return new $AbstractExprCtx(new $SubCtx(r.parent),!1);case"(":return new $CallArgCtx(new $CallCtx(r.parent))}return $transition(r.parent,t,e)}if(","==r.expect){switch(t){case"}":switch(r.real){case"dict_or_set":if(1!=r.tree.length)break;r.real="set";case"set":case"set_comp":case"dict_comp":return r.items=r.tree,r.tree=[],r.closed=!0,r;case"dict":if(r.nb_dict_items()%2==0)return r.items=r.tree,r.tree=[],r.closed=!0,r}$_SyntaxError(r,"token "+t+" after "+r);case",":return"dict_or_set"==r.real&&(r.real="set"),"dict"==r.real&&r.nb_dict_items()%2&&$_SyntaxError(r,"token "+t+" after "+r),r.expect="id",r;case":":if("dict_or_set"==r.real&&(r.real="dict"),"dict"==r.real)return r.expect=",",new $AbstractExprCtx(r,!1);$_SyntaxError(r,"token "+t+" after "+r);case"for":"set"==r.real&&1<r.tree.length&&(r.$pos=r.tree[0].$pos,$_SyntaxError(r,["did you forget parentheses around the comprehension target?"])),"dict_or_set"==r.real?r.real="set_comp":r.real="dict_comp";var n=new $ListOrTupleCtx(r,"dict_or_set_comp");n.intervals=[r.start+1],n.vars=r.vars,r.tree.pop(),n.expression=r.tree,r.yields&&(n.expression.yields=r.yields,delete r.yields),r.tree=[n],n.tree=[];n=new $ComprehensionCtx(n);return new $TargetListCtx(new $CompForCtx(n))}$_SyntaxError(r,"token "+t+" after "+r)}else if("id"==r.expect){switch(t){case"}":return 0==r.tree.length?(r.items=[],r.real="dict"):r.items=r.tree,r.tree=[],r.closed=!0,r;case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":r.expect=",";var o=new $AbstractExprCtx(r,!1);return $transition(o,t,e);case"op":switch(e){case"*":case"**":return r.expect=",",(o=new $AbstractExprCtx(r,!1)).packed=e.length,"dict_or_set"==r.real?r.real="*"==e?"set":"dict":("set"==r.real&&"**"==e||"dict"==r.real&&"*"==e)&&$_SyntaxError(r,"token "+t+" after "+r),o;case"+":return r;case"-":case"~":r.expect=",";var s=new $UnaryCtx(r,e);return s=new $OpCtx(s,"-"==e?"unary_neg":"+"==e?"unary_pos":"unary_inv"),new $AbstractExprCtx(s,!1)}$_SyntaxError(r,"token "+t+" after "+r)}$_SyntaxError(r,"token "+t+" after "+r)}return $transition(r.parent,t,e)},$DictOrSetCtx.prototype.nb_dict_items=function(){var t,e=0;for(t of this.tree)t.packed?e+=2:e++;return e},$DictOrSetCtx.prototype.packed_indices=function(){var r=[];return this.items.forEach(function(t,e){"expr"==t.type&&t.packed&&r.push(e)}),r},$DictOrSetCtx.prototype.unpack_dict=function(t){for(var e,r,n,o="",s=0;s<this.items.length;)r=0==s,"expr"==(n=this.items[s]).type&&n.packed?(e="_b_.list.$factory(_b_.dict.items("+n.to_js()+"))",s++):(e="[["+n.to_js()+","+this.items[s+1].to_js()+"]]",s+=2),o+=e=!r?".concat("+e+")":e;return o},$DictOrSetCtx.prototype.unpack_set=function(r){var n,o="";return this.items.forEach(function(t,e){n=-1<r.indexOf(e)?"_b_.list.$factory("+t.to_js()+")":"["+t.to_js()+"]",o+=n=0<e?".concat("+n+")":n}),o},$DictOrSetCtx.prototype.to_js=function(){switch(this.js_processed=!0,this.real){case"dict":if(0<(r=this.packed_indices()).length)return"_b_.dict.$factory("+this.unpack_dict(r)+")"+$to_js(this.tree);for(var t=[],e=0;e<this.items.length;e+=2)t.push("["+this.items[e].to_js()+","+this.items[e+1].to_js()+"]");return"_b_.dict.$factory(["+t.join(",")+"])"+$to_js(this.tree);case"set_comp":return"_b_.set.$factory("+$to_js(this.items)+")"+$to_js(this.tree);case"dict_comp":return"_b_.dict.$factory("+$to_js(this.items)+")"+$to_js(this.tree)}var r;return 0<(r=this.packed_indices()).length?"_b_.set.$factory("+this.unpack_set(r)+")":"_b_.set.$factory(["+$to_js(this.items)+"])"+$to_js(this.tree)};var $DoubleStarArgCtx=$B.parser.$DoubleStarArgCtx=function(t){this.type="double_star_arg",this.parent=t,this.tree=[],t.tree[t.tree.length]=this};$DoubleStarArgCtx.prototype.toString=function(){return"**"+this.tree},$DoubleStarArgCtx.prototype.transition=function(t,e){var r=this;switch(t){case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":return $transition(new $AbstractExprCtx(r,!1),t,e);case",":case")":return $transition(r.parent,t);case":":if("lambda"==r.parent.parent.type)return $transition(r.parent.parent,t)}$_SyntaxError(r,"token "+t+" after "+r)},$DoubleStarArgCtx.prototype.to_js=function(){return this.js_processed=!0,'{$nat:"pdict",arg:'+$to_js(this.tree)+"}"};var $EllipsisCtx=$B.parser.$EllipsisCtx=function(t){this.type="ellipsis",this.parent=t,this.start=$pos,t.tree[t.tree.length]=this};$EllipsisCtx.prototype.toString=function(){return"ellipsis"},$EllipsisCtx.prototype.transition=function(t,e){return $transition(this.parent,t,e)},$EllipsisCtx.prototype.to_js=function(){return this.js_processed=!0,'$B.builtins["Ellipsis"]'};var $EndOfPositionalCtx=$B.parser.$EndOfConditionalCtx=function(t){this.type="end_positional",(this.parent=t).has_end_positional=!0,t.parent.pos_only=t.tree.length,t.tree.push(this)};$EndOfPositionalCtx.prototype.transition=function(t,e){if(","==t||")"==t)return $transition(this.parent,t,e);$_SyntaxError(this,"token "+t+" after "+this)},$EndOfPositionalCtx.prototype.to_js=function(){return"/"};var $ExceptCtx=$B.parser.$ExceptCtx=function(t){this.type="except",((this.parent=t).tree[t.tree.length]=this).tree=[],this.expect="id",this.scope=$get_scope(this)};$ExceptCtx.prototype.toString=function(){return"(except) "},$ExceptCtx.prototype.transition=function(t,e){var r=this;switch(t){case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case"not":case"lambda":if("id"==r.expect)return r.expect="as",$transition(new $AbstractExprCtx(r,!1),t,e);case"as":if("as"==r.expect&&void 0===r.has_alias)return r.expect="alias",r.has_alias=!0,r;case"id":if("alias"==r.expect)return r.expect=":",r.set_alias(e),r;break;case":":var n=r.expect;if("id"==n||"as"==n||":"==n)return $BodyCtx(r);break;case"(":if("id"==r.expect&&0==r.tree.length)return r.parenth=!0,r;break;case")":if(","==r.expect||"as"==r.expect)return r.expect="as",r;case",":if(void 0!==r.parenth&&void 0===r.has_alias&&("as"==r.expect||","==r.expect))return r.expect="id",r;void 0===r.parenth&&$_SyntaxError(r,["multiple exception types must be parenthesized"])}console.log("error",r,t),$_SyntaxError(r,"token "+t+" after "+r.expect)},$ExceptCtx.prototype.set_alias=function(t){this.tree[0].alias=$mangle(t,this),$bind(t,this.scope,this)},$ExceptCtx.prototype.transform=function(t,e){var r=$NodeJS("void(0)");r.line_num=t.line_num,t.insert(0,r);r=$B.last(t.children);r.C.tree&&r.C.tree[0]&&"return"==r.C.tree[0].type||t.add($NodeJS("$B.del_exc()"))},$ExceptCtx.prototype.to_js=function(){switch(this.js_processed=!0,this.tree.length){case 0:return"else";case 1:if("Exception"==this.tree[0].name)return"else if(1)"}var t,e=[];for(t of this.tree)e.push(t.to_js());var r,n="";return 0<$B.debug&&(r=$get_module(this),n='($locals.$line_info = "'+$get_node(this).line_num+","+r.id+'") && '),"else if("+n+"$B.is_exc("+this.error_name+",["+e.join(",")+"]))"};var $ExprCtx=$B.parser.$ExprCtx=function(t,e,r){this.type="expr",this.name=e,this.$pos=$pos,this.with_commas=r,this.expect=",",(this.parent=t).packed&&(this.packed=t.packed),t.is_await&&((r=$get_node(this)).has_await=r.has_await||[],this.is_await=t.is_await,r.has_await.push(this)),t.assign&&(this.assign=t.assign),this.tree=[],t.tree[t.tree.length]=this};$ExprCtx.prototype.ast=function(){var t;return-1<["imaginary","int","float","list","str","operand"].indexOf(this.name)?t=ast_or_obj(this.tree[0]):"id"==this.name&&-1<["id","call","sub"].indexOf(this.tree[0].type)&&(t=this.tree[0].ast()),t?"node"==this.parent.type?new ast.Expr(t):t:this},$ExprCtx.prototype.toString=function(){return"(expr "+this.with_commas+") "+this.tree},$ExprCtx.prototype.transition=function(t,e){var r=this;switch(t){case"bytes":case"float":case"id":case"imaginary":case"int":case"lambda":case"pass":case"str":case"JoinedStr":"dict_or_set"==r.parent.type&&","==r.parent.expect&&$_SyntaxError(r,["invalid syntax. Perhaps you forgot a comma?"]),$_SyntaxError(r,"token "+t+" after "+r);break;case"{":return"id"==r.tree[0].type&&-1!=["print","exec"].indexOf(r.tree[0].value)||$_SyntaxError(r,"token "+t+" after "+r),new $DictOrSetCtx(r);case"[":case"(":case".":case"not":if("expr"==r.expect)return r.expect=",",$transition(new $AbstractExprCtx(r,!1),t,e)}switch(t){case"not":if(","==r.expect)return new $ExprNot(r);break;case"in":if("target_list"==r.parent.type)return $transition(r.parent,t);if(","==r.expect)return $transition(r,"op","in");case",":if(","==r.expect&&(r.with_commas||-1<["assign","return"].indexOf(r.parent.type))){$parent_match(r,{type:"yield",from:!0})&&$_SyntaxError(r,"no implicit tuple for yield from"),r.parent.tree.pop();var n=new $ListOrTupleCtx(r.parent,"tuple");return n.implicit=!0,n.has_comma=!0,n.tree=[r],r.parent=n}return $transition(r.parent,t);case".":return new $AttrCtx(r);case"[":return new $AbstractExprCtx(new $SubCtx(r),!0);case"(":return new $CallCtx(r);case"op":var o=r.parent,s=e;if("ternary"==o.type&&o.in_else){var a=new $OpCtx(r,s);return new $AbstractExprCtx(a,!1)}for(var _=r.parent,i=null;;)if("expr"==_.type)_=_.parent;else if("op"==_.type&&$op_weight[_.op]>=$op_weight[s]&&("**"!=_.op||"**"!=s))_=(i=_).parent;else{if(!("not"==_.type&&$op_weight.not>$op_weight[s]))break;_=(i=_).parent}if(null===i){for(;r.parent!==_;)o=(r=r.parent).parent;r.parent.tree.pop(),(m=new $ExprCtx(o,"operand",r.with_commas)).expect=",",r.parent=m;a=new $OpCtx(r,s);return new $AbstractExprCtx(a,!1)}if("and"===s||"or"===s)for(;"not"==i.parent.type||"expr"==i.parent.type&&"not"==i.parent.parent.type;)o=(i=i.parent).parent;if("op"==i.type){var l=!1;switch(i.op){case"<":case"<=":case"==":case"!=":case"is":case">=":case">":l=!0}if(l)switch(s){case"<":case"<=":case"==":case"!=":case"is":case">=":case">":var c,u=i.tree[1],f=u.to_js(),p=new Object;for(c in u)p[c]=u[c];var $="$c"+chained_comp_num;for(u.to_js=function(){return $},p.to_js=function(){return $},chained_comp_num++;i.parent&&"op"==i.parent.type&&$op_weight[i.parent.op]<$op_weight[i.op];)i=i.parent;i.parent.tree.pop();var d=new $OpCtx(i,"and");d.wrap={name:$,js:f},(p.parent=d).tree.push("xxx");a=new $OpCtx(p,s);return new $AbstractExprCtx(a,!1)}}i.parent.tree.pop(),(m=new $ExprCtx(i.parent,"operand",!1)).tree=[_],i.parent=m;a=new $OpCtx(i,s);return new $AbstractExprCtx(a,!1);case"augm_assign":for(var h=r;h;)"assign"==h.type||"augm_assign"==h.type?$_SyntaxError(r,"augmented assignment inside assignment"):"op"==h.type?$_SyntaxError(r,["cannot assign to operator"]):"list_or_tuple"==h.type?$_SyntaxError(r,[`'${h.real}' is an illegal`+" expression for augmented assignment"]):-1<["list","tuple"].indexOf(h.name)?$_SyntaxError(r,[`'${h.name}' is an illegal`+" expression for augmented assignment"]):-1<["dict_or_set"].indexOf(h.name)&&$_SyntaxError(r,[`'${h.tree[0].real} display'`+" is an illegal expression for augmented assignment"]),h=h.parent;return","==r.expect?new $AbstractExprCtx(new $AugmentedAssignCtx(r,e),!0):$transition(r.parent,t,e);case":":if("sub"==r.parent.type||"list_or_tuple"==r.parent.type&&"sub"==r.parent.parent.type)return new $AbstractExprCtx(new $SliceCtx(r.parent),!1);if("slice"==r.parent.type)return $transition(r.parent,t,e);if("node"==r.parent.type){if(1==r.tree.length){var m=r.tree[0];if(check_assignment(m),-1<["id","sub","attribute"].indexOf(m.type))return new $AbstractExprCtx(new $AnnotationCtx(r),!1);if("tuple"==m.real&&","==m.expect&&1==m.tree.length)return new $AbstractExprCtx(new $AnnotationCtx(m.tree[0]),!1)}$_SyntaxError(r,"invalid target for annotation")}break;case"=":if(","!=r.expect)break;if("call_arg"==r.parent.type)return"id"!=r.tree[0].type&&$_SyntaxError(r,['expression cannot contain assignment, perhaps you meant "=="?']),new $AbstractExprCtx(new $KwArgCtx(r),!0);if(y=function(t,e){for(;t.parent;){if(t.parent.type==e)return t.parent;t=t.parent}return!1}(r,"annotation"))return $transition(y,t,e);if("op"==r.parent.type)$_SyntaxError(r,["cannot assign to operator"]);else if("not"==r.parent.type)$_SyntaxError(r,["cannot assign to operator"]);else if("list_or_tuple"==r.parent.type)for(var g=0;g<r.parent.tree.length;g++){var b=r.parent.tree[g];"expr"==b.type&&"operand"==b.name&&$_SyntaxError(r,["cannot assign to operator"])}else 0<r.tree.length&&r.tree[0].assign?$_SyntaxError(r,["cannot assign to named expression"]):"expr"==r.parent.type&&"target list"==r.parent.name?$_SyntaxError(r,"token "+t+" after "+r):"lambda"==r.parent.type&&"node"!=r.parent.parent.parent.type&&$_SyntaxError(r,['expression cannot contain assignment, perhaps you meant "=="?']);for(;void 0!==r.parent;)"condition"==(r=r.parent).type?$_SyntaxError(r,"token "+t+" after "+r):"augm_assign"==r.type&&$_SyntaxError(r,"assignment inside augmented assignment");return r=r.tree[0],new $AbstractExprCtx(new $AssignCtx(r),!0);case":=":var y=r.parent.type;if(-1<["node","assign","kwarg","annotation"].indexOf(y)||"func_arg_id"==y&&0<r.parent.tree.length?$_SyntaxError(r,":= invalid, parent "+y):"call_arg"==y&&"call"==r.parent.parent.type&&"lambda"==r.parent.parent.parent.type&&$_SyntaxError(r,":= invalid inside function arguments"),1==r.tree.length&&"id"==r.tree[0].type){var v=$get_scope(r),x=r.tree[0].value;for(-1<["None","True","False"].indexOf(x)?$_SyntaxError(r,[`cannot use assignment expressions with ${x}`]):"__debug__"==x&&$_SyntaxError(r,["cannot assign to __debug__"]);v.is_comp;)v=v.parent_block;$bind(x,v,r),(h=r.parent).tree.pop();var x=new $AbstractExprCtx(h,!1);return x.assign=r.tree[0],x}$_SyntaxError(r,"token "+t+" after "+r);case"if":if("comp_iterable"==r.parent.type)break;for(var B=!1,w=r.parent;w&&"list_or_tuple"!=w.type&&"comp_for"!=w.type;){if("comp_if"==w.type){B=!0;break}if("call_arg"==w.type||"sub"==w.type)break;if("expr"==w.type&&"comp_iterable"==w.parent.type){B=!0;break}w=w.parent}if(B)break;for(w=r;w.parent&&("op"==w.parent.type||"not"==w.parent.type||"expr"==w.parent.type&&"operand"==w.parent.name);)w=w.parent;return new $AbstractExprCtx(new $TernaryCtx(w),!0);case"eol":2==r.tree.length&&"id"==r.tree[0].type&&-1<["print","exec"].indexOf(r.tree[0].value)&&$_SyntaxError(r,["Missing parentheses in call to '"+r.tree[0].value+"'."]),-1==["dict_or_set","list_or_tuple","str"].indexOf(r.parent.type)&&("packed"==(x=r.tree[0]).type?($pos=x.pos,$_SyntaxError(r,["can't use starred expression here"])):"call"==x.type&&"packed"==x.func.type&&($pos=x.func.pos,$_SyntaxError(r,["can't use starred expression here"])))}return $transition(r.parent,t)},$ExprCtx.prototype.to_js=function(t){if(this.js_processed=!0,t="list"==this.type?"["+$to_js(this.tree)+"]":1==this.tree.length?(void 0===this.tree[0].to_js&&console.log("pas de to_js",this),this.tree[0].to_js(t)):"_b_.tuple.$factory(["+$to_js(this.tree)+"])",this.is_await&&(t="await ($B.promise("+t+"))"),this.assign){for(var e=$get_scope(this);e.is_comp;)e=e.parent_block;if(e.globals&&e.globals.has(this.assign.value))for(;e.parent_block&&"__builtins__"!==e.parent_block.id;)e=e.parent_block;else e.nonlocals&&e.nonlocals.has(this.assign.value)&&(e=e.parent_block);t="($locals_"+e.id.replace(/\./g,"_")+'["'+this.assign.value+'"] = '+t+")"}return"call"==this.name&&(t+="()"),t};var $ExprNot=$B.parser.$ExprNot=function(t){this.type="expr_not",this.parent=t,this.tree=[],t.tree[t.tree.length]=this};$ExprNot.prototype.transition=function(t,e){if("in"==t)return this.parent.tree.pop(),new $AbstractExprCtx(new $OpCtx(this.parent,"not_in"),!1);$_SyntaxError(this,"token "+t+" after "+this)},$ExprNot.prototype.toString=function(){return"(expr_not)"};var $ForExpr=$B.parser.$ForExpr=function(t){t.node.parent.is_comp&&(t.node.parent.first_for=this),this.type="for",this.parent=t,this.tree=[],(t.tree[t.tree.length]=this).loop_num=$loop_num,this.scope=$get_scope(this),this.scope.is_comp,this.module=this.scope.module,$loop_num++};$ForExpr.prototype.toString=function(){return"(for) "+this.tree},$ForExpr.prototype.transition=function(t,e){var r=this;switch(t){case"in":for(var n of r.tree[0].tree)check_assignment(n.tree[0]),"id"==n.tree[0].type&&(n=n.tree[0],$bind(n.value,this.scope,n));return 0==r.tree[0].tree.length&&$_SyntaxError(r,"missing target between 'for' and 'in'"),new $AbstractExprCtx(new $ExprCtx(r,"target list",!0),!1);case":":return(r.tree.length<2||"abstract_expr"==r.tree[1].tree[0].type)&&$_SyntaxError(r,"token "+t+" after "+r),$BodyCtx(r)}$_SyntaxError(r,"token "+t+" after "+r)},$ForExpr.prototype.transform=function(t,e){for(var r=this.parent.node.parent;r;){if(r.is_comp){var n=$get_module(this);void 0===n.outermost_expr&&(r.outermost_expr=this.tree[1],n.outermost_expr=this.tree[1],this.tree.pop(),new $RawJSCtx(this,"_expr"));break}r=r.parent}if(this.async)return this.transform_async(t,e);var o=$get_scope(this),s=this.tree[0],a=1==s.tree.length&&"id"==s.expect,_=this.tree[1],i=this.loop_num,l="$locals_"+o.id.replace(/\./g,"_"),c="\n"+" ".repeat(t.indent+4),u=!1;1!=s.tree.length||o.blurred||"id"==s.expct||"expr"!=_.type||"expr"!=_.tree[0].type||"call"!=_.tree[0].tree[0].type||"id"==(B=_.tree[0].tree[0]).func.type&&"range"==B.func.value&&B.tree.length<3&&0<B.tree.length&&(u=B);var f=[],p=0,$=t.children;if(u){this.has_break&&(N=new $Node,new $NodeJSCtx(N,l+'["$no_break'+i+'"] = true'),f[p++]=N);for(var d=$get_scope(this),h=[];;){if(d.binding.range&&h.push(d.id),!d.parent_block)break;d=d.parent_block}var m=1==h.length&&"__builtins__"==h[0],g=new $Node;g.module=t.parent.module,new $NodeJSCtx(g,m?"if(1)":"if("+B.func.to_js()+" === _b_.range)"),f[p++]=g;s.to_js();var b,y,v,x,B=!1;y=1==u.tree.length?("int"==(y=u.tree[0].tree[0]).tree[0].type&&0<(y=parseInt(y.to_js()))<$B.max_int&&(B=!0,b="$i"+$B.UUID(),v=$NodeJS("for (var "+b+" = 0; "+b+" < "+y+"; "+b+"++)"),x=make_assign(s,b,t.parent.module),v.add(x)),u.tree[b=0].to_js()):(b=u.tree[0].to_js(),u.tree[1].to_js()),B||(C="var $stop_"+i+" = $B.int_or_bool("+y+"),"+c+"        $next"+i+" = "+b+","+c+"        $safe"+i+" = typeof $next"+i+' == "number" && typeof $stop_'+i+' == "number";'+c+"    while(true)",v=new $Node,new $NodeJSCtx(v,C),v.add($NodeJS("if($safe"+i+" && $next"+i+">= $stop_"+i+"){break}")),v.add($NodeJS("else if(!$safe"+i+" && $B.ge($next"+i+", $stop_"+i+")){break}")),x=make_assign(s,"$next"+i,t.parent.module),v.add(x),v.add($NodeJS("if($safe"+i+"){$next"+i+" += 1}")),v.add($NodeJS("else{$next"+i+" = $B.add($next"+i+",1)}")));for(O of $)v.add(O.clone_tree());"return"!=$B.last(t.children).C.tree[0].type&&(C='$locals.$line_info = "'+t.line_num+","+this.module+'";if($locals.$f_trace !== _b_.None){$B.trace_line()};_b_.None;',v.add($NodeJS(C)));var w=!1;if("module"==o.ntype)for(r=t.parent;r;){if(r.for_wrapper){w=!0;break}r=r.parent}if("module"!=o.ntype||w?g.add(v):((o=new $Node).for_wrapper=!0,C="function $f"+i+"(",this.has_break&&(C+="$no_break"+i),new $NodeJSCtx(o,C+=")"),g.add(o),o.add(v),this.has_break&&o.add($NodeJS("return $no_break"+i)),g.add($NodeJS("var $res"+i+" = $f"+i+"();")),this.has_break&&g.add($NodeJS("var $no_break"+i+" = $res"+i))),m){t.parent.children.splice(e,1);var k=0;this.has_break&&(t.parent.insert(e,f[0]),k++);for(O of f[k].children)t.parent.insert(e+k,O);return t.parent.children[e].line_num=t.line_num,t.parent.children[e].bindings=t.bindings,t.children=[],0}var E=$NodeJS("else");f[p++]=E;for(var j=f.length-1;0<=j;j--)t.parent.insert(e+1,f[j]);this.test_range=!0,f=[],p=0}var N=new $Node;N.line_num=$get_node(this).line_num;var g=_.to_js(),m="$iter"+i,C="var "+m+" = "+g+';$locals["$next'+i+'"] = $B.$getattr($B.$iter('+m+'),"__next__")';"expr"==g&&console.log("it js is expr, iterable",_),new $NodeJSCtx(N,C),f[p++]=N,this.has_break&&(f[p++]=$NodeJS(l+'["$no_break'+i+'"] = true;'));var S=new $Node;if(C=this.has_break?"while("+l+'["$no_break'+i+'"])':"while(true)",new $NodeJSCtx(S,C),S.C.loop_num=i,S.C.type="for",f[p++]=S,t.parent.children.splice(e,1),this.test_range)for(j=f.length-1;0<=j;j--)E.insert(0,f[j]);else for(j=f.length-1;0<=j;j--)t.parent.insert(e,f[j]),f.length;N=$NodeJS("try");N.bindings=t.bindings,S.add(N);l=new $Node;l.id=this.module;var O,p=new $NodeCtx(l),p=new $ExprCtx(p,"left",!0);a?((a=new $ListOrTupleCtx(p)).real="tuple",a.tree=s.tree):p.tree=s.tree,new $AssignCtx(p).tree[1]=new $JSCode('$locals["$next'+i+'"]()'),N.add(l),S.add($NodeJS("catch($err){if($B.is_exc($err, [_b_.StopIteration])){break;}else{throw($err)}}"));for(O of $)S.add(O.clone());return 0==t.children.length&&console.log("bizarre",this),"return"!=$B.last(t.children).C.tree[0].type&&(C='$locals.$line_info = "'+t.line_num+","+this.module+'";if($locals.$f_trace !== _b_.None){$B.trace_line()};_b_.None;',S.add($NodeJS(C))),t.children=[],0},$ForExpr.prototype.transform_async=function(t,e){var r=$get_scope(this),n=this.tree[0],o=(1==n.tree.length&&n.expect,this.tree[1]),s=this.loop_num,a=(r.id.replace(/\./g,"_")," ".repeat(t.indent+4),[]),_="$iter"+s,i="$type"+s,l="$running"+s,r="$anext"+s,s="var "+_+" = "+o.to_js();a.push($NodeJS(s)),a.push($NodeJS("var "+i+" = _b_.type.$factory( "+_+")")),a.push($NodeJS(s=_+" = $B.$call($B.$getattr("+i+', "__aiter__"))('+_+")")),a.push($NodeJS("var "+l+" = true")),a.push($NodeJS("var "+r+" = $B.$call($B.$getattr("+i+', "__anext__"))'));var c=$NodeJS("while("+l+")");a.push(c);o=$NodeJS("try");c.add(o),1==n.tree.length?(s=n.to_js()+" = await ($B.promise("+r+"("+_+")))",o.add($NodeJS(s))):(u=new $Node,i=new $NodeCtx(u),(i=new $ExprCtx(i,"left",!1)).tree.push(n),n.parent=i,i=new $AssignCtx(i),new $RawJSCtx(i,"await ($B.promise("+r+"("+_+")))"),o.add(u));var u=$NodeJS("catch(err)");c.add(u);var f,s="if(err.__class__ === _b_.StopAsyncIteration){"+l+" = false; continue}else{throw err}";u.add($NodeJS(s));for(f of t.children)c.add(f);t.parent.children.splice(e,1);for(var p=a.length-1;0<=p;p--)t.parent.insert(e,a[p]);return t.children=[],0},$ForExpr.prototype.to_js=function(){this.js_processed=!0;var t=this.tree.pop();return"for ("+$to_js(this.tree)+" in "+t.to_js()+")"};var $FromCtx=$B.parser.$FromCtx=function(t){this.type="from",this.parent=t,this.module="",this.names=[],(t.tree[t.tree.length]=this).expect="module",this.scope=$get_scope(this)};$FromCtx.prototype.add_name=function(t){"*"==(this.names[this.names.length]=t)&&(this.scope.blurred=!0)},$FromCtx.prototype.bind_names=function(){var t,e=$get_scope(this);for(t of this.names)Array.isArray(t)&&(t=t[1]),$bind(t,e,this)},$FromCtx.prototype.transition=function(t,e){var r=this;switch(t){case"id":if("id"==r.expect)return r.add_name(e),r.expect=",",r;if("alias"==r.expect)return r.names[r.names.length-1]=[$B.last(r.names),e],r.expect=",",r;case".":if("module"==r.expect)return r.module+="id"==t?e:".",r;case"import":if("module"==r.expect)return r.expect="id",r;case"op":if("*"==e&&"id"==r.expect&&0==r.names.length)return"module"!==$get_scope(r).ntype&&$_SyntaxError(r,["import * only allowed at module level"]),r.add_name("*"),r.expect="eol",r;case",":if(","==r.expect)return r.expect="id",r;case"eol":switch(r.expect){case",":case"eol":return r.bind_names(),$transition(r.parent,t);case"id":$_SyntaxError(r,["trailing comma not allowed without surrounding parentheses"]);default:$_SyntaxError(r,["invalid syntax"])}case"as":if(","==r.expect||"eol"==r.expect)return r.expect="alias",r;case"(":if("id"==r.expect)return r.expect="id",r;case")":if(","==r.expect||"id"==r.expect)return r.expect="eol",r}$_SyntaxError(r,"token "+t+" after "+r)},$FromCtx.prototype.toString=function(){return"(from) "+this.module+" (import) "+this.names},$FromCtx.prototype.to_js=function(){this.js_processed=!0;var t=$get_scope(this),e=$get_module(this),r=e.module,n=[],o=0,s=$get_node(this).indent,a=" ".repeat(s);!r.startsWith("$exec")||(s=$B.last($B.frames_stack)[1]).module&&s.module.__name__&&(r=s.module.__name__);for(var _=this.module.split("."),i=0;i<_.length;i++)e.imports[_.slice(0,i+1).join(".")]=!0;for(var l,c=this.module.replace(/\$/g,""),u=[];0<c.length&&"."==c.charAt(0);){if(void 0===l?void 0!==$B.imported[r]&&(u=(l=$B.imported[r].__package__).split(".")):(l=$B.imported[l],u.pop()),void 0===l)return"throw _b_.SystemError.$factory(\"Parent module '' not loaded, cannot perform relative import\")";"None"===l&&console.log("package is None !"),c=c.substr(1)}c&&u.push(c),this.module=u.join(".");var f=this.module.replace(/\$/g,"");n[o++]='var module = $B.$import("',n[o++]=f+'",["';for(var p=[],i=0,$=this.names.length;i<$;i++)Array.isArray(this.names[i])?p.push(this.names[i][0]):p.push(this.names[i]);n[o++]=p.join('","')+'"], {';var d,h="";for(d in this.aliases)n[o++]=h+'"'+d+'": "'+this.aliases[d]+'"',h=",";if(n[o++]="}, {}, true);","*"==this.names[0])t.blurred=!0,n[o++]="\n"+a+"$B.import_all($locals, module);";else for(var m of this.names){var g=m;Array.isArray(m)&&(g=m[1],m=m[0]),e.imports[this.module+"."+m]=!0,n[o++]="\n"+a+'$locals["'+g+'"] = $B.$getattr($B.imported["'+f+'"], "'+m+'");'}return n[o++]="\n"+a+"_b_.None;",n.join("")};var $FuncArgs=$B.parser.$FuncArgs=function(t){this.type="func_args",this.parent=t,this.tree=[],this.names=[],(t.tree[t.tree.length]=this).expect="id",this.has_default=!1,this.has_star_arg=!1,this.has_kw_arg=!1};$FuncArgs.prototype.toString=function(){return"func args "+this.tree},$FuncArgs.prototype.transition=function(t,e){var r=this;function n(){if(0!=r.tree.length){var t=$B.last(r.tree);if(r.has_default&&!t.has_default){if("func_star_arg"==t.type||"end_positional"==t.type)return;if(-1<r.names.indexOf("*"))return;$_SyntaxError(r,["non-default argument follows default argument"])}t.has_default&&(r.has_default=!0)}}switch(t){case"id":return r.has_kw_arg&&$_SyntaxError(r,"duplicate keyword argument"),"id"==r.expect&&(r.expect=",",-1<r.names.indexOf(e)&&$_SyntaxError(r,["duplicate argument "+e+" in function definition"])),new $FuncArgIdCtx(r,e);case",":if(","==r.expect)return n(),r.expect="id",r;$_SyntaxError(r,"token "+t+" after "+r);case")":n();var o=$B.last(r.tree);return o&&"func_star_arg"==o.type&&"*"==o.name&&("*"==r.op?$_SyntaxError(r,["named arguments must follow bare *"]):$_SyntaxError(r,"invalid syntax")),r.parent;case"op":r.has_kw_arg&&$_SyntaxError(r,"duplicate keyword argument");o=e;if(r.expect=",","*"==o)return r.has_star_arg&&$_SyntaxError(r,"duplicate star argument"),new $FuncStarArgCtx(r,"*");if("**"==o)return new $FuncStarArgCtx(r,"**");if("/"==o)return r.has_end_positional?$_SyntaxError(r,["duplicate / in function parameters"]):r.has_star_arg&&$_SyntaxError(r,["/ after * in function parameters"]),new $EndOfPositionalCtx(r);$_SyntaxError(r,"token "+o+" after "+r);case":":if("lambda"==r.parent.type)return $transition(r.parent,t)}$_SyntaxError(r,"token "+t+" after "+r)},$FuncArgs.prototype.to_js=function(){return this.js_processed=!0,$to_js(this.tree)};var $FuncArgIdCtx=$B.parser.$FuncArgIdCtx=function(t,e){var r;this.type="func_arg_id",-1<["None","True","False"].indexOf(e)&&$_SyntaxError(t,"invalid name"),this.name=e,((this.parent=t).has_star_arg?t.parent.after_star:t.parent.positional_list).push(e),"lambda"!=t.parent.type&&((r=$get_node(this)).binding[e]&&$_SyntaxError(t,["duplicate argument '"+e+"' in function definition"]),$bind(e,r,this)),this.tree=[],t.tree[t.tree.length]=this;for(var n=t;void 0!==n.parent;){if("def"==n.type){n.locals.push(e);break}n=n.parent}this.expect="="};$FuncArgIdCtx.prototype.toString=function(){return"func arg id "+this.name+"="+this.tree},$FuncArgIdCtx.prototype.transition=function(t,e){var r=this;switch(t){case"=":if("="!=r.expect)break;r.has_default=!0;var n=r.parent.parent;return r.parent.has_star_arg?n.default_list.push(n.after_star.pop()):n.default_list.push(n.positional_list.pop()),new $AbstractExprCtx(r,!1);case",":case")":if(!r.parent.has_default||0!=r.tree.length||void 0!==r.parent.has_star_arg)return $transition(r.parent,t);$pos-=r.name.length,$_SyntaxError(r,["non-default argument follows default argument"]);case":":return"lambda"==r.parent.parent.type?$transition(r.parent.parent,":"):(r.has_default&&$_SyntaxError(r,"token "+t+" after "+r),new $AbstractExprCtx(new $AnnotationCtx(r),!1))}$_SyntaxError(r,"token "+t+" after "+r)},$FuncArgIdCtx.prototype.to_js=function(){return this.js_processed=!0,this.name+$to_js(this.tree)};var $FuncStarArgCtx=$B.parser.$FuncStarArgCtx=function(t,e){this.type="func_star_arg",this.op=e,this.parent=t,this.node=$get_node(this),t.has_star_arg="*"==e,t.has_kw_arg="**"==e,t.tree[t.tree.length]=this};$FuncStarArgCtx.prototype.toString=function(){return"(func star arg "+this.op+") "+this.name},$FuncStarArgCtx.prototype.transition=function(t,e){var r=this;switch(t){case"id":return void 0===r.name&&-1<r.parent.names.indexOf(e)&&$_SyntaxError(r,["duplicate argument "+e+" in function definition"]),-1<["None","True","False"].indexOf(e)&&$_SyntaxError(r,"invalid name"),r.set_name(e),r.parent.names.push(e),r;case",":case")":return void 0===r.name&&(r.set_name("*"),r.parent.names.push("*")),$transition(r.parent,t);case":":return"lambda"==r.parent.parent.type?$transition(r.parent.parent,":"):(void 0===r.name&&$_SyntaxError(r,"annotation on an unnamed parameter"),new $AbstractExprCtx(new $AnnotationCtx(r),!1))}$_SyntaxError(r,"token "+t+" after "+r)},$FuncStarArgCtx.prototype.set_name=function(t){this.name=t,"lambda"!=this.parent.parent.type&&(this.node.binding[t]&&$_SyntaxError(C,["duplicate argument '"+t+"' in function definition"]),$bind(t,this.node,this));for(var e=this.parent;void 0!==e.parent;){if("def"==e.type){e.locals.push(t);break}e=e.parent}"*"==this.op?e.other_args='"'+t+'"':e.other_kw='"'+t+'"'};var $GlobalCtx=$B.parser.$GlobalCtx=function(t){for(this.type="global",this.parent=t,this.tree=[],(t.tree[t.tree.length]=this).expect="id",this.scope=$get_scope(this),this.scope.globals=this.scope.globals||new Set,this.module=$get_module(this);this.module.module!=this.module.id;)this.module=this.module.parent_block;this.module.binding=this.module.binding||{},this.$pos=$pos};function check_global_nonlocal(t,e,r){var n,o=t.scope;"nonlocal"==r&&o.globals&&o.globals.has(e)&&$_SyntaxError(t,[`name '${e}' is nonlocal and global`]),"global"==r&&o.nonlocals&&o.nonlocals.has(e)&&$_SyntaxError(t,[`name '${e}' is nonlocal and global`]),-1<["def","generator"].indexOf(o.ntype)&&((n=o.C.tree[0]).locals&&-1<n.locals.indexOf(e)&&$_SyntaxError(t,[`name '${e}' is parameter and ${r}`]),o.binding[e]&&(console.log("scope ntype",o),$_SyntaxError(t,[`name '${e}' is assigned to before ${r} declaration`])),o.referenced&&o.referenced[e]&&$_SyntaxError(t,[`name '${e}' is used prior to ${r} declaration`]))}$GlobalCtx.prototype.toString=function(){return"global "+this.tree},$GlobalCtx.prototype.transition=function(t,e){var r=this;switch(t){case"id":if("id"==r.expect)return check_global_nonlocal(r,e,"global"),new $IdCtx(r,e),r.add(e),r.expect=",",r;break;case",":if(","==r.expect)return r.expect="id",r;break;case"eol":if(","==r.expect)return $transition(r.parent,t)}$_SyntaxError(r,"token "+t+" after "+r)},$GlobalCtx.prototype.add=function(t){if(this.scope.annotations&&this.scope.annotations.has(t)&&$_SyntaxError(this,["annotated name '"+t+"' can't be global"]),"module"!=this.scope.type){this.scope.binding&&this.scope.binding[t]&&(console.log("error globals, scope",this.scope),$pos=this.$pos-1,$_SyntaxError(this,[`name '${t}' is parameter and global`])),this.scope.globals.add(t);var e=this.scope.parent_block;if(this.module.module.startsWith("$exec"))for(;e&&e.parent_block!==this.module;)e._globals=e._globals||new Map,e._globals.set(t,this.module.id),delete e.binding[t],e=e.parent_block;this.module.binding[t]=!0}},$GlobalCtx.prototype.to_js=function(){return this.js_processed=!0,""};var $IdCtx=$B.parser.$IdCtx=function(t,e){this.type="id",this.value=$mangle(e,t),this.parent=t,this.tree=[];var r=(t.tree[t.tree.length]=this).scope=$get_scope(this);this.blurred_scope=this.scope.blurred,this.env=clone(this.scope.binding),-1<["def","generator"].indexOf(r.ntype)&&(t instanceof $GlobalCtx||t instanceof $NonlocalCtx||(r.referenced=r.referenced||{},$B.builtins[this.value]||(r.referenced[this.value]=!0))),"call_arg"==t.parent.type&&(this.call_arg=!0);for(var n=t;void 0!==n.parent;){switch(n.type){case"ctx_manager_alias":$bind(e,r,this);break;case"list_or_tuple":case"dict_or_set":case"call_arg":case"def":case"lambda":void 0===n.vars?n.vars=[e]:-1==n.vars.indexOf(e)&&n.vars.push(e),this.call_arg&&"lambda"==n.type&&(void 0===n.locals?n.locals=[e]:n.locals.push(e))}n=n.parent}if($parent_match(t,{type:"target_list"})&&(this.no_bindings=!0,this.bound=!0),-1<["def","generator"].indexOf(r.ntype)){for(var o=this.parent;o;){if("list_or_tuple"==o.type&&o.is_comp()){this.in_comp=!0;break}o=o.parent}"expr"==t.type&&"comp_if"==t.parent.type||"global"==t.type&&(void 0===r.globals?r.globals=new Set([e]):r.globals.add(e))}};$IdCtx.prototype.ast=function(){return new(-1<["True","False","None"].indexOf(this.value)?ast.Constant:ast.Name)(this.value)},$IdCtx.prototype.toString=function(){return"(id) "+this.value+":"+(this.tree||"")},$IdCtx.prototype.transition=function(t,e){var r=this;if("case"==r.value&&"node"==r.parent.parent.type){var n=r.parent.$pos,o=$get_module(this).src;try{var s=line_ends_with_comma(o.substr(n))}catch(t){$pos=n+t.offset,$_SyntaxError(r,[t.message])}if(s){var a=$get_node(r);a.parent;return a.parent&&a.parent.is_match?a.parent.irrefutable&&(a=a.parent.irrefutable,$_SyntaxError(r,[`${"_"==a?"wildcard":`name capture '${a}'`} makes remaining patterns unreachable`])):$_SyntaxError(r,'"case" not inside "match"'),$transition(new $PatternCtx(new $CaseCtx(r.parent.parent)),t,e)}}else if("match"==r.value&&"node"==r.parent.parent.type){n=r.parent.$pos;if(s=line_ends_with_comma((o=$get_module(this).src).substr(n)))return $transition(new $AbstractExprCtx(new $MatchCtx(r.parent.parent),!0),t,e)}switch(t){case"=":return"expr"==r.parent.type&&void 0!==r.parent.parent&&"call_arg"==r.parent.parent.type?new $AbstractExprCtx(new $KwArgCtx(r.parent),!1):$transition(r.parent,t,e);case".":return delete this.bound,$transition(r.parent,t,e);case"op":return $transition(r.parent,t,e);case"id":case"str":case"JoinedStr":case"int":case"float":case"imaginary":-1<["print","exec"].indexOf(r.value)&&$_SyntaxError(r,["missing parenthesis in call to '"+r.value+"'"]),$_SyntaxError(r,"token "+t+" after "+r)}return"packed"==this.parent.parent.type&&-1==[".","[","("].indexOf(t)?this.parent.parent.transition(t,e):$transition(r.parent,t,e)},$IdCtx.prototype.firstBindingScopeId=function(){for(var t=this.scope;t;){if(t.globals&&t.globals.has(this.value))return $get_module(this).id;if(t.binding&&t.binding[this.value])return t.id;t=t.parent}},$IdCtx.prototype.boundBefore=function(t){function e(t,e){if(t.bindings&&t.bindings[e]){t=t.C.tree[0];return-1<["def","generator"].indexOf(t.type)&&-1<t.locals.indexOf(e)?void 0:1}}var r=$get_node(this);for(0;r.parent;){var n=r.parent;if(e(n,this.value))return n.bindings[this.value];for(var o=0;o<n.children.length;o++){var s=n.children[o];if(s===r)break;if(e(s,this.value))return s.bindings[this.value]}if(n===t)break;r=n}return!1},$IdCtx.prototype.bindingType=function(t){for(var e,r,n=0,o=$get_node(this),s=!1;!s&&o.parent&&n++<100;){var a=o.parent;if(a.bindings&&a.bindings[this.value])return a.bindings[this.value];for(var _=0;_<a.children.length;_++){var i=a.children[_];if(i===o)break;i.bindings&&i.bindings[this.value]&&(s=i.bindings[this.value],r=_)}if(s){for(var l=r+1;l<a.children.length;l++){if(0<(i=a.children[l]).children.length){e=!0;break}if(i===o)break}return e||s}if(a===t)break;o=a}return s},$IdCtx.prototype.to_js=function(t){if(void 0!==this.result&&"generator"==this.scope.ntype)return this.result;var e=this.value;if(0,"__BRYTHON__"==e||"$B"==e)return e;if(e.startsWith("comp_result_"+$B.lambda_magic))return this.bound?"var "+e:e;if(this.js_processed=!0,this.scope._globals&&this.scope._globals.has(e)&&(this.global_module=this.scope._globals.get(e)),this.global_module)return this.bound?"$locals_"+this.global_module.replace(/\./g,"_")+'["'+e+'"]':'$B.$check_def_global("'+e+'", $locals_'+this.global_module.replace(/\./g,"_")+")";var r=void 0!==this.scope.binding[e],n=$get_node(this),o=n.bound_before;if(this.nonlocal=this.scope.nonlocals&&this.scope.nonlocals.has(e),this.unbound=this.unbound||r&&!this.bound&&o&&-1==o.indexOf(e),!this.bound&&this.scope.C&&"class"==this.scope.ntype&&this.scope.C.tree[0].name==e)return'$B.$search("'+e+'")';if(this.unbound&&!this.nonlocal)return"def"==this.scope.ntype||"generator"==this.scope.ntype?'$B.$local_search("'+e+'")':'$B.$search("'+e+'")';var s=$get_scope(this),a=s,_=[];for(var i=['"'+s.id+'"'],l=s;;){if(0,l.parent_block){if(l.parent_block==$B.builtins_scope)break;if(void 0===l.parent_block.id)break;l=l.parent_block}"class"==s.ntype&&l.parent_block!==$B.builtins_scope||i.push('"'+l.id+'"')}if(i="["+i.join(", ")+"]",s.globals&&s.globals.has(e)&&(i=['"'+l.id+'"'],s=l),this.nonlocal||this.bound){var c=this.firstBindingScopeId();if(0,void 0!==c)return"$locals_"+c.replace(/\./g,"_")+'["'+e+'"]';if(this.bound)return"$locals_"+s.id.replace(/\./g,"_")+'["'+e+'"]'}for(var u="$locals_"+l.id.replace(/\./g,"_");;){if(void 0!==a.globals&&a.globals.has(e))return this.boundBefore(l)||this.augm_assign?u+'["'+e+'"]':'$B.$check_def("'+e+'", '+u+'["'+e+'"])';if(0,a===s){if(o&&0<o.length)(-1<o.indexOf(e)||a.C&&"def"==a.C.tree[0].type&&-1<a.C.tree[0].env.indexOf(e))&&_.push(a);else if(a.binding[e]){if(0,void 0!==n.locals[e]){_.push(a);break}a.is_comp||a.parent_block&&a.parent_block.is_comp||_.push(a)}}else void 0===a.binding&&console.log("scope",a,e,"no binding",s),s.binding[e]&&"class"==s.ntype?!a.binding[e]||a.parent_block&&"__builtins__"!=a.parent_block.id||_.push(a):a.binding[e]&&_.push(a);if(!a.parent_block)break;a=a.parent_block}if(this.found=_,this.nonlocal&&_[0]===s&&_.shift(),0<_.length){if(_[0].C&&_[0]===s&&"$"!=e.charAt(0)){var c=n.locals||{},f=s.nonlocals;try{if(void 0===c[e]&&!this.augm_assign&&("def"!=s.type||"generator"!=s.type)&&"class"!=s.ntype&&s.C.tree[0].args&&-1==s.C.tree[0].args.indexOf(e)&&(void 0===f||void 0===f[e]))return this.result='$B.$local_search("'+e+'")',this.result}catch(t){throw console.log("error",e,s),t}}if(1<_.length&&_[0].C&&"class"==_[0].C.tree[0].type){var f="$locals_"+_[0].id.replace(/\./g,"_"),p="$locals_"+_[1].id.replace(/\./g,"_");if(o)return $=-1<o.indexOf(e)?(this.found=_[0].binding[e],f):(this.found=_[1].binding[e],p),this.result=$+'["'+e+'"]',this.result;this.found=!1;var $=f+'["'+e+'"] !== undefined ? ';return this.result="("+($+=f+'["'+e+'"] : ')+p+'["'+e+'"])',this.result}a=_[0];this.found=a.binding[e];p="$locals_"+a.id.replace(/\./g,"_");if(void 0===a.C)if(0,"__builtins__"==a.id)l.blurred?e="("+u+'["'+e+'"] || _b_.'+e+")":(e="_b_."+e,this.is_builtin=!0);else if(0,this.bound||this.augm_assign)e=p+'["'+e+'"]';else{if(a===s&&void 0===this.env[e])return this.result='$B.$search("'+e+'")',this.result;e=this.boundBefore(a)?p+'["'+e+'"]':'$B.$check_def("'+e+'",'+p+'["'+e+'"])'}else e=a===s?a.globals&&a.globals.has(e)?u+'["'+e+'"]':this.bound||this.augm_assign||this.boundBefore(a)?'$locals["'+e+'"]':'$B.$check_def_local("'+e+'",$locals["'+e+'"])':this.augm_assign?p+'["'+e+'"]':'$B.$check_def_free("'+e+'",'+p+'["'+e+'"])';return this.result=e+$to_js(this.tree,""),this.result}return this.unknown_binding=!0,this.result='$B.$global_search("'+e+'", '+i+")",this.result};var $ImportCtx=$B.parser.$ImportCtx=function(t){this.type="import",this.parent=t,this.tree=[],(t.tree[t.tree.length]=this).expect="id"};$ImportCtx.prototype.toString=function(){return"import "+this.tree},$ImportCtx.prototype.transition=function(t,e){var r=this;switch(t){case"id":if("id"==r.expect)return new $ImportedModuleCtx(r,e),r.expect=",",r;if("qual"==r.expect)return r.expect=",",r.tree[r.tree.length-1].name+="."+e,r.tree[r.tree.length-1].alias+="."+e,r;if("alias"==r.expect)return r.expect=",",r.tree[r.tree.length-1].alias=e,r;break;case".":if(","==r.expect)return r.expect="qual",r;break;case",":if(","==r.expect)return r.expect="id",r;break;case"as":if(","==r.expect)return r.expect="alias",r;break;case"eol":if(","==r.expect)return r.bind_names(),$transition(r.parent,t)}$_SyntaxError(r,"token "+t+" after "+r)},$ImportCtx.prototype.bind_names=function(){var t,e,r,n=$get_scope(this);for(t of this.tree)t.name==t.alias?(e=(r=t.name).split("."),r=r,1<e.length&&(r=e[0])):r=t.alias,$bind(r,n,this)},$ImportCtx.prototype.to_js=function(){this.js_processed=!0;var t,e=$get_scope(this),r=[],n=$get_module(this);for(t of this.tree){for(var o=t.name,s=t.name==t.alias?"{}":'{"'+o+'" : "'+t.alias+'"}',a="$locals_"+e.id.replace(/\./g,"_"),_=t.name.split("."),i=0;i<_.length;i++)n.imports[_.slice(0,i+1).join(".")]=!0;r.push('$B.$import("'+o+'", [],'+s+","+a+", true);")}return r.join("")+"_b_.None;"};var $ImportedModuleCtx=$B.parser.$ImportedModuleCtx=function(t,e){this.type="imported module",this.parent=t,this.name=e,this.alias=e,t.tree[t.tree.length]=this};$ImportedModuleCtx.prototype.toString=function(){return" (imported module) "+this.name},$ImportedModuleCtx.prototype.transition=function(t,e){},$ImportedModuleCtx.prototype.to_js=function(){return this.js_processed=!0,'"'+this.name+'"'};var JoinedStrCtx=$B.parser.JoinedStrCtx=function(t,e){this.type="JoinedStr",this.parent=t,this.tree=[],this.scope=$get_scope(t);var r,n,o,s,a=$get_node(t).line_num;for(r of e)"string"==typeof r?new $StringCtx(this,"'"+r.replace(new RegExp("'","g"),"\\'")+"'"):(void 0!==r.format&&(r.format=new JoinedStrCtx(this,r.format),this.tree.pop()),n=r.expression,o=$pos,s=$create_root_node({src:n},this.scope.module,this.scope.id,this.scope.parent_block,a),dispatch_tokens(s,n),$pos=o,s=s.children[0].C.tree[0],this.tree.push(s),s.parent=this,s.elt=r);t.tree.push(this),this.raw=!1,this.$pos=$pos};JoinedStrCtx.prototype.ast=function(){console.log("ast, values",this.tree);var t,e,r={type:"JoinedStr",values:[]};for(t of this.tree)t instanceof $StringCtx?r.values.push(new ast.Constant(t.value)):(e={type:"FormattedValue",value:t,conversion:{a:97,r:114,s:115}[t.conversion]||-1},void 0!==t.format&&(e.format=t.format.ast()),r.values.push(e));return r},JoinedStrCtx.prototype.toString=function(){return"f-string "+(this.tree||"")},JoinedStrCtx.prototype.transition=function(token,value){var C=this;switch(token){case"[":return new $AbstractExprCtx(new $SubCtx(C.parent),!1);case"(":return C.parent.tree[0]=C,new $CallCtx(C.parent);case"str":return 0<C.tree.length&&"string"==typeof $B.last(C.tree)?C.tree[C.tree.length-1]=$B.last(C.tree)+eval(value):new $StringCtx(this,value),C;case"JoinedStr":var joined_expr=new JoinedStrCtx(C.parent,value);return C.parent.tree.pop(),0<C.tree.length&&$B.last(C.tree)instanceof $StringCtx&&joined_expr.tree[0]instanceof $StringCtx?($B.last(C.tree).value+=" + "+joined_expr.tree[0].value,C.tree=C.tree.concat(joined_expr.tree.slice(1))):C.tree=C.tree.concat(joined_expr.tree),C}return $transition(C.parent,token,value)},JoinedStrCtx.prototype.to_js=function(){this.js_processed=!0;var t,e=[];for(t of this.tree)if(t instanceof $StringCtx)e.push(t.to_js());else{var r=t.elt,n=t.to_js();switch(r.conversion){case"a":n="_b_.ascii("+n+")";break;case"r":n="_b_.repr("+n+")";break;case"s":n="_b_.str.$factory("+n+")"}var o=r.format;void 0!==o?n="_b_.str.format('{0:' + "+o.to_js()+" + '}', "+n+")":null===r.conversion&&(n="_b_.str.$factory("+n+")"),e.push(n)}return"$B.String("+(e.join(" + ")||"''")+")"};var $JSCode=$B.parser.$JSCode=function(t){this.js=t};$JSCode.prototype.toString=function(){return this.js},$JSCode.prototype.transition=function(t,e){},$JSCode.prototype.to_js=function(){return this.js_processed=!0,this.js};var $KwArgCtx=$B.parser.$KwArgCtx=function(t){this.type="kwarg",this.parent=t.parent,this.tree=[t.tree[0]],t.parent.tree.pop(),t.parent.tree.push(this),t.parent.parent.has_kw=!0;var e=this.tree[0].value,r=t.parent.parent;void 0===r.kwargs?r.kwargs=[e]:-1==r.kwargs.indexOf(e)?r.kwargs.push(e):$_SyntaxError(t,["keyword argument repeated"])};$KwArgCtx.prototype.toString=function(){return"kwarg "+this.tree[0]+"="+this.tree[1]},$KwArgCtx.prototype.transition=function(t,e){return","==t?new $CallArgCtx(this.parent.parent):$transition(this.parent,t)},$KwArgCtx.prototype.to_js=function(){return this.js_processed=!0,'{$nat:"kw",name:"'+this.tree[0].value+'",'+"value:"+$to_js(this.tree.slice(1,this.tree.length))+"}"};var $LambdaCtx=$B.parser.$LambdaCtx=function(t){this.type="lambda",((this.parent=t).tree[t.tree.length]=this).tree=[],this.args_start=$pos+6,this.vars=[],this.locals=[],this.node=$get_node(this),this.positional_list=[],this.default_list=[],this.other_args=null,this.other_kw=null,this.after_star=[]};$LambdaCtx.prototype.toString=function(){return"(lambda) "+this.args_start+" "+this.body_start},$LambdaCtx.prototype.transition=function(t,e){var r=this;return":"==t&&void 0===r.args?(r.args=r.tree,r.tree=[],r.body_start=$pos,new $AbstractExprCtx(r,!1)):void 0!==r.args?(r.body_end=$pos,$transition(r.parent,t)):void 0===r.args&&"("!=t?$transition(new $FuncArgs(r),t,e):void $_SyntaxError(r,"token "+t+" after "+r)},$LambdaCtx.prototype.to_js=function(){this.js_processed=!0;var t=this.parent,e=this.node,r=$get_module(this),n=$get_src(t),o=n.substring(this.args_start,this.body_start),s=(s=n.substring(this.body_start+1,this.body_end)).replace(/\\\n/g," "),a=$get_scope(this),_=$B.UUID(),t="lambda_"+$B.lambda_magic+"_"+_,n="def "+t+"("+o+"):\n";n+="    return ("+s+"\n)";s="lambda"+_,_=r.id.replace(/\./g,"_"),a=$B.py2js(n,_,s,a,e.line_num).to_js(),e=`$locals_${s}`,o="{}";return r.is_comp&&(e+=`, $locals_${r.id.replace(/\./g,"_")}`,o+=`, typeof $locals_${r.id.replace(/\./g,"_")} `+` === "undefined" ? {} : $locals_${r.id.replace(/\./g,"_")}`),a=`(function(${e}){\n`+a+`\nreturn $locals.${t}})(${o})`,$B.clear_ns(s),$B.$py_src[s]=null,delete $B.$py_src[s],a};var $ListOrTupleCtx=$B.parser.$ListOrTupleCtx=function(t,e){this.type="list_or_tuple",this.start=$pos,this.real=e,this.expect="id",this.closed=!1,this.parent=t,this.tree=[],t.tree[t.tree.length]=this};$ListOrTupleCtx.prototype.ast=function(){var t,e=[];for(t of this.tree)e.push(ast_or_obj(t));return{type:"List",elts:e}},$ListOrTupleCtx.prototype.toString=function(){switch(this.real){case"list":return"(list) ["+this.tree+"]";case"list_comp":case"gen_expr":return"("+this.real+") ["+this.intervals+"-"+this.tree+"]";default:return"(tuple) ("+this.tree+")"}},$ListOrTupleCtx.prototype.transition=function(t,e){var r=this;if(r.closed)return"["==t?new $AbstractExprCtx(new $SubCtx(r.parent),!1):"("==t?new $CallCtx(r.parent):$transition(r.parent,t,e);if(","==r.expect){switch(r.real){case"tuple":case"gen_expr":if(")"!=t)break;for(var n=!0;"list_or_tuple"==r.type&&"tuple"==r.real&&"expr"==r.parent.type&&"node"==r.parent.parent.type&&1==r.tree.length;){var n=!1,o=r.parent.parent,s=o.tree.indexOf(r.parent);(i=r.tree[0]).parent=o,i.$in_parens=!0,o.tree.splice(s,1,i),r=i.tree[0]}if(n&&r.close(),"gen_expr"==r.real){if(r.expression.yields)for(const l of r.expression.yields)$pos=l[1],$_SyntaxError(r,["'yield' inside generator expression"]);r.intervals.push($pos)}return"packed"==r.parent.type?r.parent.parent:"abstract_expr"==r.parent.type&&r.parent.assign?(r.parent.parent.tree.pop(),(i=new $ExprCtx(r.parent.parent,"assign",!1)).tree=r.parent.tree,(i.tree[0].parent=i).assign=r.parent.assign,i):r.parent;case"list":case"list_comp":if("]"!=t)break;if(r.close(),"list_comp"==r.real){if(r.expression.yields)for(const c of r.expression.yields)$pos=c[1],$_SyntaxError(r,["'yield' inside list comprehension"]);r.intervals.push($pos)}return"packed"==r.parent.type?0<r.parent.tree.length?r.parent.tree[0]:r.parent.parent:r.parent;case"dict_or_set_comp":if("}"!=t)break;if(r.expression.yields)for(const u of r.expression.yields){$pos=u[1];var a="set_comp"==r.parent.real?"set":"dict";$_SyntaxError(r,[`'yield' inside ${a} comprehension`])}return r.intervals.push($pos),r.src=$get_module(r).src,$transition(r.parent,t)}switch(t){case",":return"tuple"==r.real&&(r.has_comma=!0),r.expect="id",r;case"for":"list"==r.real?(1<this.tree.length&&$_SyntaxError(r,["did you forget parentheses around the comprehension target?"]),r.real="list_comp"):r.real="gen_expr",r.intervals=[r.start+1],r.expression=r.tree,r.yields&&(r.expression.yields=r.yields,delete r.yields),r.tree=[];var _=new $ComprehensionCtx(r);return new $TargetListCtx(new $CompForCtx(_))}return $transition(r.parent,t,e)}if("id"!=r.expect)return $transition(r.parent,t,e);switch(r.real){case"tuple":if(")"==t)return r.close(),r.parent;if("eol"==t&&!0===r.implicit)return r.close(),$transition(r.parent,t);break;case"gen_expr":if(")"==t)return r.close(),$transition(r.parent,t);break;case"list":if("]"==t)return r.close(),r}switch(t){case"=":if("tuple"==r.real&&!0===r.implicit)return r.close(),r.parent.tree.pop(),(i=new $ExprCtx(r.parent,"tuple",!1)).tree=[r],r.parent=i,$transition(r.parent,t);$_SyntaxError(r,"unexpected = inside list");break;case")":break;case"]":if("tuple"==r.real&&!0===r.implicit)return $transition(r.parent,t,e);break;case",":$_SyntaxError(r,"unexpected comma inside list");default:r.expect=",";var i=new $AbstractExprCtx(r,!1);return $transition(i,t,e)}},$ListOrTupleCtx.prototype.close=function(){this.closed=!0,this.src=$get_module(this).src;for(var t=0,e=this.tree.length;t<e;t++){var r=this.tree[t];"expr"==r.type&&"list_or_tuple"==r.tree[0].type&&"tuple"==r.tree[0].real&&1==r.tree[0].tree.length&&","==r.tree[0].expect&&(this.tree[t]=r.tree[0].tree[0],this.tree[t].parent=this)}},$ListOrTupleCtx.prototype.is_comp=function(){switch(this.real){case"list_comp":case"gen_expr":case"dict_or_set_comp":return!0}return!1},$ListOrTupleCtx.prototype.get_src=function(){var t,e=$get_module(this).src,r=$get_scope(this);if(void 0===r.comments)return e;for(t of r.comments)var n=t[0],o=t[1],e=e.substr(0,n)+" ".repeat(o+1)+e.substr(n+o+1);return e},$ListOrTupleCtx.prototype.bind_ids=function(t){for(var e of this.tree){var r;"id"==e.type?($bind(e.value,t,this),e.bound=!0):"expr"==e.type&&"id"==e.tree[0].type?($bind(e.tree[0].value,t,this),e.tree[0].bound=!0):"expr"==e.type&&"packed"==e.tree[0].type?"expr"==(r=e.tree[0].tree[0]).type&&"id"==r.tree[0].type&&($bind(r.tree[0].value,t,this),r.tree[0].bound=!0):("list_or_tuple"==e.type||"expr"==e.type&&"list_or_tuple"==e.tree[0].type)&&(e="expr"==e.type?e.tree[0]:e).bind_ids(t)}},$ListOrTupleCtx.prototype.packed_indices=function(){for(var t=[],e=0;e<this.tree.length;e++){var r=this.tree[e];"expr"==r.type&&("packed"==(r=r.tree[0]).type||"call"==r.type&&"packed"==r.func.type)&&t.push(e)}return t},$ListOrTupleCtx.prototype.unpack=function(t){for(var e,r="",n=0;n<this.tree.length;n++)e=-1<t.indexOf(n)?"_b_.list.$factory("+this.tree[n].to_js()+")":"["+this.tree[n].to_js()+"]",r+=e=0<n?".concat("+e+")":e;return r},$ListOrTupleCtx.prototype.to_js=function(){this.js_processed=!0;var t,e=$get_scope(this),r=(e.id.replace(/\//g,"_"),0),n=(m=$get_module(this)).module;switch(this.real){case"list":return 0<(t=this.packed_indices()).length?"$B.$list("+this.unpack(t)+")":"$B.$list(["+$to_js(this.tree)+"])";case"list_comp":case"gen_expr":case"dict_or_set_comp":void 0===this.src&&(console.log("no src",this),console.log($B.frames_stack.slice()));for(var o=this.src,s=[],a=[],_=new RegExp('"',"g"),i=m.comments,l=1;l<this.intervals.length;l++){for(var c=this.intervals[l-1],u=this.intervals[l],f=o.substring(c,u),p=i.length-1;0<=p;p--){var $=i[p];$[0]>c&&$[0]<u&&(r=$[0]-c,f=f.substr(0,r)+" ".repeat($[1])+f.substr(r+$[1]+1))}f=f.replace(/\\\n/g," "),a.push(f);var d=[];for(f of f.split("\n"))0!=f.replace(/ /g,"").length&&(f=(f=(f=f.replace(/\n/g," ")).replace(/\\/g,"\\\\")).replace(_,'\\"'),d.push('"'+f+'"'));s.push("["+d.join(",")+"]")}var h=$get_node(this).line_num;switch(this.real){case"list_comp":var m,g=$B.$list_comp(a),b=g[0],y=g[1],v="comp_result_"+$B.lambda_magic+y,g=$pos,y=void 0!==(m=$B.py2js({src:b,is_comp:"listcomp",line_info:h+","+n},n,v,e,1)).yields_func_check,b=m.outermost_expr,b=(b=void 0===(b=$get_node(this).has_yield?this.tree[0].tree[0].tree[1]:b)?m.first_for.tree[1]:b).to_js();$pos=g;g=m.to_js();return m=null,$B.clear_ns(v),delete $B.$py_src[v],g="function"+(y?"*":"")+`(_expr){${g+="return "+v}})(${b})`,"("+(g=this.is_await?"async "+g:g);case"dict_or_set_comp":return 1==this.expression.length?$B.$gen_expr(n,e,a,h,!0):$B.$dict_comp(n,e,a,h)}return $B.$gen_expr(n,e,a,h);case"tuple":return 0<(t=this.packed_indices()).length?"$B.fast_tuple("+this.unpack(t)+")":1==this.tree.length&&void 0===this.has_comma?this.tree[0].to_js():"$B.fast_tuple(["+$to_js(this.tree)+"])"}};var $MatchCtx=$B.parser.$MatchCtx=function(t){this.type="match",t.tree=[this],t.node.is_match=!0,this.parent=t,this.tree=[],this.expect="as"};$MatchCtx.prototype.transition=function(t,e){switch(t){case"as":return new $AbstractExprCtx(new $AliasCtx(this));case":":switch(this.expect){case"id":case"as":case":":return $BodyCtx(this)}}},$MatchCtx.prototype.to_js=function(){return"var subject = "+$to_js(this.tree)+";if(true)"};var $NodeCtx=$B.parser.$NodeCtx=function(t){((this.node=t).C=this).tree=[],this.type="node";for(var e=null,r=t;r.parent&&"module"!=r.parent.type;){var n=!1;switch(r.parent.C.tree[0].type){case"def":case"class":case"generator":e=r.parent,n=!0}if(n)break;r=r.parent}null===e&&(e=r.parent||r),this.node.locals=clone(e.binding),this.scope=e};$NodeCtx.prototype.toString=function(){return"node "+this.tree},$NodeCtx.prototype.transition=function(t,e){var r,n=this;switch(this.node.parent&&this.node.parent.C&&((r=this.node.parent.C).tree&&1==r.tree.length&&"match"==r.tree[0].type&&("eol"==t||"id"===t&&"case"===e||(n.$pos=$pos,$_SyntaxError(n,'line does not start with "case"')))),t){case",":n.tree&&0==n.tree.length&&$_SyntaxError(n,"token "+t+" after "+n);var o=n.tree[0];n.tree=[];var s=new $ListOrTupleCtx(n);return s.real="tuple",s.implicit=0,s.tree.push(o),o.parent=s;case"[":case"(":case"{":case".":case"bytes":case"float":case"id":case"imaginary":case"int":case"str":case"JoinedStr":case"not":case"lambda":var a=new $AbstractExprCtx(n,!0);return $transition(a,t,e);case"assert":return new $AbstractExprCtx(new $AssertCtx(n),!1,!0);case"async":return new $AsyncCtx(n);case"await":return new $AbstractExprCtx(new $AwaitCtx(n),!0);case"break":return new $BreakCtx(n);case"class":return new $ClassCtx(n);case"continue":return new $ContinueCtx(n);case"__debugger__":return new $DebuggerCtx(n);case"def":return new $DefCtx(n);case"del":return new $AbstractExprCtx(new $DelCtx(n),!0);case"elif":var _=$previous(n);return-1!=["condition"].indexOf(_.type)&&"while"!=_.token||$_SyntaxError(n,"elif after "+_.type),new $AbstractExprCtx(new $ConditionCtx(n,t),!1);case"ellipsis":a=new $AbstractExprCtx(n,!0);return $transition(a,t,e);case"else":_=$previous(n);return-1==["condition","except","for"].indexOf(_.type)&&$_SyntaxError(n,"else after "+_.type),new $SingleKwCtx(n,t);case"except":_=$previous(n);return-1==["try","except"].indexOf(_.type)&&$_SyntaxError(n,"except after "+_.type),new $ExceptCtx(n);case"finally":_=$previous(n);return-1!=["try","except"].indexOf(_.type)||"single_kw"==_.type&&"else"==_.token||$_SyntaxError(n,"finally after "+_.type),new $SingleKwCtx(n,t);case"for":return new $TargetListCtx(new $ForExpr(n));case"from":return new $FromCtx(n);case"global":return new $GlobalCtx(n);case"if":case"while":return new $AbstractExprCtx(new $ConditionCtx(n,t),!1);case"import":return new $ImportCtx(n);case"lambda":return new $LambdaCtx(n);case"nonlocal":return new $NonlocalCtx(n);case"op":switch(e){case"*":a=new $AbstractExprCtx(n,!0);return $transition(a,t,e);case"+":case"-":case"~":return new $UnaryCtx(n,e);case"@":return new $DecoratorCtx(n)}break;case"pass":return new $PassCtx(n);case"raise":return new $AbstractExprCtx(new $RaiseCtx(n),!0);case"return":return new $AbstractExprCtx(new $ReturnCtx(n),!0);case"try":return new $TryCtx(n);case"with":return new $AbstractExprCtx(new $WithCtx(n),!1);case"yield":return new $AbstractExprCtx(new $YieldCtx(n),!0);case"eol":return 0==n.tree.length?(n.node.parent.children.pop(),n.node.parent.C):n}console.log("token",t,e),$_SyntaxError(n,"token "+t+" after "+n)},$NodeCtx.prototype.to_js=function(){if(void 0!==this.js)return this.js;if(this.js_processed=!0,this.js="",this.tree[0]){var t=-1==["def","generator"].indexOf(this.scope.ntype);if(this.tree[0].annotation)if(t){if("expr"==this.tree[0].type&&!this.tree[0].$in_parens&&"id"==this.tree[0].tree[0].type){var e="";return this.create_annotations&&(e+="$locals.__annotations__ = $B.empty_dict();"),e+"_b_.dict.$setitem($locals.__annotations__, '"+this.tree[0].tree[0].value+"', "+this.tree[0].annotation.to_js()+");"}"def"==this.tree[0].type||"generator"==this.tree[0].type?this.js=this.tree[0].annotation.to_js()+";":this.js=""}else-1==["def","generator"].indexOf(this.tree[0].type)&&(this.tree=[]);else if("assign"==this.tree[0].type&&!this.tree[0].tree[0].$in_parens&&this.tree[0].tree[0].annotation){var r=this.tree[0].tree[0],e=this.tree[0].tree[1];if(this.create_annotations&&(this.js+="$locals.__annotations__ = $B.empty_dict();"),this.js+="var $value = "+e.to_js()+";",this.tree[0].tree.splice(1,1),new $RawJSCtx(this.tree[0],"$value"),!r.tree[0]||"id"!=r.tree[0].type||!t)return this.js+=$to_js(this.tree)+";",t&&(this.js+=r.annotation.to_js()),this.js;this.js+="_b_.dict.$setitem($locals.__annotations__, '"+r.tree[0].value+"', "+r.annotation.to_js()+");"}}return 0==this.node.children.length?this.js+=$to_js(this.tree)+";":this.js+=$to_js(this.tree),this.js};var $NodeJS=$B.parser.$NodeJS=function(t){var e=new $Node;return new $NodeJSCtx(e,t),e},$NodeJSCtx=$B.parser.$NodeJSCtx=function(t,e){((this.node=t).C=this).type="node_js",this.tree=[e]};$NodeJSCtx.prototype.toString=function(){return"js "+js},$NodeJSCtx.prototype.to_js=function(){return this.js_processed=!0,this.tree[0]};var $NonlocalCtx=$B.parser.$NonlocalCtx=function(t){this.type="nonlocal",this.parent=t,this.tree=[],this.names={},(t.tree[t.tree.length]=this).expect="id",this.scope=$get_scope(this),this.scope.nonlocals=this.scope.nonlocals||new Set,void 0===this.scope.C&&$_SyntaxError(t,["nonlocal declaration not allowed at module level"])};$NonlocalCtx.prototype.toString=function(){return"nonlocal "+this.tree},$NonlocalCtx.prototype.add=function(t){"arg"==this.scope.binding[t]&&$_SyntaxError(C,["name '"+t+"' is parameter and nonlocal"]),this.names[t]=[!1,$pos],this.scope.nonlocals.add(t)},$NonlocalCtx.prototype.transition=function(t,e){var r=this;switch(t){case"id":if("id"==r.expect)return check_global_nonlocal(r,e,"nonlocal"),new $IdCtx(r,e),r.add(e),r.expect=",",r;break;case",":if(","==r.expect)return r.expect="id",r;break;case"eol":if(","==r.expect)return $transition(r.parent,t)}$_SyntaxError(r,"token "+t+" after "+r)},$NonlocalCtx.prototype.transform=function(t,e){var r=this.parent,n=this.scope.parent_block;if(void 0===n.C)$_SyntaxError(r,["no binding for nonlocal '"+$B.last(Object.keys(this.names))+"' found"]);else{for(;void 0!==n&&void 0!==n.C;){for(var o in this.names)void 0!==n.binding[o]&&(this.names[o]=[!0]);n=n.parent_block}for(var o in this.names)this.names[o][0]||(console.log("nonlocal error, C "+r),$pos=this.names[o][1],$_SyntaxError(r,["no binding for nonlocal '"+o+"' found"]))}},$NonlocalCtx.prototype.to_js=function(){return this.js_processed=!0,""};var $NotCtx=$B.parser.$NotCtx=function(t){this.type="not",this.parent=t,this.tree=[],t.tree[t.tree.length]=this};$NotCtx.prototype.ast=function(){return new ast.UnaryOp(new ast.Not,ast_or_obj(this.tree[0]))},$NotCtx.prototype.toString=function(){return"not ("+this.tree+")"},$NotCtx.prototype.transition=function(t,e){var r=this;switch(t){case"in":return r.parent.parent.tree.pop(),new $ExprCtx(new $OpCtx(r.parent,"not_in"),"op",!1);case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":var n=new $AbstractExprCtx(r,!1);return $transition(n,t,e);case"op":if("+"==e||"-"==e||"~"==e){n=new $AbstractExprCtx(r,!1);return $transition(n,t,e)}}return $transition(r.parent,t)},$NotCtx.prototype.to_js=function(){return this.js_processed=!0,"!$B.$bool("+$to_js(this.tree)+")"};var $NumberCtx=$B.parser.$NumberCtx=function(t,e,r){this.type=t,this.value=r,this.parent=e,this.tree=[],e.tree[e.tree.length]=this};$NumberCtx.prototype.ast=function(){var t=this.value;return Array.isArray(t)&&(t=parseInt(t[1],t[0])),"imaginary"==this.type&&(t+="j"),new ast.Constant(t)},$NumberCtx.prototype.toString=function(){return this.type+" "+this.value},$NumberCtx.prototype.transition=function(t,e){return $transition(this.parent,t,e)},$NumberCtx.prototype.to_js=function(){this.js_processed=!0;var type=this.type,value=this.value;if("int"!=type)return"float"==type?/^\d+$/.exec(value)||/^\d+\.\d*$/.exec(value)?"(new Number("+this.value+"))":"_b_.float.$factory("+value+")":"imaginary"==type?"$B.make_complex(0,"+value+")":void 0;var v=parseInt(value[1],value[0]);if(v>$B.min_int&&v<$B.max_int)return this.unary_op&&(v=eval(this.unary_op+v)),v;var v=$B.long_int.$factory(value[1],value[0]);switch(this.unary_op){case"-":v=$B.long_int.__neg__(v);break;case"~":v=$B.long_int.__invert__(v)}return'$B.fast_long_int("'+v.value+'", '+v.pos+")"};var $OpCtx=$B.parser.$OpCtx=function(t,e){this.type="op",this.op=e,this.parent=t.parent,this.tree=[t],this.scope=$get_scope(this),"expr"==t.type&&(-1<["int","float","str"].indexOf(t.tree[0].type)?this.left_type=t.tree[0].type:"id"!=t.tree[0].type||(e=this.scope.binding[t.tree[0].value])&&(this.left_type=e.type)),t.parent.tree.pop(),t.parent.tree.push(this)};$OpCtx.prototype.ast=function(){var t=binary_ops[this.op];return t?new ast.BinaryOp(ast_or_obj(this.tree[0]),ast[t],ast_or_obj(this.tree[1])):((t=boolean_ops[this.op])||(t=comparions_ops[this.op]),new ast.BooleanOp(ast_or_obj(this.tree[0]),ast[t],ast_or_obj(this.tree[1])))},$OpCtx.prototype.toString=function(){return"(op "+this.op+") ["+this.tree+"]"},$OpCtx.prototype.transition=function(t,e){var r=this;if(void 0===r.op&&$_SyntaxError(r,["C op undefined "+r]),"unary"==r.op.substr(0,5)){if("eol"!=t&&("assign"==r.parent.type||"return"==r.parent.type)){r.parent.tree.pop();var n=new $ListOrTupleCtx(r.parent,"tuple");return n.tree.push(r),r.parent=n}2==r.tree.length&&"expr"==r.tree[1].type&&"int"==r.tree[1].tree[0].type&&(r.parent.tree.pop(),r.parent.tree.push(r.tree[1]),r.tree[1].parent=r.parent,r.tree[1].tree[0].unary_op=r.tree[0].op)}switch(t){case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":return $transition(new $AbstractExprCtx(r,!1),t,e);case"op":switch(e){case"+":case"-":case"~":return new $UnaryCtx(r,e)}default:"abstract_expr"==r.tree[r.tree.length-1].type&&$_SyntaxError(r,"token "+t+" after "+r)}return $transition(r.parent,t)},$OpCtx.prototype.to_js=function(){this.js_processed=!0;var t={"==":"eq","!=":"ne",">=":"ge","<=":"le","<":"lt",">":"gt"};if(void 0!==t[this.op]){var e=t[this.op];if("expr"==this.tree[0].type&&"expr"==this.tree[1].type){var r=this.tree[0].tree[0],n=this.tree[1].tree[0],o=r.to_js(),s=n.to_js();switch(n.type){case"int":switch(r.type){case"int":return Number.isSafeInteger(r.value)&&Number.isSafeInteger(n.value)?o+this.op+s:"$B.$getattr("+this.tree[0].to_js()+',"__'+e+'__")('+this.tree[1].to_js()+")";case"str":switch(this.op){case"==":return"false";case"!=":return"true";default:return'$B.$TypeError("unorderable types:  int() '+this.op+' str()")'}case"id":return"(typeof "+o+' == "number" ? '+o+this.op+s+' : $B.rich_comp("__'+e+'__",'+this.tree[0].to_js()+","+this.tree[1].to_js()+"))"}break;case"str":switch(r.type){case"str":return o+".valueOf() "+this.op+s+".valueOf()";case"int":switch(this.op){case"==":return"false";case"!=":return"true";default:return'$B.$TypeError("unorderable types:  str() '+this.op+' int()")'}case"id":return"(typeof "+o+' == "string" ? '+o+this.op+s+' : $B.rich_comp("__'+e+'__",'+this.tree[0].to_js()+","+this.tree[1].to_js()+"))"}break;case"id":if("id"==r.type)return"typeof "+o+'!="object" && typeof '+o+'!="function" && typeof '+o+" == typeof "+s+" ? "+o+this.op+s+' : $B.rich_comp("__'+e+'__",'+this.tree[0].to_js()+","+this.tree[1].to_js()+")"}}}switch(this.op){case"and":var a=this.tree[0].to_js(),_=this.tree[1].to_js();return void 0!==this.wrap?"(function(){var "+this.wrap.name+" = "+this.wrap.js+";return $B.$test_expr($B.$test_item("+a+") && $B.$test_item("+_+"))})()":"$B.$test_expr($B.$test_item("+a+")&&$B.$test_item("+_+"))";case"or":return(g="$B.$test_expr($B.$test_item("+this.tree[0].to_js()+")||")+"$B.$test_item("+this.tree[1].to_js()+"))";case"in":return"$B.$is_member("+$to_js(this.tree)+")";case"not_in":return"!$B.$is_member("+$to_js(this.tree)+")";case"unary_neg":case"unary_pos":case"unary_inv":if(e="unary_neg"==this.op?(c="-","__neg__"):"unary_pos"==this.op?(c="+","__pos__"):(c="~","__invert__"),"expr"==this.tree[1].type){var i=this.tree[1].tree[0];switch(i.type){case"int":var l=parseInt(i.value[1],i.value[0]);return Number.isSafeInteger(l)?c+l:"$B.$getattr("+i.to_js()+', "'+e+'")()';case"float":return"_b_.float.$factory("+c+i.value+")";case"imaginary":return"$B.make_complex(0,"+c+i.value+")"}}return"$B.$getattr("+this.tree[1].to_js()+',"'+e+'")()';case"is":return"$B.$is("+this.tree[0].to_js()+", "+this.tree[1].to_js()+")";case"is_not":return"! $B.$is("+this.tree[0].to_js()+", "+this.tree[1].to_js()+")";case"+":return"$B.add("+this.tree[0].to_js()+", "+this.tree[1].to_js()+")";case"*":case"-":var c=this.op,u=[],f=!1,p=$get_scope(this);function $(t,e){var r;return-1<["int","float","str"].indexOf(e.type)?r=e.type:"id"==e.type&&t[e.value]&&(r=t[e.value].type),r}a=this.tree[0],_=this.tree[1];if(function t(e){if("expr"==e.type&&"int"==e.tree[0].type)return!0;if("expr"==e.type&&"float"==e.tree[0].type)return f=!0;if("expr"==e.type&&"list_or_tuple"==e.tree[0].type&&"tuple"==e.tree[0].real&&1==e.tree[0].tree.length&&"expr"==e.tree[0].tree[0].type)return t(e.tree[0].tree[0].tree[0]);if("expr"==e.type&&"id"==e.tree[0].type){var r=e.tree[0].to_js();return-1==u.indexOf(r)&&u.push(r),!0}if("op"==e.type&&-1<["*","+","-"].indexOf(e.op)){for(var n=0;n<e.tree.length;n++)if(!t(e.tree[n]))return!1;return!0}return!1}(this)){var d=this.tree[0].tree[0],h=this.tree[1].tree[0];if(0!=u.length||f){if(0==u.length)return"new Number("+this.simple_js()+")";p=p.binding,r=$(p,d),n=$(p,h);if("float"==r&&"float"==n||"+"==this.op&&"str"==r&&"str"==n)return this.result_type=r,d.to_js()+this.op+h.to_js();if(-1<["int","float"].indexOf(r)&&-1<["int","float"].indexOf(n))switch(this.result_type="int"==r&&"int"==n?"int":"float",this.op){case"-":return"$B.sub("+d.to_js()+","+h.to_js()+")";case"*":return"$B.mul("+d.to_js()+","+h.to_js()+")"}var m,g,b=[],y=[];for(m of u)b.push(m+".valueOf && typeof "+m+'.valueOf() == "number"'),y.push("typeof "+m+' == "number"');(g=[b.join(" && ")+" ? "]).push("("+y.join(" && ")+" ? "),g.push(this.simple_js()),g.push(" : new Number("+this.simple_js()+")"),g.push(")");r=this.tree[0].to_js(),n=this.tree[1].to_js();return"+"==this.op&&g.push(" : (typeof "+r+' == "string" && typeof '+n+' == "string") ? '+r+"+"+n),g.push(': $B.rich_op("'+$operators[this.op]+'",'+r+","+n+")"),"("+g.join("")+")"}return this.simple_js()}return void 0!==t[this.op]?'$B.rich_comp("__'+$operators[this.op]+'__",'+a.to_js()+","+_.to_js()+")":'$B.rich_op("'+$operators[this.op]+'", '+a.to_js()+", "+_.to_js()+")";default:return void 0!==t[this.op]?'$B.rich_comp("__'+$operators[this.op]+'__",'+this.tree[0].to_js()+","+this.tree[1].to_js()+")":'$B.rich_op("'+$operators[this.op]+'", '+this.tree[0].to_js()+", "+this.tree[1].to_js()+")"}},$OpCtx.prototype.simple_js=function(){var t=this.op;function e(t){return"op"==t.type?t.simple_js():"expr"==t.type&&"list_or_tuple"==t.tree[0].type&&"tuple"==t.tree[0].real&&1==t.tree[0].tree.length&&"expr"==t.tree[0].tree[0].type?"("+t.tree[0].tree[0].tree[0].simple_js()+")":t.tree[0].to_js()}return"+"==t?"$B.add("+e(this.tree[0])+","+e(this.tree[1])+")":"-"==t?"$B.sub("+e(this.tree[0])+","+e(this.tree[1])+")":"*"==t?"$B.mul("+e(this.tree[0])+","+e(this.tree[1])+")":"/"==t?"$B.div("+e(this.tree[0])+","+e(this.tree[1])+")":e(this.tree[0])+t+e(this.tree[1])};var $PackedCtx=$B.parser.$PackedCtx=function(t){if(this.type="packed","list_or_tuple"==t.parent.type&&"node"==t.parent.parent.type)for(var e=0;e<t.parent.tree.length;e++){var r=t.parent.tree[e];"expr"==r.type&&0<r.tree.length&&"packed"==r.tree[0].type&&$_SyntaxError(t,["two starred expressions in assignment"])}this.parent=t,this.tree=[],this.pos=$pos-1,t.tree[t.tree.length]=this};$PackedCtx.prototype.toString=function(){return"(packed) "+this.tree},$PackedCtx.prototype.transition=function(t,e){var r=this;if(0<r.tree.length&&"["==t)return $transition(r.tree[0],t,e);switch(t){case"id":var n=new $AbstractExprCtx(r,!1);return n.packed=!0,r.parent.expect=",",$transition(n,t,e);case"[":return r.parent.expect=",",new $ListOrTupleCtx(r,"list");case"(":return r.parent.expect=",",new $ListOrTupleCtx(r,"tuple");case"str":return r.parent.expect=",",new $StringCtx(r,e);case"JoinedStr":return r.parent.expect=",",new JoinedStrCtx(r,e);case"]":return $transition(r.parent,t,e);case"{":return r.parent.expect=",",new $DictOrSetCtx(r);case"op":switch(e){case"+":case"-":case"~":return r.parent.expect=",",new $UnaryCtx(r,e);default:$_SyntaxError(r,["can't use starred expression here"])}}return r.parent.transition(t,r)},$PackedCtx.prototype.to_js=function(){return this.js_processed=!0,$to_js(this.tree)};var $PassCtx=$B.parser.$PassCtx=function(t){this.type="pass",this.parent=t,this.tree=[],t.tree[t.tree.length]=this};$PassCtx.prototype.ast=function(){return new ast.Pass},$PassCtx.prototype.toString=function(){return"(pass)"},$PassCtx.prototype.transition=function(t,e){if("eol"==t)return this.parent;$_SyntaxError(this,"token "+t+" after "+this)},$PassCtx.prototype.to_js=function(){return this.js_processed=!0,"void(0)"};var $PatternCtx=$B.parser.$PatternCtx=function(t){this.type="pattern",this.parent=t,this.tree=[],t.tree.push(this),this.expect="id"};function as_pattern(t,e,r){if("as"==t.expect)return"as"==e?(t.expect="alias",t):$transition(t.parent,e,r);if("alias"==t.expect){if("id"==e)return"_"==r&&$_SyntaxError(t,["alias cannot be _"]),-1<t.bindings().indexOf(r)&&$_SyntaxError(t,[`multiple assignments to name '${r}' in pattern`]),t.alias=r,t.parent;$_SyntaxError(t,"bad alias")}}$PatternCtx.prototype.transition=function(t,e){var r=this;switch(r.expect){case"id":switch(t){case"str":case"int":case"float":case"imaginary":return r.expect=",",new $PatternLiteralCtx(r,t,e);case"op":switch(e){case"-":case"+":return r.expect=",",new $PatternLiteralCtx(r,{sign:e});case"*":return r.expect="starred_id",r;default:$_SyntaxError(r)}case"id":return r.expect=",",-1<["None","True","False"].indexOf(e)?new $PatternLiteralCtx(r,t,e):new $PatternCaptureCtx(r,e);case"[":return new $PatternCtx(new $PatternSequenceCtx(r.parent,t));case"(":return new $PatternCtx(new $PatternGroupCtx(r.parent,t));case"{":return new $PatternMappingCtx(r.parent,t)}break;case"starred_id":if("id"==t){var n=new $PatternCaptureCtx(r,e);return n.starred=!0,n}console.log("C expects starred id",r),$_SyntaxError(r,"expected id after *");case"number":switch(t){case"int":case"float":case"imaginary":return r.expect=",",new $PatternLiteralCtx(r,t,e,r.sign);default:$_SyntaxError(r)}case",":switch(t){case",":return r.parent instanceof $PatternSequenceCtx?new $PatternCtx(r.parent):new $PatternCtx(new $PatternSequenceCtx(r.parent));case":":return $BodyCtx(r)}}return r.parent.transition(t,e)};var $PatternCaptureCtx=function(t,e){this.type="capture_pattern",this.parent=t.parent,t.parent.tree.pop(),t.parent.tree.push(this),this.tree=[e],this.expect=".",this.$pos=$pos};$PatternCaptureCtx.prototype.bindings=function(){var t="_"==this.tree[0]?[]:this.tree.slice();return this.alias&&t.push(this.alias),t},$PatternCaptureCtx.prototype.transition=function(t,e){var r=this;switch(r.expect){case".":return"."==t?(r.type="value_pattern",r.expect="id",1==r.tree.length?new $IdCtx(r,r.tree.pop()):r.tree.push("."),r):"("==t?new $PatternCtx(new $PatternClassCtx(r)):r.parent instanceof $PatternMappingCtx?r.parent.transition(t,e):(r.expect="as",r.transition(t,e));case"as":case"alias":return as_pattern(r,t,e);case"id":if("id"==t)return r.tree.push(e),r.expect=".",r}return $transition(r.parent,t,e)},$PatternCaptureCtx.prototype.to_js=function(){if(1==this.tree.length)t="{capture",1==this.starred&&(t+="_starred"),t+=`: '${this.tree[0]}'`;else{for(var t=this.tree[0].to_js(),e=1,r=this.tree.length;e<r;e+=2)t="$B.$getattr("+t+', "'+this.tree[e]+'")';t=`{value: ${t}`}return this.alias&&(t+=`, alias: '${this.alias}'`),t+"}"},$PatternClassCtx=function(t){this.type="class_pattern",this.tree=[],this.parent=t.parent,this.class_id=new $IdCtx(t,t.tree[0]),t.tree.pop(),this.attrs=t.tree.slice(2),t.parent.tree.pop(),t.parent.tree.push(this),this.expect=",",this.keywords=[],this.positionals=[],this.bound_names=[]},$PatternClassCtx.prototype.bindings=function(){var t=this.bound_names;return this.alias&&t.push(this.alias),t},$PatternClassCtx.prototype.transition=function(t,e){var r=this;function n(){var t=$B.last(r.tree);if(t instanceof $PatternCaptureCtx){!t.is_keyword&&0<r.keywords.length&&$_SyntaxError(r,"positional argument after keyword");for(var e of t=t.is_keyword?(-1<r.keywords.indexOf(t.tree[0])&&$_SyntaxError(r,[`keyword argument repeated: ${t.tree[0]}`]),r.keywords.push(t.tree[0]),t.tree[1].bindings()):t.bindings())-1<r.bound_names.indexOf(e)&&$_SyntaxError(r,["multiple assignments "+`to name '${e}' in pattern`]);r.bound_names=r.bound_names.concat(t)}}switch(this.expect){case",":switch(t){case"=":var o=$B.last(this.tree);if(o instanceof $PatternCaptureCtx)return-1<this.keywords.indexOf(o.tree[0])&&$_SyntaxError(r,["attribute name repeated in class pattern: "+o.tree[0]]),o.is_keyword=!0,new $PatternCtx(o);$_SyntaxError(this,"= after non-capture");case",":return n(),new $PatternCtx(this);case")":return n(),0==$B.last(this.tree).tree.length&&this.tree.pop(),r.expect="as",r;default:$_SyntaxError(this)}case"as":case"alias":return as_pattern(r,t,e)}return $transition(r.parent,t,e)},$PatternClassCtx.prototype.to_js=function(){for(var t,e=0,r=[],n=[],o=this.class_id.to_js(),e=0,s=this.attrs.length;e<s;e+=2)o="$B.$getattr("+o+', "'+this.attrs[e]+'")';for(t of this.positionals);e=0;for(item of this.tree)item instanceof $PatternCaptureCtx&&1<item.tree.length?n.push(item.tree[0]+": "+item.tree[1].to_js()):r.push(item.to_js());var a="{class: "+o+", args: ["+r.join(", ")+"], keywords: {"+n.join(", ")+"}";return this.alias&&(a+=`, alias: "${this.alias}"`),a+"}"};var $PatternGroupCtx=function(t){this.type="group_pattern",this.parent=t,this.tree=[];t.tree.pop();this.expect=",|",t.tree.push(this)};function remove_empty_pattern(t){var e=$B.last(t.tree);e&&e instanceof $PatternCtx&&0==e.tree.length&&t.tree.pop()}$PatternGroupCtx.prototype.bindings=function(){var t,e=[];for(t of this.tree)e=e.concat(t.bindings());return this.alias&&e.push(this.alias),e},$PatternGroupCtx.prototype.transition=function(t,e){var r=this;switch(r.expect){case",|":if(")"==t)return remove_empty_pattern(r),r.expect="as",r;if(","==t)return r.expect="id",r.is_tuple=!0,r;if("op"==t&&"|"==e){var n=new $PatternOrCtx(r.parent);return n.parenthese=!0,new $PatternCtx(n)}if(void 0===this.token)return $transition(r.parent,t,e);$_SyntaxError(r);case"as":case"alias":return as_pattern(r,t,e);case"id":return")"==t?(remove_empty_pattern(r),r.expect="as",r):(r.expect=",|",$transition(new $PatternCtx(r),t,e))}console.log("error",this,t,e),$_SyntaxError(r,"token "+t+" after "+r)},$PatternGroupCtx.prototype.to_js=function(){var t;return t=this.is_tuple?"{sequence: ["+$to_js(this.tree)+"]":"{group: ["+$to_js(this.tree)+"]",this.alias&&(t+=`, alias: "${this.alias}"`),t+"}"};var $PatternLiteralCtx=function(t,e,r,n){this.type="literal_pattern",this.parent=t.parent,t.parent.tree.pop(),t.parent.tree.push(this),e.sign?(this.tree=[{sign:e.sign}],this.expect="number"):("str"==e?(Array.isArray(r)&&$_SyntaxError(this,["patterns cannot include f-strings"]),this.tree=[],new $StringCtx(this,r)):this.tree=[{token:e,value:r,sign:n}],this.expect="op")};$PatternLiteralCtx.prototype.bindings=function(){return this.alias?[this.alias]:[]},$PatternLiteralCtx.prototype.transition=function(t,e){var r=this;switch(r.expect){case"op":if("op"==t)switch(e){case"+":case"-":if(-1<["int","float"].indexOf(this.tree[0].token))return r.expect="imaginary",this.tree.push(e),r.num_sign=e,r;$_SyntaxError(r,["patterns cannot include operators"]);default:return $transition(r.parent,t,e)}break;case"number":switch(t){case"int":case"float":case"imaginary":var n=$B.last(r.tree);if(void 0===this.tree.token)return n.token=t,n.value=e,r.expect="op",r;default:$_SyntaxError(r)}case"imaginary":if("imaginary"===t)return r.tree.push({token:t,value:e,sign:r.num_sign}),r.parent;$_SyntaxError(r,"expected imaginary");case"as":case"alias":return as_pattern(r,t,e)}return"as"==t&&1==r.tree.length?(r.expect="as",r.transition(t,e)):$transition(r.parent,t,e)},$PatternLiteralCtx.prototype.to_js=function(){var t,e,r,n="",o=this.tree[0];if(o instanceof $StringCtx)n=o.to_js();else switch(o.token){case"id":n="_b_."+o.value,t="True"==o.value?1:0;break;case"str":n=o.value;break;case"int":e=o,r=parseInt(e.value[1],e.value[0]),n="-"==e.sign?-r:r;break;case"float":n=("-"==o.sign?"-":"")+o.value;break;case"imaginary":n+="$B.make_complex(0, "+("-"==o.sign?"-":"")+o.value+")",0==o.value&&(t=0)}1<this.tree.length&&(n="$B.make_complex("+n+","+("-"==this.tree[1]?"-":"")+this.tree[2].value+")"),this.js_value=n,this.num_value=void 0===t?n:t;var s="{literal: "+n;return this.alias&&(s+=`, alias: '${this.alias}'`),s+"}"};var $PatternMappingCtx=function(t){this.type="mapping_pattern",(this.parent=t).tree.pop(),this.tree=[],t.tree.push(this),this.expect="key_value_pattern",this.duplicate_keys=[],this.bound_names=[]};$PatternMappingCtx.prototype.bindings=function(){var t,e=[];for(t of this.tree)e=e.concat(t.bindings());return this.rest&&(e=e.concat(this.rest.bindings())),this.alias&&e.push(this.alias),e},$PatternMappingCtx.prototype.transition=function(t,e){var r=this;switch(r.expect){case"key_value_pattern":if("}"==t||","==t)return function(){var t=$B.last(r.tree);if(t instanceof $PatternKeyValueCtx){r.double_star&&(r.$pos=r.double_star.$pos,$_SyntaxError(r,["can't use starred name here (consider moving to end)"]));for(var e of t=("value_pattern"==t.tree[0].type?t.tree[2]:t.tree[1]).bindings())-1<r.bound_names.indexOf(e)&&$_SyntaxError(r,[`multiple assignments to name '${e}'`+" in pattern"]);r.bound_names=r.bound_names.concat(t)}}(),r.double_star&&(r.tree.indexOf(r.double_star)!=r.tree.length-1&&(r.$pos=r.double_star.$pos,$_SyntaxError(r,["can't use starred name here (consider moving to end)"])),r.rest=r.tree.pop()),","==t?r:r.parent;if("op"==t&&"**"==e)return r.expect="capture_pattern",r;var n=(s=new $PatternCtx(r)).transition(t,e);if(n instanceof $PatternLiteralCtx){r.tree.pop();for(var o of r.tree)o instanceof $PatternKeyValueCtx&&((o=o.tree[0])instanceof $PatternLiteralCtx&&(o.tree[0],n.tree[0],o.to_js(),n.to_js(),key_value=o.num_value,lit_or_val_value=n.num_value,key_value==lit_or_val_value&&$_SyntaxError(r,["duplicate literal key "+lit_or_val_value])));return new $PatternKeyValueCtx(r,n),n}if(n instanceof $PatternCaptureCtx)return r.has_value_pattern_keys=!0,r.tree.pop(),new $PatternKeyValueCtx(r,n),r.expect=".",this;console.log("lit_or_val",n),$_SyntaxError(r,"expected key or **");case"capture_pattern":var s=new $PatternCtx(r),a=$transition(s,t,e);if(a instanceof $PatternCaptureCtx)return r.double_star&&(r.$pos=a.$pos,$_SyntaxError(r,["only one double star pattern is accepted"])),"_"==e&&$_SyntaxError(r,"**_ is not valid"),-1<r.bound_names.indexOf(e)&&$_SyntaxError(r,["duplicate binding: "+e]),r.bound_names.push(e),a.double_star=!0,r.double_star=a,r.expect=",",r;$_SyntaxError(this,"expected identifier");case",":if(","==t)return r.expect="key_value_pattern",r;if("}"==t)return r.expect="key_value_pattern",r.transition(t,e);$_SyntaxError(r,"token "+t+"after C "+r);case".":if(0<r.tree.length){a=$B.last(r.tree);if(a instanceof $PatternKeyValueCtx)return new $IdCtx(a,a.tree[0].tree[0]),r.expect="key_value_pattern",$transition(a.tree[0],t,e)}$_SyntaxError(r,"token "+t+"after "+r)}return $transition(r.parent,t,e)},$PatternMappingCtx.prototype.to_js=function(){var t="{mapping: ["+$to_js(this.tree)+"]";return this.rest&&(t+=", rest: '"+this.rest.tree[0]+"'"),t+"}"};var $PatternKeyValueCtx=function(t,e){this.type="pattern_key_value",this.parent=t,this.tree=[e],(e.parent=this).expect=":",t.tree.push(this)};$PatternKeyValueCtx.prototype.bindings=$PatternMappingCtx.prototype.bindings,$PatternKeyValueCtx.prototype.transition=function(t,e){var r=this;switch(r.expect){case":":if(":"===t)return this.expect=",",new $PatternCtx(this);console.log("keyvalue",r,"expected :, got",t,e),$_SyntaxError(r,"expected :");case",":switch(t){case"}":return $transition(r.parent,t,e);case",":return r.parent.expect="key_value_pattern",$transition(r.parent,t,e);case"op":if("|"==e)return new $PatternCtx(new $PatternOrCtx(r))}$_SyntaxError(r,"expected , or }")}return $transition(r.parent,t,e)},$PatternKeyValueCtx.prototype.to_js=function(){var t;if("value_pattern"==this.tree[0].type){for(var e=this.tree[1].to_js(),r=2,n=this.tree[0].tree.length;r<n;r+=2)e="$B.$getattr("+e+', "'+this.tree[0].tree[r]+'")';e="{value: "+e+"}",t=this.tree[2].to_js()}else e=this.tree[0].to_js(),t=this.tree[1].to_js();return"["+e+","+t+"]"};var $PatternOrCtx=function(t){this.type="or_pattern";var e=(this.parent=t).tree.pop();e instanceof $PatternGroupCtx&&"as"!=e.expect&&(e=e.tree[0]),this.tree=[e],(e.parent=this).expect="|",t.tree.push(this),this.check_reachable()};$PatternOrCtx.prototype.bindings=function(){var t,e;for(e of this.tree){void 0===e.bindings&&console.log("no binding",e);var r=e.bindings();if(void 0===t)t=r;else{for(var n of t)-1==r.indexOf(n)&&$_SyntaxError(this,["alternative patterns bind different names"]);for(var n of r)-1==t.indexOf(n)&&$_SyntaxError(this,["alternative patterns bind different names"])}}return this.alias?t.concat(this.alias):t},$PatternOrCtx.prototype.check_reachable=function(){var t,e=$B.last(this.tree);"capture_pattern"==e.type?t=e.tree[0]:"group_pattern"==e.type&&1==e.tree.length&&"capture_pattern"==e.tree[0].type?t=e.tree[0].tree[0]:e instanceof $PatternOrCtx&&e.check_reachable(),t&&$_SyntaxError(this,[`${"_"==t?"wildcard":`name capture '${t}'`} makes remaining patterns unreachable`])},$PatternOrCtx.prototype.transition=function(t,e){function r(){var t=$B.last(o.tree);t.alias&&(o.alias=t.alias,delete t.alias)}var n,o=this;if(-1<["as","alias"].indexOf(o.expect))return as_pattern(o,t,e);if("op"!=t||"|"!=e)return")"==t&&o.parenthese?(r(),o.bindings(),delete o.parenthese,o.expect="as",o):(r(),o.bindings(),$transition(o.parent,t,e));for(n of o.tree)n.alias&&$_SyntaxError(o,"no as pattern inside or pattern");return o.check_reachable(),new $PatternCtx(o)},$PatternOrCtx.prototype.to_js=function(){var t="{or : ["+$to_js(this.tree)+"]";return this.alias&&(t+=`, alias: '${this.alias}'`),t+"}"};var $PatternSequenceCtx=function(t,e){this.type="sequence_pattern",this.parent=t,this.tree=[],this.bound_names=[];var r=t.tree.pop();void 0===e?(this.bound_names=r.bindings(),this.tree=[r],r.starred&&(this.has_star=!0),r.parent=this):this.token=e,this.expect=",",t.tree.push(this)};$PatternSequenceCtx.prototype.bindings=$PatternMappingCtx.prototype.bindings,$PatternSequenceCtx.prototype.transition=function(t,e){function r(){var t=$B.last(n.tree);if(!(t instanceof $PatternCtx)){var e,r=t.bindings();for(e of r)-1<n.bound_names.indexOf(e)&&$_SyntaxError(n,["multiple assignments to name '"+e+"' in pattern"]);t.starred&&(n.has_star&&$_SyntaxError(n,["multiple starred names in sequence pattern"]),n.has_star=!0),n.bound_names=n.bound_names.concat(r)}}var n=this;if(","!=n.expect)return"as"==n.expect?"as"==t?(this.expect="alias",n):$transition(n.parent,t,e):"alias"==n.expect?(t="id",n.alias=e,n.parent):"id"==n.expect?(n.expect=",",$transition(new $PatternCtx(n),t,e)):void 0;if("["==n.token&&"]"==t||"("==n.token&&")"==t){var o,s=0;for(o of n.tree)o instanceof $PatternCaptureCtx&&o.starred&&1<++s&&$_SyntaxError(n,["multiple starred names in sequence pattern"]);return n.expect="as",r(),remove_empty_pattern(n),n}return","==t?(r(),n.expect="id",n):"op"==t&&"|"==e?(remove_empty_pattern(n),new $PatternCtx(new $PatternOrCtx(n))):void 0===this.token?(r(),$transition(n.parent,t,e)):void $_SyntaxError(n)},$PatternSequenceCtx.prototype.to_js=function(){var t="{sequence: ["+$to_js(this.tree)+"]";return this.alias&&(t+=`, alias: '${this.alias}'`),t+"}"};var $RaiseCtx=$B.parser.$RaiseCtx=function(t){this.type="raise",this.parent=t,this.tree=[],(t.tree[t.tree.length]=this).scope_type=$get_scope(this).ntype};$RaiseCtx.prototype.toString=function(){return" (raise) "+this.tree},$RaiseCtx.prototype.transition=function(t,e){var r=this;switch(t){case"id":if(0==r.tree.length)return new $IdCtx(new $ExprCtx(r,"exc",!1),e);break;case"from":if(0<r.tree.length)return new $AbstractExprCtx(r,!1);break;case"eol":return $transition(r.parent,t)}$_SyntaxError(r,"token "+t+" after "+r)},$RaiseCtx.prototype.to_js=function(){return this.js_processed=!0,"$B.$raise("+(0==this.tree.length?"":this.tree[0].to_js())+")"};var $RawJSCtx=$B.parser.$RawJSCtx=function(t,e){this.type="raw_js",(t.tree[t.tree.length]=this).parent=t,this.js=e};$RawJSCtx.prototype.toString=function(){return"(js) "+this.js},$RawJSCtx.prototype.transition=function(t,e){},$RawJSCtx.prototype.to_js=function(){return this.js_processed=!0,this.js};var $ReturnCtx=$B.parser.$ReturnCtx=function(t){this.type="return",this.parent=t,this.tree=[],(t.tree[t.tree.length]=this).scope=$get_scope(this),-1==["def","generator"].indexOf(this.scope.ntype)&&$_SyntaxError(t,["'return' outside function"]);for(var e=this.node=$get_node(this);e.parent;){if(e.parent.C){var r=e.parent.C.tree[0];if("for"==r.type){r.has_return=!0;break}("try"==r.type||"single_kw"==r.type&&"finally"==r.token)&&(r.has_return=!0)}e=e.parent}};$ReturnCtx.prototype.ast=function(){var t=new ast.Return;return 0<this.tree.length&&(t.expr=ast_or_obj(this.tree[0])),t},$ReturnCtx.prototype.toString=function(){return"return "+this.tree},$ReturnCtx.prototype.transition=function(t,e){return"eol"==t&&1==this.tree.length&&"abstract_expr"==this.tree[0].type&&this.tree.pop(),$transition(this.parent,t)},$ReturnCtx.prototype.to_js=function(){this.js_processed=!0;var t=0==this.tree.length?"_b_.None":$to_js(this.tree),e=this.scope;if("generator"==e.ntype)return"var $res = "+t+"; $B.leave_frame({$locals});return $B.generator_return($res)";var r="    ".repeat(this.node.indent-1),t="var $res = "+t+";\n"+r+"if($locals.$f_trace !== _b_.None){$B.trace_return($res)}\n"+r+"$B.leave_frame";return"$exec_"==e.id.substr(0,6)&&(t+="_exec"),t+="({$locals});\n",this.is_await&&(t+=r+"$B.restore_stack(save_stack, $locals)\n"),t+=r+"return $res"};var $SingleKwCtx=$B.parser.$SingleKwCtx=function(t,e){this.type="single_kw",this.token=e,this.parent=t,this.tree=[],t.tree[t.tree.length]=this,"else"==e&&(t=(e=t.node).parent.children.indexOf(e),(t=e.parent.children[t-1].C).tree[0].orelse=this,0<t.tree.length&&(("for"==(t=t.tree[0]).type||"asyncfor"==t.type||"condition"==t.type&&"while"==t.token)&&(t.has_break=!0,t.else_node=$get_node(this),this.loop_num=t.loop_num)))};$SingleKwCtx.prototype.toString=function(){return this.token},$SingleKwCtx.prototype.transition=function(t,e){if(":"==t)return $BodyCtx(this);$_SyntaxError(this,"token "+t+" after "+this)},$SingleKwCtx.prototype.transform=function(t,e){var r;"finally"==this.token&&(r=$get_scope(this),t.insert(0,$NodeJS("var $exit;if($B.frames_stack.length < $stack_length){$exit = true;$B.frames_stack.push($top_frame)}")),r.id.replace(/\./g,"_"),"return"!=t.children[t.children.length-1].C.tree[0].type&&t.add($NodeJS("if($exit){$B.leave_frame({$locals})}")))},$SingleKwCtx.prototype.to_js=function(){return this.js_processed=!0,"finally"==this.token||void 0===this.loop_num?this.token:"if($locals_"+$get_scope(this).id.replace(/\./g,"_")+'["$no_break'+this.loop_num+'"])'};var $SliceCtx=$B.parser.$SliceCtx=function(t){this.type="slice",this.parent=t,this.tree=0<t.tree.length?[t.tree.pop()]:[],t.tree.push(this)};$SliceCtx.prototype.ast=function(){for(var t=new ast.Slice,e=["lower","upper","step"],r=0;r<this.tree.length;r++){var n=this.tree[r];"abstract_expr"!==n.type&&(t[e[r]]=ast_or_obj(n))}return t},$SliceCtx.prototype.transition=function(t,e){return":"==t?new $AbstractExprCtx(this,!1):$transition(this.parent,t,e)},$SliceCtx.prototype.to_js=function(){for(var t=0;t<this.tree.length;t++)"abstract_expr"==this.tree[t].type&&(this.tree[t].to_js=function(){return"_b_.None"});return"_b_.slice.$factory("+$to_js(this.tree)+")"};var $StarArgCtx=$B.parser.$StarArgCtx=function(t){this.type="star_arg",this.parent=t,this.tree=[],t.tree[t.tree.length]=this};$StarArgCtx.prototype.toString=function(){return"(star arg) "+this.tree},$StarArgCtx.prototype.transition=function(t,e){var r=this;switch(t){case"id":return"target_list"==r.parent.type?(r.tree.push(e),r.parent.expect=",",r.parent):$transition(new $AbstractExprCtx(r,!1),t,e);case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case"not":case"lambda":return $transition(new $AbstractExprCtx(r,!1),t,e);case",":case")":return 0==r.tree.length&&$_SyntaxError(r,"unnamed star argument"),$transition(r.parent,t);case":":if("lambda"==r.parent.parent.type)return $transition(r.parent.parent,t)}$_SyntaxError(r,"token "+t+" after "+r)},$StarArgCtx.prototype.to_js=function(){return this.js_processed=!0,'{$nat:"ptuple",arg:'+$to_js(this.tree)+"}"};var $StringCtx=$B.parser.$StringCtx=function(t,e){function r(t){return t=(t=t.replace(/\n/g,"\\n\\\n")).replace(/\r/g,"\\r\\\r")}this.type="str",this.parent=t,this.is_bytes="b"==e.charAt(0),this.is_bytes?this.value=r(e.substr(1)):this.value=r(e),t.tree.push(this),this.tree=[this.value],this.raw=!1,this.$pos=$pos};$StringCtx.prototype.ast=function(){return new ast.Constant(eval(this.value))},$StringCtx.prototype.toString=function(){return"string "+(this.value||"")},$StringCtx.prototype.transition=function(token,value){var C=this;switch(token){case"[":return new $AbstractExprCtx(new $SubCtx(C.parent),!1);case"(":return C.parent.tree[0]=C,new $CallCtx(C.parent);case"str":return(this.is_bytes&&!value.startsWith("b")||!this.is_bytes&&value.startsWith("b"))&&(C.$pos=$pos,$_SyntaxError(C,["cannot mix bytes and nonbytes literals"])),C.value+=" + "+(this.is_bytes?value.substr(1):value),C;case"JoinedStr":C.parent.tree.pop();var joined_str=new JoinedStrCtx(C.parent,value);return"string"==typeof joined_str.tree[0]?joined_str.tree[0]=eval(this.value)+joined_str.tree[0]:joined_str.tree.splice(0,0,this),joined_str}return $transition(C.parent,token,value)},$StringCtx.prototype.to_js=function(){return this.js_processed=!0,this.is_bytes?"_b_.bytes.$new(_b_.bytes, "+this.value+", 'ISO-8859-1')":"$B.String("+this.value+")"};var $SubCtx=$B.parser.$SubCtx=function(t){this.type="sub",this.func="getitem",this.value=t.tree[0],t.tree.pop(),(t.tree[t.tree.length]=this).parent=t,this.tree=[]};$SubCtx.prototype.ast=function(){var t=ast_or_obj(this.tree[0]);return new ast.Subscript(ast_or_obj(this.value),t)},$SubCtx.prototype.toString=function(){return"(sub) (value) "+this.value+" (tree) "+this.tree},$SubCtx.prototype.transition=function(t,e){var r=this;switch(t){case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":var n=new $AbstractExprCtx(r,!1);return $transition(n,t,e);case"]":if(r.parent.packed)return r.parent;if(0<r.tree[0].tree.length)return r.parent;break;case":":return new $AbstractExprCtx(new $SliceCtx(r),!1);case",":return new $AbstractExprCtx(r,!1)}$_SyntaxError(r,"token "+t+" after "+r)},$SubCtx.prototype.to_js=function(){if(this.js_processed=!0,"getitem"==this.func&&"id"==this.value.type){var t=$get_node(this).locals[this.value.value],e=this.value.to_js();if("list"==t||"tuple"==t){if(1==this.tree.length)return"$B.list_key("+e+", "+this.tree[0].to_js()+")";if(2==this.tree.length)return"$B.list_slice("+e+", "+(this.tree[0].to_js()||"null")+","+(this.tree[1].to_js()||"null")+")";if(3==this.tree.length)return"$B.list_slice_step("+e+", "+(this.tree[0].to_js()||"null")+","+(this.tree[1].to_js()||"null")+","+(this.tree[2].to_js()||"null")+")"}}if("getitem"==this.func&&1==this.tree.length)return"slice"==this.tree[0].type?`$B.getitem_slice(${this.value.to_js()}, `+`${this.tree[0].to_js()})`:"$B.$getitem("+this.value.to_js()+","+this.tree[0].to_js()+")";if("delitem"==this.func&&1==this.tree.length)return"slice"==this.tree[0].type?`$B.delitem_slice(${this.value.to_js()}, `+`${this.tree[0].to_js()})`:"$B.$delitem("+this.value.to_js()+","+this.tree[0].to_js()+")";var r="",t=!1;if("delitem"!==this.func&&1==this.tree.length&&!this.in_sub){for(var n="",o=this,t=!0;"sub"==o.value.type;)n+="["+o.tree[0].to_js()+"]",o.value.in_sub=!0,o=o.value;var s=o.value.to_js()+"["+o.tree[0].to_js()+"]((Array.isArray("+o.value.to_js()+") || typeof "+o.value.to_js()+' == "string") && '+s+" !== undefined ?"+s+n+" : "}if(r+="$B.$getattr("+(e=this.value.to_js())+',"__'+this.func+'__")(',1==this.tree.length)r+=this.tree[0].to_js()+")";else{var a,_=[];for(a of this.tree)"abstract_expr"==a.type?_.push("_b_.None"):_.push(a.to_js());r+="_b_.tuple.$factory(["+_.join(",")+"]))"}return t?r+")":r};var $TargetListCtx=$B.parser.$TargetListCtx=function(t){this.type="target_list",this.parent=t,this.tree=[],this.expect="id",t.tree[t.tree.length]=this};$TargetListCtx.prototype.toString=function(){return"(target list) "+this.tree},$TargetListCtx.prototype.transition=function(t,e){var r=this;switch(t){case"id":if("id"==r.expect)return r.expect=",",new $IdCtx(new $ExprCtx(r,"target",!1),e);case"op":if("id"==r.expect&&"*"==e)return new $PackedCtx(r);case"(":case"[":if("id"==r.expect)return r.expect=",",new $ListOrTupleCtx(r,"("==t?"tuple":"list");case")":case"]":if(","==r.expect)return r.parent;case",":if(","==r.expect)return r.expect="id",r}return","==r.expect||"in"==t?$transition(r.parent,t,e):void $_SyntaxError(r,"token "+t+" after "+r)},$TargetListCtx.prototype.to_js=function(){return this.js_processed=!0,$to_js(this.tree)};var ternaries=[],$TernaryCtx=$B.parser.$TernaryCtx=function(t){this.type="ternary",this.parent=t.parent,t.parent.tree.pop(),t.parent.tree.push(this),(t.parent=this).tree=[t],ternaries.push(this)};$TernaryCtx.prototype.toString=function(){return"(ternary) "+this.tree},$TernaryCtx.prototype.transition=function(t,e){var r=this;if("else"==t)return r.in_else=!0,new $AbstractExprCtx(r,!1);if(r.in_else){if(","==t&&-1<["assign","augm_assign","node","return"].indexOf(r.parent.type)){r.parent.tree.pop();var n=new $ListOrTupleCtx(r.parent,"tuple");return n.implicit=!0,((n.tree[0]=r).parent=n).expect="id",n}}else $_SyntaxError(r,"token "+t+" after "+r);return $transition(r.parent,t,e)},$TernaryCtx.prototype.to_js=function(){this.js_processed=!0;var t="$B.$bool("+this.tree[1].to_js()+") ? ";return(t+=this.tree[0].to_js()+" : ")+this.tree[2].to_js()};var $TryCtx=$B.parser.$TryCtx=function(t){this.type="try",(this.parent=t).tree[t.tree.length]=this};$TryCtx.prototype.toString=function(){return"(try) "},$TryCtx.prototype.transition=function(t,e){if(":"==t)return $BodyCtx(this);$_SyntaxError(this,"token "+t+" after "+this)},$TryCtx.prototype.transform=function(t,e){if(t.parent.children.length==e+1)$_SyntaxError(t.C,["unexpected EOF while parsing"]);else switch(t.parent.children[e+1].C.tree[0].type){case"except":case"finally":case"single_kw":break;default:$pos=t.parent.children[e+1].pos,$_SyntaxError(t.parent.children[e+1].C.tree[0],"no clause after try")}var r=$get_scope(this),n=create_temp_name("$err"),o="$locals."+create_temp_name("$failed"),s=o+" = false;\n"+" ".repeat(t.indent+4)+"try";new $NodeJSCtx(t,s),t.has_return=this.has_return;var a=$NodeJS("catch("+n+")");t.parent.insert(e+1,a),a.add($NodeJS("$B.set_exc("+n+")")),a.add($NodeJS("if($locals.$f_trace !== _b_.None){$locals.$f_trace = $B.trace_exception()}")),a.add($NodeJS(o+" = true;$B.pmframe = $B.last($B.frames_stack);if(false){}"));for(var _,i,l=e+2,c=!1,u=!1,f=!1;;){if(l==t.parent.children.length)break;if(void 0===(i=t.parent.children[l].C.tree[0]))break;if("except"==i.type)u&&$_SyntaxError(C,"'except' or 'finally' after 'else'"),f&&$_SyntaxError(C,"'except' after 'finally'"),i.error_name=n,0<i.tree.length&&null!==i.tree[0].alias&&void 0!==i.tree[0].alias&&(_=i.tree[0].alias,t.parent.children[l].insert(0,$NodeJS('$locals["'+_+'"] = $B.exception('+n+")"))),a.insert(a.children.length,t.parent.children[l]),0==i.tree.length&&(c&&$_SyntaxError(C,"more than one except: line"),c=!0),t.parent.children.splice(l,1);else if("single_kw"==i.type&&"finally"==i.token){var f=!0,p=t.parent.children[l];l++}else{if("single_kw"!=i.type||"else"!=i.token)break;u&&$_SyntaxError(C,"more than one 'else'"),f&&$_SyntaxError(C,"'else' after 'finally'");var u=!0,$=t.parent.children[l];t.parent.children.splice(l,1)}}if(c||(s=new $Node,i=new $NodeCtx(s),a.insert(a.children.length,s),new $SingleKwCtx(i,"else"),s.add($NodeJS("throw "+n))),u){var d,h=new $Node;h.module=r.module,new $NodeJSCtx(h,"if(!"+o+")");for(d of $.children)h.add(d);f?p.insert(0,h):t.parent.insert(l,h),l++}$loop_num++},$TryCtx.prototype.to_js=function(){return this.js_processed=!0,"try"};var $UnaryCtx=$B.parser.$UnaryCtx=function(t,e){this.type="unary",this.op=e,this.parent=t,this.tree=[],t.tree.push(this)};$UnaryCtx.prototype.ast=function(){var t={"+":ast.UAdd,"-":ast.USub,"~":ast.Invert}[this.op];return new ast.UnaryOp(new t,ast_or_obj(this.tree[0]))},$UnaryCtx.prototype.toString=function(){return"(unary) "+this.op},$UnaryCtx.prototype.transition=function(t,e){var r=this;switch(t){case"op":if("+"==e||"-"==e)return r.op===e?r.op="+":r.op="-",r;case"int":case"float":case"imaginary":return"packed"==r.parent.type&&$_SyntaxError(r,["can't use starred expression here"]),$transition(new $AbstractExprCtx(r,!1),t,e);case"id":return $transition(new $AbstractExprCtx(r,!1),t,e)}return $transition(r.parent,t,e)},$UnaryCtx.prototype.to_js=function(){this.js_processed=!0;var operand=this.tree[0].tree[0];switch(operand.type){case"float":return eval(this.op+operand.value);case"int":return operand.value[1]=eval(this.op+operand.value[1]),operand.to_js()}var method={"-":"neg","+":"pos","~":"invert"}[this.op];return"$B.$call($B.$getattr("+operand.to_js()+', "__'+method+'__"))()'};var $WithCtx=$B.parser.$WithCtx=function(t){this.type="with",((this.parent=t).tree[t.tree.length]=this).tree=[],this.expect="as",this.scope=$get_scope(this)};$WithCtx.prototype.toString=function(){return"(with) "+this.tree},$WithCtx.prototype.transition=function(t,e){var r=this;switch(t){case"id":if("id"==r.expect)return r.expect="as",$transition(new $AbstractExprCtx(r,!1),t,e);$_SyntaxError(r,"token "+t+" after "+r);case"as":return new $AbstractExprCtx(new $AliasCtx(r));case":":switch(r.expect){case"id":case"as":case":":return $BodyCtx(r)}break;case"(":if("id"==r.expect&&0==r.tree.length)return r.parenth=!0,r;if("alias"==r.expect)return r.expect=":",new $TargetListCtx(r,!1);break;case")":if(","==r.expect||"as"==r.expect)return r.expect=":",r;break;case",":if(void 0!==r.parenth&&void 0===r.has_alias&&(","==r.expect||"as"==r.expect))return r.expect="id",r;if("as"==r.expect)return r.expect="id",r;if(":"==r.expect)return r.expect="id",r}$_SyntaxError(r,"token "+t+" after "+r.expect)},$WithCtx.prototype.set_alias=function(t){var e=[];if("id"==t.type)e=[t];else if("list_or_tuple"==t.type)for(var r of t.tree)"expr"==r.type&&"id"==r.tree[0].type&&e.push(r.tree[0]);for(var n=0,o=e.length;n<o;n++){var s=e[n];$bind(s.value,this.scope,this),s.bound=!0,"module"!==this.scope.ntype&&this.scope.C.tree[0].locals.push(s.value)}},$WithCtx.prototype.transform=function(t,e){for(;1<this.tree.length;){var r=t.children,n=this.tree.pop(),o=new $Node,s=new $NodeCtx(o),a=new $WithCtx(s);(n.parent=a).tree=[n],a.async=this.async;for($ of r)o.add($);t.children=[o]}if(!this.transformed){if(this.prefix="",1<this.tree.length){var _=new $Node,s=new $NodeCtx(_);_.parent=t,_.module=t.module,_.indent=t.indent+4;var i=new $WithCtx(s);i.async=this.async,i.tree=this.tree.slice(1);for($ of t.children)_.add($);return t.children=[_],void(this.transformed=!0)}if(this.async)return this.transform_async(t,e);var l=$NodeJS("try");t.parent.insert(e+1,l);var c=this.num=$loop_num++;if(l.ctx_manager_num=c,this.cm_name=this.prefix+"$ctx_manager"+c,this.cmexit_name=this.prefix+"$ctx_manager_exit"+c,this.exc_name=this.prefix+"$exc"+c,this.err_name="$err"+c,this.val_name="$value"+c,this.yield_name=this.prefix+"$yield"+c,null===this.tree[0].alias&&(this.tree[0].alias="$temp"),"expr"==this.tree[0].type&&"list_or_tuple"==this.tree[0].tree[0].type){"expr"==this.tree[1].type&&"list_or_tuple"==this.tree[1].tree[0].type||$_SyntaxError(C),this.tree[0].tree[0].tree.length!=this.tree[1].tree[0].tree.length&&$_SyntaxError(C,["wrong number of alias"]);var u=this.tree[0].tree[0].tree,f=this.tree[1].tree[0].tree;this.tree.shift(),this.tree.shift();for(var p=u.length-1;0<=p;p--)u[p].alias=f[p].value,this.tree.splice(0,0,u[p])}i=t.children;t.children=[];var $,d=new $Node;new $NodeJSCtx(d,"try"),l.add(d),this.tree[0].alias&&(o=new $Node,s=new $NodeCtx(o),d.add(o),this.tree[0].alias.tree[0].parent=s,new $AssignCtx(this.tree[0].alias.tree[0]).tree.push(new $RawJSCtx(s,this.val_name)));for($ of i)d.add($);c=new $Node;new $NodeJSCtx(c,"catch("+this.err_name+")");i=this.exc_name+" = false;"+this.err_name+" = $B.exception("+this.err_name+", true)\n"+" ".repeat(t.indent+4)+"var $b = "+this.cmexit_name+"("+this.err_name+".__class__,"+this.err_name+",$B.$getattr("+this.err_name+', "__traceback__"));';"generator"==this.scope.ntype&&(i+="$B.set_cm_in_generator("+this.cmexit_name+");"),i+="if(!$B.$bool($b)){throw "+this.err_name+"}",c.add($NodeJS(i)),l.add(c);c=new $Node;new $NodeJSCtx(c,"finally"),c.C.type="single_kw",c.C.token="finally",c.C.in_ctx_manager=!0,c.is_except=!0,c.in_ctx_manager=!0;i="if("+this.exc_name;i+="){"+this.cmexit_name+"(_b_.None, _b_.None, _b_.None);","generator"==this.scope.ntype&&(i+="delete "+this.cmexit_name),c.add($NodeJS(i+="};")),t.parent.insert(e+2,c),this.transformed=!0}},$WithCtx.prototype.transform_async=function(t,e){$get_scope(this);var r=this.tree[0],n=this.tree[0].alias,o=[],s=this.num=$loop_num++;this.cm_name="$ctx_manager"+s,this.cmexit_name="$ctx_manager_exit"+s,this.exc_name="$exc"+s;var a="$ctx_mgr_type"+s,_="$ctx_manager_enter"+s,i="$err"+s,s="var "+this.cm_name+" = "+r.to_js()+",";o.push($NodeJS(s)),o.push($NodeJS("    "+a+" = _b_.type.$factory("+this.cm_name+"),")),o.push($NodeJS("    "+this.cmexit_name+" = $B.$call($B.$getattr("+a+', "__aexit__")),')),o.push($NodeJS("    "+_+" = $B.$call($B.$getattr("+a+', "__aenter__"))('+this.cm_name+"),")),o.push($NodeJS("    "+this.exc_name+" = false")),s="",n?"list_or_tuple"!=n.tree[0].tree[0].type?(s=n.tree[0].to_js()+" = await ($B.promise("+_+"))",o.push($NodeJS(s))):(a=new $Node,s=new $NodeCtx(a),(r=new $ExprCtx(s,"left",!1)).tree.push(n.tree[0].tree[0]),n.tree[0].tree[0].parent=r,r=new $AssignCtx(r),new $RawJSCtx(r,"await ($B.promise("+_+"))"),o.push(a)):o.push($NodeJS("await ($B.promise("+_+"))"));var l,c=new $NodeJS("try");for(l of t.children)c.add(l);o.push(c);_=new $NodeJS("catch(err)");o.push(_),_.add($NodeJS(this.exc_name+" = true")),_.add($NodeJS("var "+i+' = $B.imported["_sys"].exc_info()'));i=$NodeJS("if(! await ($B.promise("+this.cmexit_name+"("+this.cm_name+", "+i+"[0], "+i+"[1], "+i+"[2]))))");_.add(i),i.add($NodeJS("$B.$raise()"));i=$NodeJS("if(! "+this.exc_name+")");o.push(i),i.add($NodeJS("await ($B.promise("+this.cmexit_name+"("+this.cm_name+", _b_.None, _b_.None, _b_.None)))")),t.parent.children.splice(e,1);for(var u=o.length-1;0<=u;u--)t.parent.insert(e,o[u]);return t.children=[],0},$WithCtx.prototype.to_js=function(){this.js_processed=!0;var t=$get_node(this).indent,e=" ".repeat(t),r=this.num,n=""==this.prefix?"var ":this.prefix,o="$ctx_manager"+r,t=n+"$ctx_manager_exit"+r,n=n+"$exc"+r,r="$value"+r;return"var "+o+" = "+this.tree[0].to_js()+"\n"+e+t+" = $B.$getattr("+o+',"__exit__")\n'+e+"var "+r+" = $B.$getattr("+o+',"__enter__")()\n'+e+n+" = true\n"};var $YieldCtx=$B.parser.$YieldCtx=function(t,e){this.type="yield",this.parent=t,this.tree=[],this.is_await=e,t.tree[t.tree.length]=this,"list_or_tuple"==t.type&&1<t.tree.length&&$_SyntaxError(t,"non-parenthesized yield"),$parent_match(t,{type:"annotation"})&&$_SyntaxError(t,["'yield' outside function"]);for(var r=this;;){var n=$parent_match(r,{type:"list_or_tuple"});if(!n)break;n.yields=n.yields||[],n.yields.push([this,$pos]),r=n}for(r=this;;){var o=$parent_match(r,{type:"dict_or_set"});if(!o)break;o.yields=o.yields||[],o.yields.push([this,$pos]),r=o}var s=$get_module(this);s.yields_func_check=s.yields_func_check||[],s.yields_func_check.push([this,$pos]);var a=this.scope=$get_scope(this,!0),e=$get_node(this),s=$parent_match(e.has_yield=this,{type:"comprehension"});if($get_scope(this).id.startsWith("lc"+$B.lambda_magic)&&delete e.has_yield,s){for(var _=s.tree[0].tree[1],r=t;r&&r!==_;)r=r.parent;r||$_SyntaxError(t,["'yield' inside list comprehension"])}for(var i=!1,r=t;r;){if("lambda"==r.type){this.in_lambda=i=!0;break}r=r.parent}for(r=e.parent;r;){if(r.C&&0<r.C.tree.length&&"with"==r.C.tree[0].type){a.C.tree[0].$has_yield_in_cm=!0;break}r=r.parent}if(!i)switch(t.type){case"node":break;case"assign":case"list_or_tuple":break;default:$_SyntaxError(t,"yield atom must be inside ()")}};$YieldCtx.prototype.toString=function(){return"(yield) "+(this.from?"(from) ":"")+this.tree},$YieldCtx.prototype.transition=function(t,e){var r=this;return"from"==t?("abstract_expr"!=r.tree[0].type&&$_SyntaxError(r,"'from' must follow 'yield'"),r.from=!0,r.from_num=$B.UUID(),r.tree[0]):$transition(r.parent,t)},$YieldCtx.prototype.transform=function(t,e){for(var r=t.parent;r;){if(void 0!==r.ctx_manager_num){t.parent.insert(e+1,$NodeJS("$top_frame[1].$has_yield_in_cm = true"));break}r=r.parent}},$YieldCtx.prototype.to_js=function(){return this.from?`_r${this.from_num}`:"yield "+$to_js(this.tree)},$YieldCtx.prototype.check_in_function=function(){if(!this.in_lambda){var t=$get_scope(this),e=t.is_function,r=t;if(!e&&t.is_comp){for(var n=t.parent_block;n.is_comp;)n=parent_block;e=n.is_function,r=n}e?(r=r.C.tree[0],this.is_await||(r.type="generator")):$_SyntaxError(this.parent,["'yield' outside function"])}};var $add_line_num=$B.parser.$add_line_num=function(t,e,r){if("module"!=t.type){if("marker"===t.type)return 1;for(var n=t.C.tree[0],o=1,s=!0,a=t;void 0!==a.parent;)a=a.parent;var _=t.module||a.id,i=t.line_num;void 0===i&&(s=!1),(s="condition"==n.type&&"elif"==n.token||"except"==n.type||"single_kw"==n.type||"case"==n.type?!1:s)&&(i=';$locals.$line_info = "'+(void 0===r?i+","+_:r)+'";if($locals.$f_trace !== _b_.None){$B.trace_line()};_b_.None;',(_=new $Node).is_line_num=!0,new $NodeJSCtx(_,i),t.parent.insert(e,_),o=2);for(l=0;l<t.children.length;)l+=$add_line_num(t.children[l],l,r);return o}for(var l=0;l<t.children.length;)l+=$add_line_num(t.children[l],l,r)},$bind=$B.parser.$bind=function(t,e,r){e.nonlocals&&e.nonlocals.has(t)||(e.globals&&e.globals.has(t)?$get_module(r).binding[t]=!0:(r.no_bindings||((r=$get_node(r)).bindings=r.bindings||{},r.bindings[t]=!0),e.binding=e.binding||{},void 0===e.binding[t]&&(e.binding[t]=!0),e.varnames=e.varnames||{},void 0===e.varnames[t]&&(e.varnames[t]=!0)))};function $parent_match(t,e){for(var r;t.parent;){for(var n in r=!0,e)if(t.parent[n]!=e[n]){r=!1;break}if(r)return t.parent;t=t.parent}return!1}var $previous=$B.parser.$previous=function(t){var e=t.node.parent.children[t.node.parent.children.length-2];return e&&e.C||$_SyntaxError(t,"keyword not following correct keyword"),e.C.tree[0]},$get_docstring=$B.parser.$get_docstring=function(t){var e,r="";return 0<t.children.length&&((e=t.children[0]).C.tree&&0<e.C.tree.length&&"expr"==e.C.tree[0].type&&("str"!=(t=e.C.tree[0].tree[0]).type||Array.isArray(t.tree[0])||(r=e.C.tree[0].tree[0].to_js()))),r},$get_scope=$B.parser.$get_scope=function(t,e){for(var r=t.parent;"node"!==r.type;)r=r.parent;for(var n=r.node,o=null;n.parent&&"module"!==n.parent.type;){var s=n.parent.C.tree[0].type;switch(s){case"def":case"class":case"generator":return(o=n.parent).ntype=s,o.is_function="class"!=s,o}n=n.parent}return(o=n.parent||n).ntype="module",o},$get_line_num=$B.parser.$get_line_num=function(t){var e=$get_node(t),t=e.line_num;if(void 0===e.line_num){for(e=e.parent;e&&void 0===e.line_num;)e=e.parent;e&&e.line_num&&(t=e.line_num)}return t},$get_module=$B.parser.$get_module=function(t){for(var e=t instanceof $NodeCtx?t:t.parent;"node"!==e.type;)e=e.parent;var r=e.node;if("module"==r.ntype)return r;for(t=null;"module"!=r.parent.type;)r=r.parent;return(t=r.parent).ntype="module",t},$get_src=$B.parser.$get_src=function(t){for(var e=$get_node(t);void 0!==e.parent;)e=e.parent;return e.src},$get_node=$B.parser.$get_node=function(t){for(var e=t;e.parent;)e=e.parent;return e.node},$to_js_map=$B.parser.$to_js_map=function(t){if(void 0!==t.to_js)return t.to_js();throw console.log("no to_js",t),Error("no to_js() for "+t)},$to_js=$B.parser.$to_js=function(e,t){void 0===t&&(t=",");try{return e.map($to_js_map).join(t)}catch(t){throw console.log("error",t,"\ntree",e),t}},$mangle=$B.parser.$mangle=function(t,e){if("__"!=t.substr(0,2)||"__"===t.substr(t.length-2))return t;for(var r=$get_scope(e);;){if("module"==r.ntype)return t;if("class"==r.ntype){for(var n=r.C.tree[0].name;"_"==n.charAt(0);)n=n.substr(1);return"_"+n+t}if(!r.parent||!r.parent.C)return t;r=$get_scope(r.C.tree[0])}};$B.nb_debug_lines=0;var $transition=$B.parser.$transition=function(t,e,r){return 100<$B.nb_debug_lines&&(alert("too many debug lines"),$B.nb_debug_lines=0),t.transition(e,r)};$B.forbidden=[],$B.aliased_names=Object.create(null);for(var s_escaped="abfnrtvxuU\"0123456789'\\",is_escaped={},i=0;i<s_escaped.length;i++)is_escaped[s_escaped.charAt(i)]=!0;function SurrogatePair(t){return t-=65536,String.fromCharCode(55296|t>>10)+String.fromCharCode(56320|1023&t)}function test_num(t){var e,r=t.length,n=0,o=null,s={b:"binary",o:"octal",x:"hexadecimal"},a=/[_\d]/;function _(t){$pos+=n,$_SyntaxError(C,[t])}function i(t){if(0==t.value.length)_("invalid "+(s[t.subtype]||"decimal")+" literal");else{if(!t.value[t.value.length-1].match(/[\-+_]/))return t.value=t.value.replace(/_/g,""),t.length=n,t;_("invalid "+(s[t.subtype]||"decimal")+" literal")}}for(;n<r;)if((e=t[n]).match(a))null===o?o={value:e}:("_"==e&&o.value.match(/[._+\-]$/)?_("consecutive _ at "+n):"_"==e&&"float"==o.subtype&&o.value.match(/e$/i)?_("syntax error"):"b"!=o.subtype||e.match(/[01_]/)?"o"!=o.subtype||e.match(/[0-7_]/)?void 0===o.subtype&&o.value.startsWith("0")&&!e.match(/[0_]/)&&_("leading zeros in decimal integer literals are not permitted; use an 0o prefix for octal integers"):_(`invalid digit '${e}' in octal literal`):_(`invalid digit '${e}' in binary literal`),o.value+=e),n++;else if(e.match(/[oxb]/i))"0"==o.value?(o.subtype=e.toLowerCase(),"x"==o.subtype&&(a=/[_\da-fA-F]/),o.value="",n++):_("invalid char "+e);else if("."==e)if(null===o)_("invalid char in "+t+" pos "+n+": "+e);else{if(void 0!==o.subtype)return i(o);o.subtype="float",o.value.endsWith("_")&&_("invalid decimal literal"),o.value=o.value.replace(/_/g,"")+e,n++}else if(e.match(/e/i))if(void 0===t[n+1])_("nothing after e");else if(o&&void 0!==s[o.subtype])_("syntax error");else if(o&&o.value.endsWith("_"))_("syntax error");else{if(!t[n+1].match(/[+\-0-9_]/))return i(o);if(o&&o.value){if(o.exp)return o.length=n,o;o.subtype="float",o.value+=e,o.exp=!0,n++}else _("unexpected e")}else if(e.match(/[\+\-]/i))if(null===o)o={value:e},n++;else{if(!(-1<o.value.search(/e$/i)))return i(o);o.value+=e,n++}else{if(!e.match(/j/i))break;if(o&&(!o.subtype||"float"==o.subtype))return o.imaginary=!0,i(o),o.length++,o;_("invalid syntax")}return i(o)}function*basic_tokenizer(t){for(var e=0;e<t.length;){if('"'==t[e]||"'"==t[e]){var r=t[e],n=!1,o=e;for(e++;e<t.length;){if("\\"==t[e])n=!n;else if(t[e]==r&&!n){yield t.substring(o,e+1);break}e++}}else if("#"==t[e])for(;e<t.length&&"\n"!=t[e];)e++;else"\\"==t[e]&&"\n"==t[e+1]?e++:-1==" \t".indexOf(t[e])&&(yield t[e]);e++}}var opening={")":"(","}":"{","]":"["};function line_ends_with_comma(t){var e,r=":",n=[];for(token of $B.tokenizer(t)){if(":"!=r)return"NEWLINE"==token.type;if("OP"==token.type&&":"==token.string&&0==n.length)r="eol";else if("OP"==token.type){if(-1<"([{".indexOf(token.string))n.push(token);else if(-1<")]}".indexOf(token.string)){if(0==n.length)throw(e=SyntaxError(`unmatched '${token.string}'`)).offset=token.start[1],e;if($B.last(n).string!=opening[token.string])throw(e=SyntaxError("closing parenthesis "+`'${token.string}' does not match opening `+`parenthesis '${$B.last(n).string}'`)).offset=token.start[1],e;n.pop()}}else if("NEWLINE"==token.type)return!1}return!1}function prepare_number(t){return(t=t.replace(/_/g,"")).startsWith(".")?t.endsWith("j")?{type:"imaginary",value:t.substr(0,t.length-1)}:{type:"float",value:t}:t.startsWith("0")&&"0"!=t?(r=test_num(t)).imaginary?{type:"imaginary",value:r.value}:"float"==r.subtype?{type:r.subtype,value:r.value}:void 0!==(e=void 0===r.subtype?10:{b:2,o:8,x:16}[r.subtype])?{type:"int",value:[e,r.value]}:void 0:"float"==(r=test_num(t)).subtype?{type:r.imaginary?"imaginary":"float",value:r.value}:{type:r.imaginary?"imaginary":"int",value:r.imaginary?r.value:[10,r.value]};var e,r}function test_escape(t,e,r,n){var o;if(o=/^[0-7]{1,3}/.exec(e.substr(n+1)))return[String.fromCharCode(parseInt(o[0],8)),1+o[0].length];switch(e[n+1]){case"x":if(2==(o=/^[0-9A-F]{0,2}/i.exec(e.substr(n+2)))[0].length)return[String.fromCharCode(parseInt(o[0],16)),2+o[0].length];s=n+o[0].length+1,$pos=r+s+2,$_SyntaxError(t,["(unicode error) 'unicodeescape' codec can't decode "+`bytes in position ${n}-${s}: truncated `+"\\xXX escape"]);case"u":if(4==(o=/^[0-9A-F]{0,4}/i.exec(e.substr(n+2)))[0].length)return[String.fromCharCode(parseInt(o[0],16)),2+o[0].length];s=n+o[0].length+1,$pos=r+s+2,$_SyntaxError(t,["(unicode error) 'unicodeescape' codec can't decode "+`bytes in position ${n}-${s}: truncated `+"\\uXXXX escape"]);case"U":if(8!=(o=/^[0-9A-F]{0,8}/i.exec(e.substr(n+2)))[0].length)s=n+o[0].length+1,$pos=r+s+2,$_SyntaxError(t,["(unicode error) 'unicodeescape' codec can't decode "+`bytes in position ${n}-${s}: truncated `+"\\uXXXX escape"]);else{var s=parseInt(o[0],16);if(!(1114111<s))return 65536<=s?[SurrogatePair(s),2+o[0].length]:[String.fromCharCode(s),2+o[0].length];$_SyntaxError("invalid unicode escape "+o[0])}}}function prepare_string(C,s,position){for(var len=s.length,pos=0,string_modifier,_type="string";pos<len;){if('"'==s[pos]||"'"==s[pos]){quote=s[pos],string_modifier=s.substr(0,pos),inner=s.substr(pos,3)==quote.repeat(3)?(_type="triple_string",s.substring(pos+3,s.length-3)):s.substring(pos+quote.length,len-quote.length);break}pos++}var result={quote:quote},mods={r:"raw",f:"fstring",b:"bytes"},mod;for(mod of string_modifier)result[mods[mod]]=!0;var raw="str"==C.type&&C.raw,string_start=$pos+pos+1,bytes=!1,fstring=!1,sm_length,end=null;if(string_modifier){switch(string_modifier){case"r":raw=!0;break;case"u":break;case"b":bytes=!0;break;case"rb":case"br":bytes=!0,raw=!0;break;case"f":fstring=!0,sm_length=1;break;case"fr":case"rf":fstring=!0,sm_length=2,raw=!0}string_modifier=!1}for(var escaped=!1,zone="",end=0,src=inner,end_lit,re,search,end_lit,description,xhr,re,search,cp,esc;end<src.length;){escaped?("a"==src.charAt(end)?zone=zone.substr(0,zone.length-1)+"":(zone+=src.charAt(end),raw&&"\\"==src.charAt(end)&&(zone+="\\")),escaped=!1,end++):"\\"==src.charAt(end)?raw?(end<src.length-1&&src.charAt(end+1)==quote?(zone+="\\\\"+quote,end+=2):(zone+="\\\\",end++),escaped=!0):"\n"==src.charAt(end+1)?end+=2:"N{"==src.substr(end+1,2)?(end_lit=end+3,re=new RegExp("[-a-zA-Z0-9 ]+"),search=re.exec(src.substr(end_lit)),null===search&&$_SyntaxError(C,"(unicode error) malformed \\N character escape",pos),end_lit+=search[0].length,"}"!=src.charAt(end_lit)&&$_SyntaxError(C,"(unicode error) malformed \\N character escape"),description=search[0].toUpperCase(),void 0===$B.unicodedb&&(xhr=new XMLHttpRequest,xhr.open("GET",$B.brython_path+"unicode.txt",!1),xhr.onreadystatechange=function(){4==this.readyState&&(200==this.status?$B.unicodedb=this.responseText:console.log("Warning - could not load unicode.txt"))},xhr.send()),void 0!==$B.unicodedb?(re=new RegExp("^([0-9A-F]+);"+description+";.*$","m"),search=re.exec($B.unicodedb),null===search&&$_SyntaxError(C,"(unicode error) unknown Unicode character name"),cp="0x"+search[1],zone+=String.fromCodePoint(eval(cp)),end=end_lit+1):end++):(esc=test_escape(C,src,string_start,end),esc?("\\"==esc[0]?zone+="\\\\":zone+=esc[0],end+=esc[1]):(end<src.length-1&&void 0===is_escaped[src.charAt(end+1)]&&(zone+="\\"),zone+="\\",escaped=!0,end++)):"\n"==src.charAt(end)&&"triple_string"!=_type?(console.log(pos,end,src.substring(pos,end)),$_SyntaxError(C,["EOL while scanning string literal"])):(zone+=src.charAt(end),end++)}for(var $string=zone,string="",i=0;i<$string.length;i++){var $car=$string.charAt(i);if($car==quote)if(raw||0==i||"\\"!=$string.charAt(i-1))string+="\\";else if("triple_string"==_type){for(var j=i-1;"\\"==$string.charAt(j);)j--;(i-j-1)%2==0&&(string+="\\")}string+=$car}if(fstring)try{var re=new RegExp("\\\\"+quote,"g"),string_no_bs=string.replace(re,quote),elts=$B.parse_fstring(string_no_bs)}catch(err){err.position&&($pos+=err.position),$_SyntaxError(C,[err.message])}return result.value=bytes?"b"+quote+string+quote:fstring?elts:quote+string+quote,C.raw=raw,result}function unindent(t){for(var e,r,n=t.split("\n"),o=[],s=0,a=n.length;s<a;s++)if((r=(e=n[s]).match(/^\s*/)[0])!=e)if(void 0===_){if(0==r.length)return t;var _,i=(_=r).length;o.push(e.substr(i))}else{if(!e.startsWith(_))throw SyntaxError("first line starts at "+`column ${i}, line ${s} at column `+e.match(/\s*/).length+"\n    "+e);o.push(e.substr(i))}else o.push("");return o.join("\n")}function handle_errortoken(t,e){"'"!=e.string&&'"'!=e.string||$_SyntaxError(t,["unterminated string literal "+`(detected at line ${e.start[0]})`]),$_SyntaxError(t,"invalid token "+e[1]+_b_.ord(e[1]))}var dispatch_tokens=$B.parser.dispatch_tokens=function(t,e){var r=$B.tokenizer(e),n={")":"(","]":"[","}":"{"},o=[],s=["class","return","break","for","lambda","try","finally","raise","def","from","nonlocal","while","del","global","with","as","elif","else","if","yield","assert","import","except","raise","in","pass","with","continue","__debugger__","async","await"],a=[],_=t.module,i=void 0===t.line_num?1:t.line_num,l=new $Node;l.line_num=i,t.add(l);for(var c,u,f=null,p=!1,$=0,d={0:0,1:0},h=1,m=0,g=e.length;m<g;m++)"\n"==e[m]&&(d[++h]=m+1);for(;;){try{var b=r.next()}catch(t){throw"IndentationError"==t.type?(f=f||new $NodeCtx(l),$pos=d[t.line_num],$_SyntaxError(f,t.message,1)):t instanceof SyntaxError&&(0<o.length&&(c=(x=$B.last(o)).start,f.$pos=d[c[0]]+c[1],$_SyntaxError(f,[`'${x.string}' was `+"never closed"])),$_SyntaxError(f,t.message)),t}if(b.done)throw Error("token done without ENDMARKER.");switch(void 0===(b=b.value)[2]&&(console.log("token incomplet",b,"module",_,t),console.log("src",e)),void 0===b.start&&console.log("no start",b),i=b.start[0],$pos=d[i]+b.start[1],p&&-1==["INDENT","COMMENT","NL"].indexOf(b.type)&&(f=f||new $NodeCtx(l),$_SyntaxError(f,"expected an indented block",1)),b.type){case"ENDMARKER":if(t.yields_func_check){var y=$pos;for(const w of t.yields_func_check)$pos=w[1],w[0].check_in_function();$pos=y}return 0!=$&&$_SyntaxError(l.C,"expected an indented block",1),void(void 0!==l.C&&0!=l.C.tree.length||l.parent.children.pop());case"ENCODING":case"TYPE_COMMENT":continue;case"NL":l.C&&0!=l.C.tree.length||l.line_num++;continue;case"COMMENT":y=d[b.end[0]]+b.end[1];t.comments.push([$pos,y-$pos]);continue;case"ERRORTOKEN":f=f||new $NodeCtx(l)," "!=b.string&&handle_errortoken(f,b);continue}switch(b[0]){case"NAME":case"NUMBER":case"OP":case"STRING":f=f||new $NodeCtx(l)}switch(b[0]){case"NAME":var v=b[1],f=-1<s.indexOf(v)?(-1<a.indexOf(v)&&$_SyntaxError(f,"Unsupported Python keyword '"+v+"'"),$transition(f,v)):"not"==v?$transition(f,"not"):"string"==typeof $operators[v]?$transition(f,"op",v):$transition(f,"id",v);continue;case"OP":var x,B,v=b[1];1==v.length&&-1<"()[]{}.,=".indexOf(v)||-1<[":="].indexOf(v)?(-1<"([{".indexOf(v)?o.push(b):n[v]&&(0==o.length?$_SyntaxError(f,"unmatched '"+v+"'"):(x=$B.last(o)).string==n[v]?o.pop():$_SyntaxError(f,[`closing parenthesis '${v}' does not `+"match opening parenthesis '"+`${x.string}'`])),f=$transition(f,b[1])):":"==v?(f=$transition(f,":")).node&&f.node.is_body_node&&(l=f.node):"..."==v?f=$transition(f,"ellipsis"):"->"==v?f=$transition(f,"annotation"):";"==v?("node"==f.type&&0==f.tree.length&&$_SyntaxError(f,"statement cannot start with ;"),$transition(f,"eol"),(B=new $Node).line_num=b[2][0]+1,f=new $NodeCtx(B),l.parent.add(B),l=B):f=$augmented_assigns[v]?$transition(f,"augm_assign",v):$transition(f,"op",v);continue;case"STRING":f=(u=prepare_string(f,b[1],b[2])).value instanceof Array?$transition(f,"JoinedStr",u.value):$transition(f,"str",u.value);continue;case"NUMBER":void 0===(u=prepare_number(b[1]))&&console.log("pas de prepared pour",b),f=$transition(f,u.type,u.value);continue;case"NEWLINE":f&&f.node&&f.node.is_body_node&&(p=!0),f=f||new $NodeCtx(l),$transition(f,"eol"),(B=new $Node).line_num=b[2][0]+1,(0<l.parent.children.length&&l.parent.children[0].is_body_node?l.parent:l).parent.add(B),f=new $NodeCtx(B),l=B;continue;case"DEDENT":$--,l.parent.children.pop(),l.parent.parent.add(l);continue;case"INDENT":$++,p||(f=f||new $NodeCtx(l),$_SyntaxError(f,"unexpected indent",$pos)),p=!1;continue}}},$create_root_node=$B.parser.$create_root_node=function(t,e,r,n,o){var s=new $Node("module");return s.module=e,s.id=r,s.binding={__doc__:!0,__name__:!0,__file__:!0,__package__:!0},s.parent_block=n,s.line_num=o,s.indent=-1,s.comments=[],s.imports={},"object"==typeof t&&(s.is_comp=t.is_comp,s.filename=t.filename,t.has_annotations&&(s.binding.__annotations__=!0),t=t.src),s.src=t,s};$B.py2js=function(t,e,r,n,o){$pos=0,"object"==typeof e?(f=e.__package__,e=e.__name__):f="",n=n||$B.builtins_scope;var s,a=(new Date).getTime(),_=!1,i=!0;"object"==typeof t?(_=t.is_comp,i=t.has_annotations,d=t.line_info,u=t.ix,s=t.filename,void 0!==d&&(o=parseInt(d.split(",")[0])),t=t.src):void 0!==o?d=`${o},${e}`:o=1,"\n"!=(t=(t=t.replace(/\r\n/gm,"\n")).endsWith("\\")&&!t.endsWith("\\\\")?t.substr(0,t.length-1):t).charAt(t.length-1)&&(t+="\n");(r=Array.isArray(r)?r[0]:r).charAt(0);var l="$locals_"+r.replace(/\./g,"_"),c="$locals_"+e.replace(/\./g,"_"),n=$create_root_node({src:t,is_comp:_,has_annotations:i,filename:s},e,r,n,o);dispatch_tokens(n,t),n.is_comp=_,null!=u&&(n.ix=u),n.transform();var u,o="var $B = __BRYTHON__,\n    _b_ = __BRYTHON__.builtins,\n",t=0;n.insert(0,$NodeJS(o+=_?"    "+l+" = {},\n    $locals = "+l+";\n":"    $locals = "+l+";\n")),t++,n.insert(t++,$NodeJS(l+'.__package__ = "'+f+'"')),_&&(u="{co_argcount: 1, co_firstlineno:"+n.line_num+', co_name: "<'+_+'>", co_flags: '+("genexpr"==_?115:83)+", co_freevars: $B.fast_tuple([]), co_kwonlyargcount: 0,co_posonlyargount: 0",n.varnames&&(delete n.varnames[n.id],u+=", co_varnames: $B.fast_tuple(['.0', "+Object.keys(n.varnames).map(t=>`'${t}'`).join(",")+"])"),n.insert(t++,$NodeJS(l+".$comp_code = "+(u+="}"))),u="_expr","genexpr"!=_&&"setcomp"!=_||(u="$locals_"+n.id),n.insert(t++,$NodeJS('$locals[".0"] = '+u))),n.insert(t++,$NodeJS(l+'.__package__ = "'+f+'"')),n.binding.__annotations__&&n.insert(t++,$NodeJS("$locals.__annotations__ = $B.empty_dict()"));var f=t,o='var $top_frame = ["'+r.replace(/\./g,"_")+'", '+l+', "'+e.replace(/\./g,"_")+'", '+c+"]\n$locals.$f_trace = $B.enter_frame($top_frame)\nvar $stack_length = $B.frames_stack.length;";n.insert(t++,$NodeJS(o));var p,$=new $NodeJS("try"),o=n.children.slice(f+1,n.children.length);n.insert(f+1,$);for(p of o=0==o.length?[$NodeJS("")]:o)$.add(p);$.add($NodeJS("$B.leave_frame({$locals, value: _b_.None})")),n.children.splice(f+2,n.children.length);f=$NodeJS("catch(err)");f.add($NodeJS("$B.leave_frame({$locals, value: _b_.None})")),f.add($NodeJS("throw err")),n.add(f),$add_line_num(n,null,d);var d=(new Date).getTime();return 2<$B.debug&&e==r&&console.log("module "+e+" translated in "+(d-a)+" ms"),$B.compile_time+=d-a,n},$B.set_import_paths=function(){var t=[],e=[];$B.use_VFS&&t.push($B.finders.VFS),!1!==$B.$options.static_stdlib_import&&"file"!=$B.protocol&&(t.push($B.finders.stdlib_static),3<$B.path.length&&($B.path.shift(),$B.path.shift())),"file"!==$B.protocol&&(t.push($B.finders.path),e.push($B.url_hook)),$B.$options.cpython_import&&("replace"==$B.$options.cpython_import&&$B.path.pop(),t.push($B.finders.CPython)),$B.meta_path=t,$B.path_hooks=e};var brython=$B.parser.brython=function(t){void 0===t?t={debug:1}:"number"==typeof t?t={debug:t}:"object"!=typeof t&&(console.warn("ignoring invalid argument passed to brython():",t),t={debug:1}),void 0===t.debug&&(t.debug=1),$B.debug=t.debug,_b_.__debug__=0<$B.debug,void($B.compile_time=0)===t.profile&&(t.profile=0),$B.profile=t.profile,void 0===t.indexedDB&&(t.indexedDB=!0),void 0===t.static_stdlib_import&&(t.static_stdlib_import=!0),$B.static_stdlib_import=t.static_stdlib_import,$B.$options=t,$B.set_import_paths();var e,r,n=($B.script_path=_window.location.href).split("/");if(n.pop(),($B.isWebWorker||$B.isNode)&&n.pop(),$B.curdir=n.join("/"),void 0!==t.pythonpath&&($B.path=t.pythonpath,$B.$options.static_stdlib_import=!1),t.python_extension=t.python_extension||".py",t.python_paths)for(var o of t.python_paths)"string"!=typeof o&&(e=o.lang,r=o.prefetch,o=o.path),$B.path.push(o),".vfs.js"!=o.slice(-7).toLowerCase()||void 0!==r&&!0!==r||($B.path_importer_cache[o+"/"]=$B.imported._importlib.VFSPathFinder(o)),e&&_.optimize_import_for_path(o,e);if(!$B.isWebWorker&&!$B.isNode)for(var s,a=document.querySelectorAll("head link[rel~=pythonpath]"),_=$B.imported._importlib,i=0;s=a[i];++i){var l=s.href;-1!=(" "+s.rel+" ").indexOf(" prepend ")?$B.path.unshift(l):$B.path.push(l);l=s.hreflang;l&&("x-"==l.slice(0,2)&&(l=l.slice(2)),_.optimize_import_for_path(s.href,l))}$B.$options.args?$B.__ARGV=$B.$options.args:$B.__ARGV=_b_.list.$factory([]),$B.isWebWorker||$B.isNode||_run_scripts(t)};$B.run_script=function(t,e,r,n){try{var o=$B.py2js(t,e,e),s=o.to_js(),a={__doc__:o.__doc__,js:s,__name__:e,$src:t,__file__:r};$B.file_cache[a.__file__]=t,1<$B.debug&&console.log(s)}catch(t){$B.handle_error(t)}if($B.hasOwnProperty("VFS")&&$B.has_indexedDB){var _=Object.keys(o.imports).slice().filter(function(t){return $B.VFS.hasOwnProperty(t)});for(e of Object.keys(_))if($B.VFS.hasOwnProperty(e)){var i=$B.VFS[e],l=i[0];if(".py"==l){var c,t=i[1],u=i[2];i.length;".py"==l&&required_stdlib_imports(u);for(c of u)-1==_.indexOf(c)&&_.push(c)}}for(var f=0;f<_.length;f++)$B.tasks.push([$B.inImported,_[f]]);o=null}$B.tasks.push(["execute",a]),n&&$B.loop()};var $log=$B.$log=function(t){t.split("\n").forEach(function(t,e){console.log(e+1,":",t)})},_run_scripts=$B.parser._run_scripts=function(options){var kk=Object.keys(_window),defined_ids={},$elts=[],webworkers=[],ids=options.ids||options.ipy_id;if(void 0!==ids){if(!Array.isArray(ids))throw _b_.ValueError.$factory("ids is not a list");var scripts=[],id;for(id of options.ids){var elt=document.getElementById(id);if(null===elt)throw _b_.KeyError.$factory(`no script with id '${id}'`);if("SCRIPT"!==elt.tagName)throw _b_.KeyError.$factory(`element ${id} is not a script`);scripts.push(elt)}}else var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){var script=scripts[i];if("text/python"==script.type||"text/python3"==script.type)if("webworker"==script.className){if(void 0===script.id)throw _b_.AttributeError.$factory("webworker script has no attribute 'id'");webworkers.push(script)}else $elts.push(script)}var first_script=!0,module_name;if(void 0!==options.ipy_id){var module_name="__main__",$src="",js,root,elt;for(elt of $elts)$src+=elt.innerHTML||elt.textContent;try{root=$B.py2js($src,module_name,module_name),js=root.to_js(),1<$B.debug&&$log(js),eval(js),$B.clear_ns(module_name),root=null,js=null}catch($err){if(root=null,js=null,console.log($err),1<$B.debug)for(var attr in console.log($err),$err)console.log(attr+" : ",$err[attr]);void 0===$err.$py_error&&(console.log("Javascript error",$err),$err=_b_.RuntimeError.$factory($err+""));var $trace=$B.$getattr($err,"info")+"\n"+$err.__name__+": "+$err.args;try{$B.$getattr($B.stderr,"write")($trace)}catch(print_exc_err){console.log($trace)}throw $err}}else{0<$elts.length&&options.indexedDB&&$B.has_indexedDB&&$B.hasOwnProperty("VFS")&&$B.tasks.push([$B.idb_open]);for(var i=0,src;i<$elts.length;i++){var elt=$elts[i];if(elt.id){if(defined_ids[elt.id])throw Error("Brython error : Found 2 scripts with the same id '"+elt.id+"'");defined_ids[elt.id]=!0}}for(var i=0,len=webworkers.length;i<len;i++){var worker=webworkers[i];worker.src?$B.tasks.push([$B.ajax_load_script,{name:worker.id,url:worker.src,is_ww:!0}]):(src=worker.innerHTML||worker.textContent,src=unindent(src),src=src.replace(/^\n/,""),$B.webworkers[worker.id]=src)}for(var i=0;i<$elts.length;i++){var elt=$elts[i];if("text/python"==elt.type||"text/python3"==elt.type){if(elt.id)module_name=elt.id;else for(first_script?(module_name="__main__",first_script=!1):module_name="__main__"+$B.UUID();void 0!==defined_ids[module_name];)module_name="__main__"+$B.UUID();elt.src?$B.tasks.push([$B.ajax_load_script,{name:module_name,url:elt.src}]):(src=elt.innerHTML||elt.textContent,src=unindent(src),src=src.replace(/^\n/,""),$B.tasks.push([$B.run_script,src,module_name,$B.script_path+"#"+module_name,!0]))}}}void 0===options.ipy_id&&$B.loop()};$B.$operators=$operators,$B.$Node=$Node,$B.$NodeJSCtx=$NodeJSCtx,$B.brython=brython}(__BRYTHON__);var brython=__BRYTHON__.brython;__BRYTHON__.isNode&&(global.__BRYTHON__=__BRYTHON__,module.exports={__BRYTHON__:__BRYTHON__}),function(f){var _=f.builtins;function p(e){var t=f.idb_cx.result.transaction("modules","readonly");try{var r=t.objectStore("modules");req=r.get(e),req.onsuccess=function(t){!function(t,e){var r=t.target.result;if(f.timestamp,void 0===r||r.timestamp!=f.timestamp||f.VFS[e]&&r.source_ts!==f.VFS[e].timestamp){if(void 0!==f.VFS[e]){var n=(c=f.VFS[e])[0],o=c[1];if(".py"==n){c[2];var t=4==c.length,s=(c.timestamp,t?e:((s=e.split(".")).pop(),s.join(".")));f.imported[e]=f.module.$factory(e,"",s);try{f.py2js(o,e,e).to_js()}catch(t){f.handle_error(t)}delete f.imported[e],1<f.debug&&console.log("precompile",e)}else console.log("bizarre",e,n)}}else if(r.is_package?f.precompiled[e]=[r.content]:f.precompiled[e]=r.content,0<r.imports.length){1<f.debug&&console.log(e,"imports",r.imports);for(var a=r.imports.split(","),_=0;_<a.length;_++){if((u=a[_]).startsWith(".")){for(var i=e.split("."),l=0;u.startsWith(".");)l++,u=u.substr(1);var c=i.slice(0,l),u=(c=u?c.concat([u]):c).join(".")}f.imported.hasOwnProperty(u)||f.precompiled.hasOwnProperty(u)||f.VFS.hasOwnProperty(u)&&(n=(i=f.VFS[u])[0],o=i[1],".py"==i[0]?f.tasks.splice(0,0,[p,u]):$(u,o))}}d()}(t,e)}}catch(t){console.info("error",t)}}function $(t,e){e+="\nvar $locals_"+t.replace(/\./g,"_")+" = $module",f.precompiled[t]=e}f.VFS_timestamp&&f.VFS_timestamp>f.timestamp&&(f.timestamp=f.VFS_timestamp),f.idb_open=function(t){f.idb_name="brython-cache";var o=f.idb_cx=indexedDB.open(f.idb_name);o.onsuccess=function(){var e,r,t,n=o.result;n.objectStoreNames.contains("modules")?(1<f.debug&&console.info("using indexedDB for stdlib modules cache"),t=n.transaction("modules","readwrite").objectStore("modules"),r=[],(t=t.openCursor()).onerror=function(t){console.log("open cursor error",t)},t.onsuccess=function(t){cursor=t.target.result,cursor?((e=cursor.value).timestamp!=f.timestamp||f.VFS&&f.VFS[e.name]&&f.VFS[e.name].timestamp!=e.source_ts?r.push(e.name):(e.is_package?f.precompiled[e.name]=[e.content]:f.precompiled[e.name]=e.content,1<f.debug&&console.info("load from cache",e.name)),cursor.continue()):(1<f.debug&&console.log("done"),f.outdated=r,d())}):(t=n.version,n.close(),console.info("create object store",t),(o=indexedDB.open(f.idb_name,t+1)).onupgradeneeded=function(){console.info("upgrade needed"),f.idb_cx.result.createObjectStore("modules",{keyPath:"name"}).onsuccess=d},o.onversionchanged=function(){console.log("version changed")},o.onsuccess=function(){console.info("db opened",o),o.result.createObjectStore("modules",{keyPath:"name"}).onsuccess=d})},o.onupgradeneeded=function(){console.info("upgrade needed"),o.result.createObjectStore("modules",{keyPath:"name"}).onsuccess=d},o.onerror=function(){console.info("could not open indexedDB database"),f.idb_cx=null,f.idb_name=null,f.$options.indexedDB=!1,d()}},f.ajax_load_script=function(e){var r=e.url,n=e.name;if(f.files&&f.files.hasOwnProperty(n))f.tasks.splice(0,0,[f.run_script,f.files[n],n,r,!0]);else{if("file"==f.protocol)throw _.IOError.$factory("can't load external script at "+e.url+" (Ajax calls not supported with protocol file:///)");var t=new XMLHttpRequest,o=f.$options.cache?"":(-1<r.search(/\?/)?"&":"?")+Date.now();t.open("GET",r+o,!0),t.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var t=this.responseText;e.is_ww?f.webworkers[n]=t:f.tasks.splice(0,0,[f.run_script,t,n,r,!0]),d()}else if(404==this.status)throw Error(r+" not found")},t.send()}};f.inImported=function(t){var e,r,n;f.imported.hasOwnProperty(t)||(__BRYTHON__.VFS&&__BRYTHON__.VFS.hasOwnProperty(t)?(void 0===(e=__BRYTHON__.VFS[t])&&console.log("bizarre",t),r=e[0],n=e[1],e.length,".py"==r?f.idb_cx&&!f.idb_cx.$closed&&f.tasks.splice(0,0,[p,t]):$(t,n)):console.log("bizarre",t)),d()};var d=f.loop=function(){if(0!=f.tasks.length){var t=f.tasks.shift(),e=t[0],r=t.slice(1);if("execute"==e){try{var n=t[1],o=n.__name__.replace(/\./g,"_");(a=f.module.$factory(n.__name__)).$src=n.$src,a.__file__=n.__file__,f.imported[o]=a,new Function("$locals_"+o,n.js)(a)}catch(t){void 0===t.__class__&&(console.log("Javascript error",t),t=f.is_recursion_error(t)?_.RecursionError.$factory("too much recursion"):(f.print_stack(),_.RuntimeError.$factory(t+""))),1<f.debug&&(console.log("handle error",t.__class__,t.args,t.$stack),console.log(f.frames_stack.slice())),f.handle_error(t)}d()}else try{e.apply(null,r)}catch(t){f.handle_error(t)}}else{if(f.idb_cx&&!f.idb_cx.$closed){for(var s=f.idb_cx.result.transaction("modules","readwrite").objectStore("modules");0<f.outdated.length;){var a=f.outdated.pop();s.delete(a).onsuccess=function(e){return function(t){1<f.debug&&console.info("delete outdated",e),document.dispatchEvent(new CustomEvent("precompile",{detail:"remove outdated "+e+" from cache"}))}}(a)}document.dispatchEvent(new CustomEvent("precompile",{detail:"close"})),f.idb_cx.result.close(),f.idb_cx.$closed=!0}document.dispatchEvent(new CustomEvent("brython_done",{detail:f.obj_dict(f.$options)}))}};f.tasks=[],f.has_indexedDB=void 0!==self.indexedDB,f.handle_error=function(t){if(!t.$handled){var e,r,n;t.$handled=!0,1<f.debug&&(console.log("handle error",t.__class__,t.args,"stderr",f.stderr),console.log(t)),void 0!==t.__class__?(e=f.class_name(t),r=f.$getattr(t,"info"),"SyntaxError"==e||"IndentationError"==e?(n=t.args[1][2],r+="\n    "+" ".repeat(n)+"^\n"+e+": "+t.args[0]):(r+="\n"+e,void 0!==t.args[0]&&t.args[0]!==_.None&&(r+=": "+_.str.$factory(t.args[0])))):(console.log(t),r=t+"");try{f.$getattr(f.stderr,"write")(r);var o=f.$getattr(f.stderr,"flush",_.None);o!==_.None&&o()}catch(t){console.debug(r)}throw t}}}(__BRYTHON__),__BRYTHON__.builtins.object=function($){var d=$.builtins,n={$infos:{__name__:"object"},$is_class:!0,$native:!0};function a(t){return $.$getattr(t,"__new__").apply(null,arguments)}return n.__delattr__=function(t,e){if(t.__dict__&&t.__dict__.$string_dict&&void 0!==t.__dict__.$string_dict[e])return delete t.__dict__.$string_dict[e],d.None;if(void 0===t.__dict__&&void 0!==t[e])return delete t[e],d.None;var r=t.__class__;if(r){r=$.$getattr(r,e);if(r.__class__===d.property&&void 0!==r.__delete__)return r.__delete__(t),d.None}throw d.AttributeError.$factory(e)},n.__dir__=function(t){for(var e,r,n=[],o=0,s=(r=t.$is_class?[t].concat(t.__mro__):[t,e=t.__class__||$.get_class(t)].concat(e.__mro__)).length;o<s;o++)for(var a in r[o])"$"!=a.charAt(0)?isNaN(parseInt(a.charAt(0)))&&"__mro__"!=a&&n.push(a):"$"==a.charAt(1)&&n.push(a.substr(2));if(t.__dict__)for(var a in t.__dict__.$string_dict)"$"!=a.charAt(0)&&n.push(a);return n=d.list.$factory(d.set.$factory(n)),d.list.sort(n),n},n.__eq__=function(t,e){return t===e||d.NotImplemented},n.__format__=function(){var t=$.args("__format__",2,{self:null,spec:null},["self","spec"],arguments,{},null,null);if(""!==t.spec)throw d.TypeError.$factory("non-empty format string passed to object.__format__");return d.getattr(t.self,"__str__")()},n.__ge__=function(){return d.NotImplemented},n.__getattribute__=function(t,e){var r=t.__class__||$.get_class(t),n=!1;if(0,"__class__"===e)return r;var o=t[e];if(void 0===(o=Array.isArray(t)&&void 0!==Array.prototype[e]?void 0:o)&&t.__dict__){var s=t.__dict__;if(s.$string_dict.hasOwnProperty(e))return s.$string_dict[e][0]}if(void 0===o){function a(t,e,r){r=e[r];if(void 0!==r)return r}if(void 0===(o=a(0,r,e))){for(var _=0,i=(p=r.__mro__).length;_<i;_++)if(void 0!==(o=a(0,p[_],e))){0;break}}else o.__class__!==$.method&&void 0===o.__get__&&(n=!0)}else if(void 0===o.__set__)return o;if(void 0!==o){if(0,o.__class__===d.property)return o.__get__(o,t,r);if(o.__class__===$.method)return void 0===o.__get__&&console.log("bizarre",t,e,o),o.__get__(t,r);if(void 0===(l=o.__get__)&&o.__class__)for(var l=o.__class__.__get__,_=0;_<o.__class__.__mro__.length&&void 0===l;_++)l=o.__class__.__mro__[_].__get__;0;var c=void 0===l?null:$.$getattr(o,"__get__",null);if(0,null!==c)try{return c.apply(null,[t,r])}catch(t){throw t}if("object"==typeof o&&c&&"function"==typeof c&&(get_func=function(t,e){return c.apply(t,[e,r.$factory])}),null===(c=null===c&&"function"==typeof o?function(t){return t}:c))return o;"__new__"!=(o.__name__=e)&&o.__class__!==$.builtin_function||(o.$type="staticmethod");s=c.apply(null,[o,t,r]);if(0,"function"!=typeof s)return s;if(s.__class__===$.method)return o;if("staticmethod"==o.$type)return o;var u=o.__class__===$.method?r:t,s=function(){for(var t=[u],e=0,r=arguments.length;e<r;e++)t.push(arguments[e]);return o.apply(this,t)};return s.__class__=$.method,(s.__get__=function(t,e){var r=o.bind(null,e);return r.__class__=$.method,r.$infos={__self__:e,__func__:o,__name__:o.$infos.__name__,__qualname__:e.$infos.__name__+"."+o.$infos.__name__},r}).__class__=$.method_wrapper,s.__get__.$infos=o.$infos,void 0===r.$infos&&(console.log("no $infos",r),console.log($.last($.frames_stack))),s.$infos={__self__:u,__func__:o,__name__:e,__qualname__:r.$infos.__name__+"."+e},n&&(t.$method_cache=t.$method_cache||{},t.$method_cache[e]=[s,o]),s}var f=t.__getattr__;if(void 0===f&&void 0===(f=r.__getattr__))for(var p,_=0,i=(p=r.__mro__).length;_<i&&void 0===(f=p[_].__getattr__);_++);if(void 0!==f)return r===$.module?f(e):f(t,e);throw d.AttributeError.$factory(e)},n.__gt__=function(){return d.NotImplemented},n.__hash__=function(t){var e=t.__hashvalue__;return void 0!==e?e:t.__hashvalue__=$.$py_next_hash--},n.__init__=function(){if(0==arguments.length)throw d.TypeError.$factory("descriptor '__init__' of 'object' object needs an argument");return d.None},n.__init_subclass__=function(){$.args("__init_subclass__",0,{},[],arguments,{},null,null);return d.None},n.__init_subclass__.$type="staticmethod",n.__le__=function(){return d.NotImplemented},n.__lt__=function(){return d.NotImplemented},n.__mro__=[],n.__new__=function(t,...e){if(void 0===t)throw d.TypeError.$factory("object.__new__(): not enough arguments");var r=$.$getattr(t,"__init__");if(r===n.__init__&&0<e.length)throw d.TypeError.$factory("object() takes no parameters");e=Object.create(null);return $.update_obj(e,{__class__:t,__dict__:$.empty_dict()}),e},n.__ne__=function(t,e){if(t===e)return!1;t=$.$getattr(t,"__eq__",null);if(null===t)return d.NotImplemented;e=$.$call(t)(e);return e===d.NotImplemented?e:!$.$bool(e)},n.__reduce__=function(t){function e(t){return $.$call(t)()}e.$infos={__qualname__:"_reconstructor"};var r=[e];r.push(d.tuple.$factory([t.__class__].concat(t.__class__.__mro__)));var n,o=$.empty_dict();for(n in t.__dict__.$string_dict)d.dict.$setitem(o.$string_dict,n,t.__dict__.$string_dict[n][0]);return console.log("object.__reduce__, d",o),r.push(o),d.tuple.$factory(r)},a.$infos={__name__:"__newobj__",__qualname__:"__newobj__"},d.__newobj__=a,n.__reduce_ex__=function(t){var e=[a],r=d.tuple.$factory([t.__class__]);Array.isArray(t)&&t.forEach(function(t){r.push(t)}),e.push(r);var n,o=$.empty_dict(),s=0;if(void 0===t.__dict__)throw d.TypeError.$factory("cannot pickle '"+$.class_name(t)+"' object");for(n in t.__dict__.$string_dict)"__class__"==n||n.startsWith("$")||(d.dict.$setitem(o,n,t.__dict__.$string_dict[n][0]),s++);return 0==s&&(o=d.None),e.push(o),e.push(d.None),d.tuple.$factory(e)},n.__repr__=function(t){if(t===n)return"<class 'object'>";if(t.__class__===d.type)return"<class '"+t.__name__+"'>";var e=t.__class__.$infos.__module__;return void 0===e||e.startsWith("$")||"builtins"===e?"<"+$.class_name(t)+" object>":"<"+t.__class__.$infos.__module__+"."+$.class_name(t)+" object>"},n.__setattr__=function(t,e,r){if(void 0===r)throw d.TypeError.$factory("can't set attributes of built-in/extension type 'object'");if(t.__class__===n)throw void 0===n[e]?d.AttributeError.$factory("'object' object has no attribute '"+e+"'"):d.AttributeError.$factory("'object' object attribute '"+e+"' is read-only");return t.__dict__?d.dict.$setitem(t.__dict__,e,r):t[e]=r,d.None},n.__setattr__.__get__=function(r){return function(t,e){n.__setattr__(r,t,e)}},n.__setattr__.__str__=function(){return"method object.setattr"},n.__str__=function(t){var e=arguments.length;if(0==e)throw d.TypeError.$factory("descriptor '__str__' of 'object' object needs an argument");if(1<e)throw d.TypeError.$factory("descriptor '__str__' of 'object' expects 1 argument, got "+e);if("kw"==t.$nat)throw d.TypeError.$factory("descriptor '__str__' of 'object' doesn't accept keyword arguments");if(t.$is_class||t.$factory){var r=$.$getattr(t.__class__||$.get_class(t),"__str__",null);if(null!==r&&r!==n.__str__)return r(t);r=$.$getattr(t.__class__||$.get_class(t),"__repr__",null);return null!==r&&r!==n.__repr__?r(t):void 0}r=$.$getattr(t,"__repr__");return $.$call(r)()},n.__subclasshook__=function(){return d.NotImplemented},n.$factory=function(){var t={__class__:n},e=[t].concat(Array.prototype.slice.call(arguments));return n.__init__.apply(null,e),t},$.set_func_names(n,"builtins"),$.make_class=function(t,e){t={__class__:d.type,__mro__:[n],$infos:{__qualname__:t,__name__:$.last(t.split("."))},$is_class:!0};return t.$factory=e,t},n}(__BRYTHON__),function(S){var O=S.builtins;function A(t,e,r){var n;if(r&&0<r.length){if(void 0===(n=r[0].__class__)){if("function"!=typeof r[0])throw O.TypeError.$factory("Argument of "+t+"is not a class (type '"+S.class_name(r[0])+"')");if(1!=r.length)throw O.TypeError.$factory("A Brython class can inherit at most 1 Javascript constructor");n=r[0].__class__=S.JSMeta,S.set_func_names(r[0],e)}for(var o=1;o<r.length;o++){var s=r[o].__class__;if(s!==n&&!O.issubclass(n,s))if(O.issubclass(s,n))n=s;else if(n.__bases__&&-1==n.__bases__.indexOf(s))throw O.TypeError.$factory("metaclass conflict: the metaclass of a derived class must be a (non-strict) subclass of the metaclasses of all its bases")}}else n=O.type;return n}S.$class_constructor=function(t,e,r,n,o){var s;r=r||[];var a=e.__module__;void 0===a&&(a=e.__module__=S.last(S.frames_stack)[2]);for(var _=0;_<r.length;_++)if(void 0===r[_])throw S.line_info=e.$def_line,O.NameError.$factory("name '"+n[_]+"' is not defined");var i={},l={};if(o)for(_=0;_<o.length;_++){var c=o[_][0],u=o[_][1];"metaclass"==c?s=u:i[c]=u,l[c]=u}var f=e;void 0!==e.__eq__&&void 0===e.__hash__&&(e.__hash__=O.None);for(var p,$=r.slice(),d=!1,_=0;_<r.length;_++)void 0!==r[_]&&void 0!==r[_].__mro__||((p=S.$getattr(r[_],"__mro_entries__",O.None))===O.None||(p=O.list.$factory(p(r)),r.splice(_,1,...p),d=!0,_--));void 0===s&&(s=A(t,a,r));var h,m=S.$getattr(s,"__prepare__",O.None),g=S.$call(m)(t,r);for(N in h=g.__class__!==O.dict?S.$getattr(g,"__setitem__"):function(t,e){g.$string_dict[t]=[e,g.$order++]},e)if("__annotations__"==N)for(var c in void 0===g.$string_dict[N]&&(g.$string_dict[N]=[S.empty_dict(),g.$order++]),e[N].$string_dict)S.$setitem(g.$string_dict[N][0],c,e[N].$string_dict[c][0]);else"$"!=N.charAt(0)&&h(N,e[N]);d&&h("__orig_bases__",O.tuple.$factory($));var b={__bases__:r,__class__:s,__dict__:g};if(g.__class__===O.dict)for(var c in g.$string_dict)b[c]=g.$string_dict[c][0];else for(var y=S.$getattr(g,"__getitem__"),v=O.iter(g);;)try{b[c=O.next(v)]=y(c)}catch(t){break}b.__mro__=O.type.mro(b).slice(1);for(var x=!0,B={},w={},k=[b].concat(b.__mro__),_=0;_<k.length;_++){var E,j=0==_?f:k[_];for(N in j)B[N]||("function"==typeof(E=j[N])&&(!0===E.__isabstractmethod__||E.$attrs&&E.$attrs.__isabstractmethod__)?w[N]=!(x=!1):B[N]=!0)}$=e.__slots__;void 0!==$&&($="string"==typeof $?[$]:O.list.$factory($),g.__slots__=$);for(_=0;_<k.length-1;_++)for(var N in k[_]){if("__setattr__"==N){g.$has_setattr=!0;break}if(k[_][N]&&(k[_][N].__get__||k[_][N].__class__&&k[_][N].__class__.__get__)){g.$has_setattr=!0;break}}var C=O.type.__getattribute__(s,"__new__")(s,t,r,g,{$nat:"kw",kw:i});for(N in C.__module__=a,C.$infos={__module__:a,__name__:t,__qualname__:e.$qualname},C.$subclasses=[],void 0!==C.__bases__&&0!=C.__bases__.length||(C.__bases__=S.fast_tuple([O.object])),e)"$"!=N.charAt(0)&&"function"==typeof e[N]&&(e[N].$infos.$class=C);C.__class__===s&&O.type.__getattribute__(s,"__init__")(C,t,r,g);for(_=0;_<r.length;_++)r[_].$subclasses=r[_].$subclasses||[],r[_].$subclasses.push(C);return x||(C.$factory=function(){throw O.TypeError.$factory("Can't instantiate abstract class interface with abstract methods "+Object.keys(w).join(", "))}),C.__qualname__=t,C};var f=S.make_class("type",function(t,e,r){var n=arguments.length;if(1==n)return void 0===t?S.UndefinedClass:t.__class__||S.get_class(t);if(3!=n)throw O.TypeError.$factory("type() takes 1 or 3 arguments");n=A(t,S.last(S.frames_stack)[2],e);return f.__new__(n,t,e,r)});f.__call__=function(){for(var t=[],e=arguments[0],r=1,n=arguments.length;r<n;r++)t.push(arguments[r]);var o,s=O.type.__getattribute__(e,"__new__").apply(null,arguments);return(s.__class__||S.get_class(s))!==e||(o=O.type.__getattribute__(e,"__init__"))!==O.object.__init__&&(e=[s].concat(t),o.apply(null,e)),s},(f.__class__=f).__format__=function(t,e){return O.str.$factory(t)},f.__getattribute__=function(e,t){switch(t){case"__annotations__":for(var r=0,n=(_=[e].concat(e.__mro__)).length;r<n;r++)if(_[r].__dict__){var o=_[r].__dict__.$string_dict.__annotations__[0];if(o)if(void 0===u)u=o;else if(u.__class__===O.dict&&o.__class__===O.dict)for(var s in o.$string_dict)u.$string_dict[s]=o.$string_dict[s]}return u=void 0===u?S.empty_dict():u;case"__bases__":return(u=e.__bases__).__class__=O.tuple,u.length,u;case"__class__":return e.__class__;case"__doc__":return e.__doc__||O.None;case"__setattr__":var a;return a=void 0!==e.__setattr__?e.__setattr__:function(t,e,r){t[e]=r},d.$factory(t,e,a);case"__delattr__":return void 0!==e.__delattr__?e.__delattr__:d.$factory(t,e,function(t){delete e[t]})}var _,i;if(0,void 0===(u=e[t])&&e.__slots__&&-1<e.__slots__.indexOf(t))return h.$factory(t,e);if(e.__class__&&e.__class__[t]&&e.__class__[t].__get__&&e.__class__[t].__set__)return e.__class__[t].__get__(e);if(void 0===u){if(void 0===(l=e[t])){void 0===(_=e.__mro__)&&console.log("pas de mro pour",e);for(var l,r=0;r<_.length;r++)if(void 0!==(l=_[r][t])){u=l;break}}else u=l;if(void 0===u){var c=e.__class__||S.get_class(e);if(0,void 0===(u=c[t]))for(var u,f=c.__mro__,r=0;r<f.length;r++)if(void 0!==(u=f[r][t]))break;if(void 0!==u){if(0,u.__class__===O.property)return u.fget(e);if("function"==typeof u){var p=u.bind(null,e);return p.__class__=S.method,p.$infos={__self__:e,__func__:u,__name__:t,__qualname__:e.$infos.__name__+"."+t,__module__:u.$infos?u.$infos.__module__:""},p}}if(void 0===u){var $=c.__getattr__;if(void 0===$)for(r=0;r<f.length;r++)if(void 0!==f[r].__getattr__){$=f[r].__getattr__;break}if(void 0!==$)return $(e,t)}}}return void 0!==u?u.__class__===O.property?u:u.__get__?(u.__class__===m?(i=u.__get__(u.__func__,e)).$infos={__func__:u,__name__:u.$infos.__name__,__qualname__:e.$infos.__name__+"."+u.$infos.__name__,__self__:e}:i=u.__get__(e),i):!u.__class__||!u.__class__.__get__||t.startsWith("__")&&t.endsWith("__")?"function"==typeof u?(void 0===u.$infos&&1<S.debug&&console.log("warning: no attribute $infos for",u,"klass",e,"attr",t),"__new__"!=t&&u.__class__!==S.builtin_function||(u.$type="staticmethod"),"__class_getitem__"==t&&u.__class__!==S.method&&(u=O.classmethod.$factory(u)),(u="__init_subclass__"==t?O.classmethod.$factory(u):u).__class__===S.method?u.__get__(null,e):u):u:u.__class__.__get__(u,O.None,e):void 0},f.__hash__=function(t){return O.hash(t)},f.__init__=function(){if(0==arguments.length)throw O.TypeError.$factory("descriptor '__init__' of 'type' object needs an argument")},f.__init_subclass__=function(){var t=S.args("__init_subclass__",1,{},[],arguments,{},"args","kwargs");if(void 0!==t.kwargs&&(t.kwargs.__class__!==O.dict||0<Object.keys(t.kwargs.$string_dict).length))throw O.TypeError.$factory("__init_subclass__() takes no keyword arguments");return O.None},f.__instancecheck__=function(t,e){var r=e.__class__||S.get_class(e);if(r===t)return!0;for(var n=0;n<r.__mro__.length;n++)if(r.__mro__[n]===t)return!0;return!1},f.__instancecheck__.$type="staticmethod",f.__name__={__get__:function(t){return t.$infos.__name__},__set__:function(t,e){t.$infos.__name__=e},__str__:function(t){return"type"},__eq__:function(t,e){return t.$infos.__name__==e}},f.__new__=function(t,e,r,n,o){o=void 0===o?{$nat:"kw",kw:{}}:o;var s=n.$string_dict.__module__,a={__class__:t,__bases__:r,__dict__:n,$infos:{__name__:e,__module__:s=s?s[0]:S.last(S.frames_stack)[2],__qualname__:e},$is_class:!0,$has_setattr:n.$has_setattr};a.__mro__=f.mro(a).slice(1);for(var _=S.dict_to_list(n),i=0;i<_.length;i++){var l,c=_[i][0],u=_[i][1];"__module__"!==c&&void 0!==u&&(!(a[c]=u).__class__||(l=S.$getattr(u.__class__,"__set_name__",O.None))!==O.None&&l(u,a,c),"function"==typeof u&&(void 0===u.$infos?(console.log("type new",u,u+""),console.log(S.frames_stack.slice())):(u.$infos.$class=a,u.$infos.__qualname__=e+"."+u.$infos.__name__,u.$infos.$defaults&&(c=u.$infos.$defaults,S.Function.__setattr__(u,"__defaults__",c)))))}n=O.super.$factory(a,a);return O.super.__getattribute__(n,"__init_subclass__")(o),a},f.__or__=function(){var t=S.args("__or__",2,{cls:null,other:null},["cls","other"],arguments,{},null,null),e=t.cls,t=t.other;return O.isinstance(t,f)?S.UnionType.$factory([e,t]):O.NotImplemented},f.__prepare__=function(){return S.empty_dict()},f.__qualname__={__get__:function(t){return t.$infos.__qualname__||t.$infos.__name__},__set__:function(t,e){t.$infos.__qualname__=e},__str__:function(t){console.log("type.__qualname__")},__eq__:function(t,e){return t.$infos.__qualname__==e}},f.__repr__=function(t){S.builtins_repr_check(f,arguments),void 0===t.$infos&&console.log("no $infos",t);var e=t.$infos.__qualname__;return"<class '"+(e=t.$infos.__module__&&"builtins"!=t.$infos.__module__&&!t.$infos.__module__.startsWith("$")?t.$infos.__module__+"."+e:e)+"'>"},f.__ror__=function(){var t=arguments.length;if(1!=t)throw O.TypeError.$factory(`expected 1 argument, got ${t}`);return O.NotImplemented},f.mro=function(t){if(void 0===t)throw O.TypeError.$factory("unbound method type.mro() needs an argument");for(var e=t.__bases__,r=[],n=0,o=0;o<e.length;o++){e[o]===O.str&&(e[o]=S.StringSubclass);var s=[],a=0;if(void 0===e[o]||void 0===e[o].__mro__){if(void 0===e[o].__class__)return[O.object];throw O.TypeError.$factory("Object passed as base class is not a class")}s[a++]=e[o];var _=e[o].__mro__;_[0]===e[o]&&_.splice(0,1);for(var i=0;i<_.length;i++)s[a++]=_[i];r[n++]=s}r[n++]=e.slice();for(var l=[t],c=1;;){for(var u=[],a=0,o=0;o<r.length;o++)0<r[o].length&&(u[a++]=r[o]);if(0==u.length)break;for(o=0;o<u.length;o++){for(var f=u[o][0],p=[],a=0,$=0;$<u.length;$++){var d=u[$];-1<d.slice(1).indexOf(f)&&(p[a++]=d)}if(!(0<p.length))break;f=null}if(null===f)throw O.TypeError.$factory("inconsistent hierarchy, no C3 MRO is possible");l[c++]=f;for(o=0;o<r.length;o++)r[o][0]===f&&r[o].shift()}return l[l.length-1]!==O.object&&(l[c++]=O.object),l},f.__subclasscheck__=function(t,e){var r=t;return r===O.str?r=S.StringSubclass:r===O.float&&(r=S.FloatSubclass),void 0===e.__bases__?t===O.object:-1<e.__bases__.indexOf(r)},S.set_func_names(f,"builtins"),O.type=f;var t=S.make_class("wrapper_descriptor");S.set_func_names(t,"builtins"),f.__call__.__class__=t;S.$instance_creator=function(e){if(e.prototype&&e.prototype.constructor==e)return function(){return new e(...arguments)};if(void 0!==e.$instanciable)return function(){throw O.TypeError.$factory("Can't instantiate abstract class interface with abstract methods")};var t,r=e.__class__||S.get_class(e);return(r=r!==O.type||e.__bases__&&0!=e.__bases__.length?(t=O.type.__getattribute__(r,"__call__"),function(){return t.bind(null,e).apply(null,arguments)}):e.hasOwnProperty("__new__")?e.hasOwnProperty("__init__")?function(){var t=e.__new__.bind(null,e).apply(null,arguments);return e.__init__.bind(null,t).apply(null,arguments),t}:function(){return e.__new__.bind(null,e).apply(null,arguments)}:e.hasOwnProperty("__init__")?function(){var t={__class__:e,__dict__:S.empty_dict()};return e.__init__.bind(null,t).apply(null,arguments),t}:function(){if(0<arguments.length&&(1!=arguments.length||!arguments[0].$nat||0!=Object.keys(arguments[0].kw).length))throw O.TypeError.$factory("object() takes no parameters");var t=Object.create(null);return S.update_obj(t,{__class__:e,__dict__:S.empty_dict()}),t}).__class__=S.Function,r.$infos={__name__:e.$infos.__name__,__module__:e.$infos.__module__},r};var d=S.method_wrapper=S.make_class("method_wrapper",function(t,e,r){function n(){return r.apply(null,arguments)}return n.$infos={__name__:t,__module__:e.__module__},n});d.__str__=d.__repr__=function(t){return"<method '"+t.$infos.__name__+"' of function object>"};var h=S.make_class("member_descriptor",function(t,e){return{__class__:h,cls:e,attr:t}});h.__str__=h.__repr__=function(t){return"<member '"+t.attr+"' of '"+t.cls.$infos.__name__+"' objects>"},S.set_func_names(h,"builtins");var m=S.method=S.make_class("method",function(t,e){function r(){return S.$call(t).bind(null,e).apply(null,arguments)}return r.__class__=m,r.$infos=t.$infos,r});m.__eq__=function(t,e){return void 0!==t.$infos&&void 0!==e.$infos&&t.$infos.__func__===e.$infos.__func__&&t.$infos.__self__===e.$infos.__self__},m.__ne__=function(t,e){return!S.method.__eq__(t,e)},m.__get__=function(t){function e(){return t(arguments)}return e.__class__=S.method_wrapper,e.$infos=m.$infos,e},m.__getattribute__=function(t,e){var r=t.$infos;if(r&&r[e]){if("__code__"!=e)return r[e];var n={__class__:S.Code};for(e in r.__code__)n[e]=r.__code__[e];return n}return m.hasOwnProperty(e)?O.object.__getattribute__(t,e):S.Function.__getattribute__(t.$infos.__func__,e)},m.__repr__=m.__str__=function(t){return"<bound method "+t.$infos.__qualname__+" of "+O.str.$factory(t.$infos.__self__)+">"},m.__setattr__=function(t,e,r){if("__class__"==e)throw O.TypeError.$factory("__class__ assignment only supported for heap types or ModuleType subclasses");throw O.AttributeError.$factory("'method' object has no attribute '"+e+"'")},S.set_func_names(m,"builtins"),S.method_descriptor=S.make_class("method_descriptor"),S.classmethod_descriptor=S.make_class("classmethod_descriptor"),S.GenericAlias=S.make_class("GenericAlias",function(t,e){return{__class__:S.GenericAlias,origin_class:t,items:e}}),S.GenericAlias.__args__={__get__:function(t){return S.fast_tuple(t.items)}},S.GenericAlias.__call__=function(t,...e){return t.origin_class.$factory.apply(null,e)},S.GenericAlias.__eq__=function(t,e){return S.rich_comp("__eq__",t.origin_class,e.origin_class)&&S.rich_comp("__eq__",t.items,e.items)},S.GenericAlias.__getitem__=function(t,e){throw O.TypeError.$factory("descriptor '__getitem__' for '"+t.origin_class.$infos.__name__+"' objects doesn't apply to a '"+S.class_name(e)+"' object")},S.GenericAlias.__origin__={__get__:function(t){return t.origin_class}},S.GenericAlias.__parameters__={__get__:function(t){return S.fast_tuple([])}},S.GenericAlias.__repr__=function(t){for(var e=[],r=0,n=t.items.length;r<n;r++)t.items[r]===O.Ellipsis?e.push("..."):t.items[r].$is_class?e.push(t.items[r].$infos.__name__):e.push(O.repr(t.items[r]));return t.origin_class.$infos.__qualname__+"["+e.join(", ")+"]"},S.set_func_names(S.GenericAlias,"types"),S.UnionType=S.make_class("UnionType",function(t){return{__class__:S.UnionType,items:t}}),S.UnionType.__repr__=function(t){var e,r=[];for(e of t.items)e.$is_class?r.push(e.$infos.__name__):r.push(O.repr(e));return r.join(" | ")},S.set_func_names(S.UnionType,"types"),O.object.__class__=f}(__BRYTHON__),function($B){var _b_=$B.builtins,_window=self,isWebWorker="undefined"!=typeof WorkerGlobalScope&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator;function index_error(t){throw _b_.IndexError.$factory(("string"==typeof t?"string":"list")+" index out of range")}$B.args=function(t,e,r,n,o,s,a,_){t.startsWith("lambda_"+$B.lambda_magic)&&(t="<lambda>");var i,l,c=!1,u=o.length,f=0,p=n.indexOf("/");if(-1!=p&&(n.splice(p,1),l=n.slice(0,p)),0<u&&o[u-1]&&o[u-1].$nat&&(u--,0<Object.keys(o[u].kw).length)){var c=!0,$=o[u].kw;if(Array.isArray($)){for(var d=$[0],h=1,m=$.length;h<m;h++){var g=$[h];if(g.__class__===_b_.dict){for(var b in g.$numeric_dict)throw _b_.TypeError.$factory(t+"() keywords must be strings");for(var b in g.$object_dict)throw _b_.TypeError.$factory(t+"() keywords must be strings");for(var b in g.$string_dict){if(void 0!==d[b])throw _b_.TypeError.$factory(t+"() got multiple values for argument '"+b+"'");d[b]=g.$string_dict[b][0]}}else for(var y=_b_.iter(g),v=$B.$getattr(g,"__getitem__");;)try{if("string"!=typeof(b=_b_.next(y)))throw _b_.TypeError.$factory(t+"() keywords must be strings");if(void 0!==d[b])throw _b_.TypeError.$factory(t+"() got multiple values for argument '"+b+"'");d[b]=v(b)}catch(t){if($B.is_exc(t,[_b_.StopIteration]))break;throw t}}$=d}}if(a&&(r[a]=[],r[a].__class__=_b_.tuple),_&&(i=$B.empty_dict()),e<u){if(null===a||"*"==a)throw _b_.TypeError.$factory(E=t+"() takes "+e+" positional argument"+(1<e?"s":"")+" but more were given");for(h=e;h<u;h++)r[a].push(o[h]);u=e}for(h=0;h<u;h++)r[n[h]]=o[h],f++;if(f==e&&e===n.length&&!c)return _&&(r[_]=i),r;if(c)for(var x in $){var B=$[x];if(void 0===r[x]){if(!_)throw _b_.TypeError.$factory(t+"() got an unexpected keyword argument '"+x+"'");i.$string_dict[x]=[B,i.$order++]}else{if(null!==r[x])throw _b_.TypeError.$factory(t+"() got multiple values for argument '"+x+"'");if(l&&-1<l.indexOf(x))throw _b_.TypeError.$factory(t+"() got an unexpected keyword argument '"+x+"'");r[x]=B}}var w,k=[];for(w in r)null===r[w]&&(void 0!==s[w]?r[w]=s[w]:k.push("'"+w+"'"));if(0<k.length){if(1==k.length)throw _b_.TypeError.$factory(t+" missing 1 positional argument: "+k[0]);var E=t+" missing "+k.length+" positional arguments: ";throw E+=k.join(" and "),_b_.TypeError.$factory(E)}return _&&(r[_]=i),r},$B.wrong_nb_args=function(t,e,r,n){if(e<r){var o=r-e;throw _b_.TypeError.$factory(t+"() missing "+o+" positional argument"+(1<o?"s":"")+": "+n.slice(e))}throw _b_.TypeError.$factory(t+"() takes "+r+" positional argument"+(1<r?"s":"")+" but more were given")},$B.get_class=function(t){if(null===t)return $B.$NoneDict;if(void 0===t)return $B.UndefinedClass;var e=t.__class__;if(void 0===e)switch(typeof t){case"number":return t%1==0?_b_.int:_b_.float;case"string":return _b_.str;case"boolean":return _b_.bool;case"function":return t.$is_js_func?$B.JSObj:(t.__class__=$B.Function,$B.Function);case"object":if(Array.isArray(t)){if(Object.getPrototypeOf(t)===Array.prototype)return t.__class__=_b_.list,_b_.list}else{if(t.constructor===Number)return _b_.float;if("undefined"!=typeof Node&&t instanceof Node)return t.tagName&&$B.imported["browser.html"][t.tagName]||$B.DOMNode}}return void 0===e?$B.JSObj:e},$B.class_name=function(t){var e=$B.get_class(t);return e===$B.JSObj?"Javascript "+t.constructor.name:e.$infos.__name__},$B.$list_comp=function(t){for(var e=$B.UUID(),r="comp_result_"+$B.lambda_magic+e,n=r+" = []\n",o=0,s=1,a=t.length;s<a;s++){var _=t[s].replace(/\s+$/,"").replace(/\n/g,"");n+=" ".repeat(o)+_+":\n",o+=4}return n+=" ".repeat(o),[n+=r+".append("+t[0]+")\n",e]},$B.$dict_comp=function(t,e,r,n){for(var o=$B.UUID(),s="comp_result_"+$B.lambda_magic+o,a=s+" = {}\n",_=0,i=1,l=r.length;i<l;i++){var c=r[i].replace(/\s+$/,"").replace(/\n/g,"");a+="    ".repeat(_)+c+":\n",_++}a+="    ".repeat(_)+s+".update({"+r[0]+"})";o="dc"+o,e=$B.py2js({src:a,is_comp:"dictcomp",line_info:n+","+t},t,o,e,n),n=e.outermost_expr.to_js(),e=e.to_js(),e="(function(_expr){"+(e+="\nreturn "+s+"\n")+"})("+n+")";return $B.clear_ns(o),delete $B.$py_src[o],e},$B.$gen_expr=function(t,e,r,n,o){for(var s=$B.UUID(),a=(o?"set_comp"+$B.lambda_magic:"__ge")+s,_=`def ${a}(expr):\n`,i=1,l=1,c=r.length;l<c;l++){var u=r[l].replace(/\s+$/,"").replace(/\n/g,"");_+=" ".repeat(i)+u+":\n",i+=4}_+=" ".repeat(i),_+="yield ("+r[0]+")";o=$B.py2js({src:_,is_comp:o?"setcomp":"genexpr",line_info:n+","+t,ix:s},a,a,e,n),n=(s=o.to_js()).split("\n");void 0===o.outermost_expr&&console.log("no outermost",t,e);o=o.outermost_expr.to_js(),s=n.join("\n");return s="(function($locals_"+a+"){"+(s+="\nvar $res = $B.generator.$factory("+a+")("+o+");\nreturn $res\n")+"})($locals)\n"},$B.copy_namespace=function(){var t={};for(const r of $B.frames_stack)for(const n of[r[1],r[3]])for(var e in n)e.startsWith("$")||(t[e]=n[e]);return t},$B.clear_ns=function(t){t.startsWith("__ge")&&console.log("clear ns",t);t.length;$B.$py_src[t]=null,delete $B.$py_src[t];var e=t.replace(/\./g,"_");e!=t&&$B.clear_ns(e)},$B.$search=function(t,e){var r=$B.last($B.frames_stack);if(void 0!==r[1][t])return r[1][t];if(void 0!==r[3][t])return r[3][t];if(void 0!==_b_[t])return _b_[t];throw r[0]==r[2]||"class"==r[1].$type||r[1].$exec_locals?_b_.NameError.$factory("name '"+t+"' is not defined"):_b_.UnboundLocalError.$factory("local variable '"+t+"' referenced before assignment")},$B.$global_search=function(t,e){for(var r=0;r<$B.frames_stack.length;r++){var n=$B.frames_stack[r];if(-1<e.indexOf(n[0]))if(n[1].$is_not_dict)try{return $B.$getitem(n[1],t)}catch(t){if(!$B.is_exc(t,[_b_.KeyError]))throw t}else if(void 0!==n[1][t])return n[1][t];if(-1<e.indexOf(n[2])&&void 0!==n[3][t])return n[3][t]}for(r=0;r<e.length;r++){var o=e[r];if($B.imported[o]&&$B.imported[o][t])return $B.imported[o][t]}throw _b_.NameError.$factory("name '"+t+"' is not defined")},$B.$local_search=function(t){var e=$B.last($B.frames_stack);if(void 0!==e[1][t])return e[1][t];throw _b_.UnboundLocalError.$factory("local variable '"+t+"' referenced before assignment")},$B.get_method_class=function(t,e){for(var r=e.split("."),n=t;0<r.length;){var o=r.shift();if(void 0===n[o])return $B.make_class(e);n=n[o]}return n},$B.$check_def=function(t,e){if(void 0!==e)return e;if(void 0!==_b_[t])return _b_[t];e=$B.last($B.frames_stack);if(e[1].$is_not_dict)try{return $B.$getitem(e[1],t)}catch(t){if(!$B.is_exc(t,[_b_.KeyError]))throw t}else if(void 0!==e[1][t])return e[1][t];if(void 0!==e[3][t])return e[3][t];throw _b_.NameError.$factory("name '"+t+"' is not defined")},$B.$check_def_global=function(t,e){e=e[t];if(void 0===e)throw _b_.NameError.$factory("name '"+t+"' is not defined");return e},$B.$check_def_local=function(t,e){if(void 0!==e)return e;throw _b_.UnboundLocalError.$factory("local variable '"+t+"' referenced before assignment")},$B.$check_def_free=function(t,e){if(void 0!==e)return e;for(var r,n=$B.frames_stack.length-1;0<=n;n--){if(void 0!==(r=$B.frames_stack[n][1][t]))return r;if(void 0!==(r=$B.frames_stack[n][3][t]))return r}throw _b_.NameError.$factory("free variable '"+t+"' referenced before assignment in enclosing scope")},$B.$check_def_free1=function(t,e){for(var r=$B.frames_stack.length-1;0<=r;r--){var n,o=$B.frames_stack[r];if(void 0!==(n=o[1][t]))return n;if(o[1].$parent&&void 0!==(n=o[1].$parent[t]))return n;if(o[2]==e&&void 0!==(n=o[3][t]))return n}throw _b_.NameError.$factory("free variable '"+t+"' referenced before assignment in enclosing scope")},$B.$JS2Py=function(t){return"number"==typeof t?t%1==0?t:_b_.float.$factory(t):null==t?_b_.None:(Array.isArray(t)&&Object.getPrototypeOf(t)===Array.prototype&&(t.$brython_class="js"),t)},$B.list_key=function(t,e){(e=$B.$GetInt(e))<0&&(e+=t.length);e=t[e];if(void 0===e)throw _b_.IndexError.$factory("list index out of range");return e},$B.list_slice=function(t,e,r){return null===e?e=0:(e=$B.$GetInt(e))<0&&(e=Math.max(0,e+t.length)),null===r?t.slice(e):((r=$B.$GetInt(r))<0&&(r+=t.length),t.slice(e,r))},$B.list_slice_step=function(t,e,r,n){if(null===n||1==n)return $B.list_slice(t,e,r);if(0==n)throw _b_.ValueError.$factory("slice step cannot be zero");n=$B.$GetInt(n),null===e?e=0<=n?0:t.length-1:(e=$B.$GetInt(e))<0&&(e=Math.min(0,e+t.length)),null===r?r=0<=n?t.length:-1:(r=$B.$GetInt(r))<0&&(r=Math.max(0,r+t.length));var o=[];if(0<n)for(var s=e;s<r;s+=n)o.push(t[s]);else for(s=e;r<s;s+=n)o.push(t[s]);return o},$B.$getitem=function(t,e){var r=Array.isArray(t)&&t.__class__===_b_.list,n=t.__class__===_b_.dict&&!t.$jsobj;if("number"==typeof e){if(r||"string"==typeof t){if(void 0!==t[e=0<=e?e:t.length+e])return t[e];index_error(t)}else if(n&&void 0!==t.$numeric_dict[e])return t.$numeric_dict[e][0]}else if(e.valueOf&&"string"==typeof e.valueOf()&&n){var o=t.$string_dict[e];if(void 0!==o)return o[0];throw _b_.KeyError.$factory(e)}if(t.$is_class){o=$B.$getattr(t,"__class_getitem__",_b_.None);if(o!==_b_.None)return o(e);if(t.__class__){if((o=$B.$getattr(t.__class__,"__getitem__",_b_.None))!==_b_.None)return o(t,e);throw _b_.TypeError.$factory("'"+$B.class_name(t.__class__)+"' object is not subscriptable")}}if(r)return _b_.list.$getitem(t,e);if(n)return _b_.dict.$getitem(t,e);n=$B.$getattr(t.__class__||$B.get_class(t),"__getitem__",_b_.None);if(n!==_b_.None)return n(t,e);throw _b_.TypeError.$factory("'"+$B.class_name(t)+"' object is not subscriptable")},$B.getitem_slice=function(t,e){var r;return Array.isArray(t)&&t.__class__===_b_.list?(e.start===_b_.None&&e.stop===_b_.None?e.step===_b_.None||1==e.step?r=t.slice():-1==e.step&&(r=t.slice().reverse()):e.step===_b_.None&&(e.start===_b_.None&&(e.start=0),e.stop===_b_.None&&(e.stop=t.length),"number"==typeof e.start&&"number"==typeof e.stop&&(e.start<0&&(e.start+=t.length),e.stop<0&&(e.stop+=t.length),r=t.slice(e.start,e.stop))),r?(r.__class__=t.__class__,r):_b_.list.$getitem(t,e)):$B.$getattr(t,"__getitem__")(e)},$B.set_list_key=function(e,r,n){try{r=$B.$GetInt(r)}catch(t){if(_b_.isinstance(r,_b_.slice)){var o=_b_.slice.$conv_for_seq(r,e.length);return $B.set_list_slice_step(e,o.start,o.stop,o.step,n)}}if(r<0&&(r+=e.length),void 0===e[r])throw console.log(e,r),_b_.IndexError.$factory("list assignment index out of range");e[r]=n},$B.set_list_slice=function(t,e,r,n){null===e?e=0:(e=$B.$GetInt(e))<0&&(e=Math.max(0,e+t.length)),null===r&&(r=t.length),(r=$B.$GetInt(r))<0&&(r=Math.max(0,r+t.length));n=_b_.list.$factory(n);t.splice.apply(t,[e,r-e].concat(n))},$B.set_list_slice_step=function(t,e,r,n,o){if(null===n||1==n)return $B.set_list_slice(t,e,r,o);if(0==n)throw _b_.ValueError.$factory("slice step cannot be zero");n=$B.$GetInt(n),e=null===e?0<n?0:t.length-1:$B.$GetInt(e),r=null===r?0<n?t.length:-1:$B.$GetInt(r);for(var s=_b_.list.$factory(o),a=0,_=0,i=0<n?function(t){return t<r}:function(t){return r<t},l=e;i(l);l+=n)_++;if(_!=s.length)throw _b_.ValueError.$factory("attempt to assign sequence of size "+s.length+" to extended slice of size "+_);for(l=e;i(l);l+=n)t[l]=s[a],a++},$B.$setitem=function(t,e,r){if(!Array.isArray(t)||void 0!==t.__class__||"number"!=typeof e||_b_.isinstance(t,_b_.tuple)){if(t.__class__!==_b_.dict){if(t.__class__===_b_.list)return _b_.list.$setitem(t,e,r);var n=$B.$getattr(t.__class__||$B.get_class(t),"__setitem__",null);if(null===n)throw _b_.TypeError.$factory("'"+$B.class_name(t)+"' object does not support item assignment");return n(t,e,r)}_b_.dict.$setitem(t,e,r)}else{if(e<0&&(e+=t.length),void 0===t[e])throw _b_.IndexError.$factory("list assignment index out of range");t[e]=r}},$B.$delitem=function(t,e){if(!Array.isArray(t)||t.__class__!==_b_.list||"number"!=typeof e||_b_.isinstance(t,_b_.tuple)){if(t.__class__!==_b_.dict){if(t.__class__===_b_.list)return _b_.list.__delitem__(t,e);var r=$B.$getattr(t.__class__||$B.get_class(t),"__delitem__",null);if(null===r)throw _b_.TypeError.$factory("'"+$B.class_name(t)+"' object doesn't support item deletion");return r(t,e)}_b_.dict.__delitem__(t,e)}else{if(e<0&&(e+=t.length),void 0===t[e])throw _b_.IndexError.$factory("list deletion index out of range");t.splice(e,1)}},$B.delitem_slice=function(t,e){if(Array.isArray(t)&&t.__class__===_b_.list)if(e.start===_b_.None&&e.stop===_b_.None){if(e.step===_b_.None||1==e.step||-1==e.step){for(;0<t.length;)t.pop();return _b_.None}}else if(e.step===_b_.None&&(e.start===_b_.None&&(e.start=0),e.stop===_b_.None&&(e.stop=t.length),"number"==typeof e.start&&"number"==typeof e.stop))return e.start<0&&(e.start+=t.length),e.stop<0&&(e.stop+=t.length),t.splice(e.start,e.stop-e.start),_b_.None;var r=$B.$getattr(t.__class__||$B.get_class(t),"__delitem__",null);if(null===r)throw _b_.TypeError.$factory("'"+$B.class_name(t)+"' object doesn't support item deletion");return r(t,e)},$B.augm_item_add=function(e,r,n){if(Array.isArray(e)&&"number"==typeof r&&void 0!==e[r]){if(Array.isArray(e[r])&&Array.isArray(n)){for(var t=0,o=n.length;t<o;t++)e[r].push(n[t]);return}if("string"==typeof e[r]&&"string"==typeof n)return void(e[r]+=n);if("number"==typeof e[r]&&"number"==typeof n)return void(e[r]+=n)}var s=$B.$getattr;try{var a=s(s(e,"__getitem__")(r),"__iadd__")}catch(t){return void s(e,"__setitem__")(r,$B.add(s(e,"__getitem__")(r),n))}a(n)};for(var augm_item_src=""+$B.augm_item_add,augm_ops=[["-=","sub"],["*=","mul"]],i=0,len=augm_ops.length;i<len;i++){var augm_code=augm_item_src.replace(/add/g,augm_ops[i][1]),augm_code=augm_code.replace(/\+=/g,augm_ops[i][0]);eval("$B.augm_item_"+augm_ops[i][1]+"="+augm_code)}$B.extend=function(t,e){for(var r=2;r<arguments.length;r++)for(var n=arguments[r],o=_b_.iter(n),s=$B.$getattr(n,"__getitem__");;)try{var a=_b_.next(o);if("string"!=typeof a)throw _b_.TypeError.$factory(t+"() keywords must be strings");if(void 0!==e[a])throw _b_.TypeError.$factory(t+"() got multiple values for argument '"+a+"'");e[a]=s(a)}catch(t){if(_b_.isinstance(t,[_b_.StopIteration]))break;throw t}return e},$B.extend_list=function(){for(var t=Array.prototype.slice.call(arguments,0,arguments.length-1),e=$B.last(arguments),r=_b_.iter(e);;)try{t.push(_b_.next(r))}catch(t){if(_b_.isinstance(t,[_b_.StopIteration]))break;throw t}return t},$B.$test_item=function(t){return $B.$test_result=t,_b_.bool.$factory(t)},$B.$test_expr=function(){return $B.$test_result},$B.$is=function(t,e){return t instanceof Number&&e instanceof Number?t.valueOf()==e.valueOf():t===_b_.int&&e==$B.long_int||t===$B.long_int&&e===_b_.int||t===e},$B.conv_undef=function(t){var e,r={};for(e in t)r[e]=void 0===t[e]?$B.Undefined:t[e];return r},$B.$is_member=function(t,e){var r,n,o;try{o=$B.$getattr(e.__class__||$B.get_class(e),"__contains__")}catch(t){}if(o)return $B.$call(o)(e,t);try{n=_b_.iter(e)}catch(t){}if(n)for(;;)try{var s=_b_.next(n);if($B.rich_comp("__eq__",s,t))return!0}catch(t){return!1}try{r=$B.$getattr(e,"__getitem__")}catch(t){throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object is not iterable")}if(r)for(var a=-1;;){a++;try{s=r(a);if($B.rich_comp("__eq__",s,t))return!0}catch(t){if(t.__class__===_b_.IndexError)return!1;throw t}}},$B.$call=function(e){if(e.__class__===$B.method)return e;if(e.$factory)return e.$factory;if(e.$is_class)return e.$factory=$B.$instance_creator(e);if(e.$is_js_class)return e.$factory=function(){return new e(...arguments)};if(e.$in_js_module)return function(){var t=e(...arguments);return void 0===t?_b_.None:t};if(e.$is_func||"function"==typeof e)return e;try{return $B.$getattr(e,"__call__")}catch(t){throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object is not callable")}};var $io=$B.make_class("io",function(t){return{__class__:$io,out:t}});function $err(t,e,r){r="unsupported operand type(s) for "+t+" : '"+e.$infos.__name__+"' and '"+$B.class_name(r)+"'";throw _b_.TypeError.$factory(r)}$io.flush=function(t){console[t.out].apply(null,t.buf),t.buf=[]},$io.write=function(t,e){if(void 0===t.buf&&(t.buf=[]),"string"!=typeof e)throw _b_.TypeError.$factory("write() argument must be str, not "+$B.class_name(e));return t.buf.push(e),_b_.None},void 0!==console.error?$B.stderr=$io.$factory("error"):$B.stderr=$io.$factory("log"),$B.stdout=$io.$factory("log"),$B.stdin={__class__:$io,__original__:!0,closed:!1,len:1,pos:0,read:function(){return""},readline:function(){return""}},$B.make_iterator_class=function(t){var e={__class__:_b_.type,__mro__:[_b_.object],$factory:function(t){return{__class__:e,__dict__:$B.empty_dict(),counter:-1,items:t,len:t.length}},$infos:{__name__:t},$is_class:!0,__iter__:function(t){return t.counter=void 0===t.counter?-1:t.counter,t.len=t.items.length,t},__len__:function(t){return t.items.length},__next__:function(t){if("function"==typeof t.test_change&&t.test_change())throw _b_.RuntimeError.$factory("dictionary changed size during iteration");if(t.counter++,t.counter<t.items.length){var e=t.items[t.counter];return e="js"==t.items.$brython_class?$B.$JS2Py(e):e}throw _b_.StopIteration.$factory("StopIteration")},__reduce_ex__:function(t,e){return $B.fast_tuple([_b_.iter,_b_.tuple.$factory([t.items])])}};return $B.set_func_names(e,"builtins"),e};var r_opnames=["add","sub","mul","truediv","floordiv","mod","pow","lshift","rshift","and","xor","or"],ropsigns=["+","-","*","/","//","%","**","<<",">>","&","^","|"];function exit_ctx_managers_in_generators(t){for(key in t[1])t[1][key]&&t[1][key].__class__==$B.generator&&t[1][key].js_gen.return()}$B.make_rmethods=function(n){for(var t of r_opnames)void 0===n["__r"+t+"__"]&&n["__"+t+"__"]&&(n["__r"+t+"__"]=function(r){return function(t,e){return n["__"+r+"__"](e,t)}}(t))},$B.UUID=function(){return $B.$py_UUID++},$B.$GetInt=function(t){if("number"==typeof t||t.constructor===Number)return t;if("boolean"==typeof t)return t?1:0;if(_b_.isinstance(t,_b_.int))return t;if(_b_.isinstance(t,_b_.float))return t.valueOf();if(!t.$is_class){try{return $B.$getattr(t,"__int__")()}catch(t){}try{return $B.$getattr(t,"__index__")()}catch(t){}}throw _b_.TypeError.$factory("'"+$B.class_name(t)+"' object cannot be interpreted as an integer")},$B.to_num=function(t,e){for(var r={__complex__:_b_.complex,__float__:_b_.float,__index__:_b_.int,__int__:_b_.int},n=t.__class__||$B.get_class(t),o=0;o<e.length;o++){var s={},a=$B.$getattr(n,e[o],s);if(a!==s){a=a(t);if(!_b_.isinstance(a,r[e[o]]))throw console.log(a,e[o],r[e[o]]),_b_.TypeError.$factory(e[o]+"returned non-"+r[e[o]].$infos.__name__+"(type "+$B.get_class(a)+")");return a}}return null},$B.PyNumber_Index=function(t){switch(typeof t){case"boolean":return t?1:0;case"number":return t;case"object":if(t.__class__===$B.long_int)return t;if(_b_.isinstance(t,_b_.int))return t.$brython_value;var e=$B.$getattr(t,"__index__",_b_.None);if(e!==_b_.None)return e="function"==typeof e?e:$B.$getattr(e,"__call__"),$B.int_or_bool(e());throw _b_.TypeError.$factory("'"+$B.class_name(t)+"' object cannot be interpreted as an integer");default:throw _b_.TypeError.$factory("'"+$B.class_name(t)+"' object cannot be interpreted as an integer")}},$B.int_or_bool=function(t){switch(typeof t){case"boolean":return t?1:0;case"number":return t;case"object":if(t.__class__===$B.long_int)return t;throw _b_.TypeError.$factory("'"+$B.class_name(t)+"' object cannot be interpreted as an integer");default:throw _b_.TypeError.$factory("'"+$B.class_name(t)+"' object cannot be interpreted as an integer")}},$B.enter_frame=function(t){if($B.frames_stack.push(t),$B.tracefunc&&$B.tracefunc!==_b_.None){if(t[4]===$B.tracefunc||$B.tracefunc.$infos&&t[4]&&t[4]===$B.tracefunc.$infos.__func__)return $B.tracefunc.$frame_id=t[0],_b_.None;for(var e=$B.frames_stack.length-1;0<=e;e--)if($B.frames_stack[e][0]==$B.tracefunc.$frame_id)return _b_.None;try{return $B.tracefunc($B._frame.$factory($B.frames_stack,$B.frames_stack.length-1),"call",_b_.None)}catch(t){throw t.$in_trace_func=!0,t}}return _b_.None},$B.trace_exception=function(){var t=$B.last($B.frames_stack);if(t[0]==$B.tracefunc.$current_frame_id)return _b_.None;var e=t[1].$f_trace,t=t[1].$current_exception;return e($B._frame.$factory($B.frames_stack,$B.frames_stack.length-1),"exception",$B.fast_tuple([t.__class__,t,$B.traceback.$factory(t)]))},$B.trace_line=function(){var t=$B.last($B.frames_stack);return t[0]==$B.tracefunc.$current_frame_id?_b_.None:(0,t[1].$f_trace)($B._frame.$factory($B.frames_stack,$B.frames_stack.length-1),"line",_b_.None)},$B.set_line=function(t){var e=$B.last($B.frames_stack);if($B.tracefunc&&e[0]==$B.tracefunc.$current_frame_id)return _b_.None;e[1].$line_info=t;var r=e[1].$f_trace;return r!==_b_.None&&(t=$B._frame.$factory($B.frames_stack,$B.frames_stack.length-1),e[1].$ftrace=r(t,"line",_b_.None)),!0},$B.trace_return=function(t){var e=$B.last($B.frames_stack),r=e[1].$f_trace,n=$B._frame.$factory($B.frames_stack,$B.frames_stack.length-1);if(e[0]==$B.tracefunc.$current_frame_id)return _b_.None;r(n,"return",t)},$B.set_cm_in_generator=function(e){void 0!==e&&$B.frames_stack.forEach(function(t){t[1].$cm_in_gen=t[1].$cm_in_gen||new Set,t[1].$cm_in_gen.add(e)})},$B.leave_frame=function(t){if(0!=$B.frames_stack.length){t&&void 0!==t.value&&$B.tracefunc&&(void 0===$B.last($B.frames_stack)[1].$f_trace&&($B.last($B.frames_stack)[1].$f_trace=$B.tracefunc),$B.last($B.frames_stack)[1].$f_trace!==_b_.None&&$B.trace_return(t.value));var e=$B.frames_stack.pop();if(e[1].$current_exception=void 0,e[1].$close_generators)for(var r=0,n=e[1].$close_generators.length;r<n;r++){var o=e[1].$close_generators[r];o.$has_run&&o.return()}return _b_.None}console.log("empty stack")},$B.leave_frame_exec=function(t){if(0<$B.profile&&$B.$profile.return(),0!=$B.frames_stack.length){var e=$B.frames_stack.pop();exit_ctx_managers_in_generators(e);for(var r=$B.frames_stack.length-1;0<=r;r--)$B.frames_stack[r][2]==e[2]&&($B.frames_stack[r][3]=e[3])}else console.log("empty stack")};var min_int=Math.pow(-2,53),max_int=Math.pow(2,53)-1;$B.is_safe_int=function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(e<min_int||max_int<e)return!1}return!0},$B.add=function(e,r){if(e.valueOf&&"number"==typeof e.valueOf()&&r.valueOf&&"number"==typeof r.valueOf()){if("number"!=typeof e||"number"!=typeof r)return new Number(e+r);var t=e+r;return t<$B.max_int&&t>$B.min_int?t:t===1/0?_b_.float.$factory("inf"):t===-1/0?_b_.float.$factory("-inf"):isNaN(t)?_b_.float.$factory("nan"):$B.long_int.__add__($B.long_int.$factory(e),$B.long_int.$factory(r))}if("string"==typeof e&&"string"==typeof r)return e+r;try{var n=$B.$getattr(e.__class__||$B.get_class(e),"__add__")}catch(t){if(t.__class__===_b_.AttributeError)throw _b_.TypeError.$factory("unsupported operand type(s) for +: '"+$B.class_name(e)+"' and '"+$B.class_name(r)+"'");throw t}n=$B.$call(n)(e,r);return n===_b_.NotImplemented?$B.rich_op("add",e,r):n},$B.div=function(t,e){var r=t/e;return min_int<t&&t<max_int&&min_int<e&&e<max_int&&min_int<r&&r<max_int?r:$B.long_int.__truediv__($B.long_int.$factory(t),$B.long_int.$factory(e))},$B.eq=function(t,e){return min_int<t&&t<max_int&&min_int<e&&e<max_int?t==e:$B.long_int.__eq__($B.long_int.$factory(t),$B.long_int.$factory(e))},$B.floordiv=function(t,e){var r=t/e;return min_int<t&&t<max_int&&min_int<e&&e<max_int&&min_int<r&&r<max_int?Math.floor(r):$B.long_int.__floordiv__($B.long_int.$factory(t),$B.long_int.$factory(e))},$B.mul=function(t,e){var r="number"!=typeof t||"number"!=typeof e?new Number(t*e):t*e;if(min_int<t&&t<max_int&&min_int<e&&e<max_int&&min_int<r&&r<max_int)return r;if("number"!=typeof t&&t.__class__!==$B.long_int||"number"!=typeof e&&e.__class__!==$B.long_int)return r;if("number"==typeof t&&isNaN(t)||"number"==typeof e&&isNaN(e))return _b_.float.$factory("nan");switch(t){case 1/0:case-1/0:return 0==e?_b_.float.$factory("nan"):0<e?t:-t}return $B.long_int.__mul__($B.long_int.$factory(t),$B.long_int.$factory(e))},$B.sub=function(t,e){if(t instanceof Number&&e instanceof Number)return t-e;var r="number"!=typeof t||"number"!=typeof e?new Number(t-e):t-e;if(min_int<t&&t<max_int&&min_int<e&&e<max_int&&min_int<r&&r<max_int)return r;if("number"!=typeof t&&t.__class__!==$B.long_int||"number"!=typeof e&&e.__class__!==$B.long_int)return r;if("number"==typeof t&&"number"==typeof e){if(isNaN(t)||isNaN(e))return _b_.float.$factory("nan");if(t===1/0||t===-1/0)return e===t?_b_.float.$factory("nan"):t;if(e===1/0||e===-1/0)return e===t?_b_.float.$factory("nan"):-e}return"number"==typeof t&&isNaN(t)||"number"==typeof e&&isNaN(e)?_b_.float.$factory("nan"):$B.long_int.__sub__($B.long_int.$factory(t),$B.long_int.$factory(e))},$B.ge=function(t,e){return"number"==typeof t&&"number"==typeof e?e<=t:"number"==typeof t&&"number"!=typeof e?!e.pos:"number"!=typeof t&&"number"==typeof e?!0===t.pos:$B.long_int.__ge__(t,e)},$B.gt=function(t,e){return"number"==typeof t&&"number"==typeof e?e<t:"number"==typeof t&&"number"!=typeof e?!e.pos:"number"!=typeof t&&"number"==typeof e?!0===t.pos:$B.long_int.__gt__(t,e)};var reversed_op={__lt__:"__gt__",__le__:"__ge__",__gt__:"__lt__",__ge__:"__le__"},method2comp={__lt__:"<",__le__:"<=",__gt__:">",__ge__:">="};$B.rich_comp=function(t,e,r){if(void 0===e)throw _b_.RuntimeError.$factory("error in rich comp");var n=e.valueOf?e.valueOf():e,o=r.valueOf?r.valueOf():r;if("number"==typeof n&&"number"==typeof o&&void 0===e.__class__&&void 0===r.__class__)switch(t){case"__eq__":return n==o;case"__ne__":return n!=o;case"__le__":return n<=o;case"__lt__":return n<o;case"__ge__":return o<=n;case"__gt__":return o<n}if(e.$is_class||e.$factory){if("__eq__"==t)return e===r;if("__ne__"==t)return!(e===r);throw _b_.TypeError.$factory("'"+method2comp[t]+"' not supported between instances of '"+$B.class_name(e)+"' and '"+$B.class_name(r)+"'")}var s=$B.$call($B.$getattr(e.__class__||$B.get_class(e),t)),a=reversed_op[t]||t;if(e.__class__&&r.__class__&&-1<r.__class__.__mro__.indexOf(e.__class__)){var _;$B.$getattr(r,a);if((_=$B.$call($B.$getattr(r,a))(e))!==_b_.NotImplemented)return _}if((_=s(e,r))!==_b_.NotImplemented)return _;if((_=$B.$call($B.$getattr(r.__class__||$B.get_class(r),a))(r,e))!==_b_.NotImplemented)return _;if("__eq__"==t)return _b_.False;if("__ne__"==t)return _b_.True;throw _b_.TypeError.$factory("'"+method2comp[t]+"' not supported between instances of '"+$B.class_name(e)+"' and '"+$B.class_name(r)+"'")};var opname2opsign={sub:"-",xor:"^",mul:"*"};$B.rich_op=function(e,r,n){var o,t=r.__class__||$B.get_class(r),s=n.__class__||$B.get_class(n),a="__"+e+"__";if(t===s){if(t===_b_.int)return _b_.int[a](r,n);if(t===_b_.bool)return(_b_.bool[a]||_b_.int[a])(r,n);try{_=$B.$call($B.$getattr(t,"__"+e+"__"))}catch(t){if(t.__class__!==_b_.AttributeError)throw t;a=$B.class_name(r);throw _b_.TypeError.$factory("unsupported operand type(s) for "+opname2opsign[e]+" : '"+a+"' and '"+a+"'")}return _(r,n)}if(_b_.issubclass(s,t)){t=$B.$getattr(t,"__r"+e+"__"),s=$B.$getattr(s,"__r"+e+"__");if(s!==t)return s(n,r)}try{_=$B.$call($B.$getattr(r,"__"+e+"__"))}catch(t){if(t.__class__!==_b_.AttributeError)throw t;if((o=$B.$call($B.$getattr(n,"__r"+e+"__"))(r))!==_b_.NotImplemented)return o;throw _b_.TypeError.$factory("'"+(opname2opsign[e]||e)+"' not supported between instances of '"+$B.class_name(r)+"' and '"+$B.class_name(n)+"'")}if((o=_(n))!==_b_.NotImplemented)return o;var _=$B.$getattr(n,"__r"+e+"__",null);if(null!==_&&(o=$B.$call(_)(r))!==_b_.NotImplemented)return o;throw _b_.TypeError.$factory("'"+(opname2opsign[e]||e)+"' not supported between instances of '"+$B.class_name(r)+"' and '"+$B.class_name(n)+"'")},$B.is_none=function(t){return null==t||t==_b_.None};var repr_stack=new Set;$B.repr={enter:function(t){if(repr_stack.has(t))return!0;repr_stack.add(t)},leave:function(t){repr_stack.delete(t)}}}(__BRYTHON__),function(t){var l=32,n=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function o(t){return t<1e5?t<100?t<10?0:1:t<1e4?t<1e3?2:3:4:t<1e7?t<1e6?5:6:t<1e9?t<1e8?7:8:9}function c(t,e){if(t===e)return 0;if(~~t===t&&~~e===e){if(0===t||0===e)return t<e?-1:1;if(t<0||e<0){if(0<=e)return-1;if(0<=t)return 1;t=-t,e=-e}al=o(t),bl=o(e);var r=0;return al<bl?(t*=n[bl-al-1],e/=10,r=-1):al>bl&&(e*=n[al-bl-1],t/=10,r=1),t===e?r:t<e?-1:1}t=String(t),e=String(e);return t===e?0:t<e?-1:1}function u(t,e,r,n){var o=e+1;if(o===r)return 1;if(n(t[o++],t[e])<0){for(;o<r&&n(t[o],t[o-1])<0;)o++;!function(t,e,r){r--;for(;e<r;){var n=t[e];t[e++]=t[r],t[r--]=n}}(t,e,o)}else for(;o<r&&0<=n(t[o],t[o-1]);)o++;return o-e}function f(t,e,r,n,o){for(n===e&&n++;n<r;n++){for(var s=t[n],a=e,_=n;a<_;){var i=a+_>>>1;o(s,t[i])<0?_=i:a=1+i}var l=n-a;switch(l){case 3:t[a+3]=t[a+2];case 2:t[a+2]=t[a+1];case 1:t[a+1]=t[a];break;default:for(;0<l;)t[a+l]=t[a+l-1],l--}t[a]=s}}function m(t,e,r,n,o,s){var a=0,_=0,i=1;if(0<s(t,e[r+o])){for(_=n-o;i<_&&0<s(t,e[r+o+i]);)(i=1+((a=i)<<1))<=0&&(i=_);_<i&&(i=_),a+=o,i+=o}else{for(_=o+1;i<_&&s(t,e[r+o-i])<=0;)(i=1+((a=i)<<1))<=0&&(i=_);n=a,a=o-(i=_<i?_:i),i=o-n}for(a++;a<i;){var l=a+(i-a>>>1);0<s(t,e[r+l])?a=l+1:i=l}return i}function g(t,e,r,n,o,s){var a=0,_=0,i=1;if(s(t,e[r+o])<0){for(_=o+1;i<_&&s(t,e[r+o-i])<0;)(i=1+((a=i)<<1))<=0&&(i=_);var l=a,a=o-(i=_<i?_:i),i=o-l}else{for(_=n-o;i<_&&0<=s(t,e[r+o+i]);)(i=1+((a=i)<<1))<=0&&(i=_);_<i&&(i=_),a+=o,i+=o}for(a++;a<i;){var c=a+(i-a>>>1);s(t,e[r+c])<0?i=c:a=c+1}return i}function b(t){this.name=s,this.message=t}var s="TimSortAssertion",p=function(t,e){t={array:t,compare:e,minGallop:7,length:t.length,tmpStorageLength:256,stackLength:0,runStart:null,runLength:null,stackSize:0,pushRun:function(t,e){this.runStart[this.stackSize]=t,this.runLength[this.stackSize]=e,this.stackSize+=1},mergeRuns:function(){for(;1<this.stackSize;){var t=this.stackSize-2;if(1<=t&&this.runLength[t-1]<=this.runLength[t]+this.runLength[t+1]||2<=t&&this.runLength[t-2]<=this.runLength[t]+this.runLength[t-1])this.runLength[t-1]<this.runLength[t+1]&&t--;else if(this.runLength[t]>this.runLength[t+1])break;this.mergeAt(t)}},forceMergeRuns:function(){for(;1<this.stackSize;){var t=this.stackSize-2;0<t&&this.runLength[t-1]<this.runLength[t+1]&&t--,this.mergeAt(t)}},mergeAt:function(t){var e=this.compare,r=this.array,n=this.runStart[t],o=this.runLength[t],s=this.runStart[t+1],a=this.runLength[t+1];this.runLength[t]=o+a,t===this.stackSize-3&&(this.runStart[t+1]=this.runStart[t+2],this.runLength[t+1]=this.runLength[t+2]),this.stackSize--;t=g(r[s],r,n,o,0,e);n+=t,0!=(o-=t)&&0!==(a=m(r[n+o-1],r,s,a,a-1,e))&&(o<=a?this.mergeLow(n,o,s,a):this.mergeHigh(n,o,s,a))},mergeLow:function(t,e,r,n){for(var o=this.compare,s=this.array,a=this.tmp,_=0,_=0;_<e;_++)a[_]=s[t+_];var i=0,l=r,c=t;if(s[c++]=s[l++],0!=--n)if(1!==e){for(var u=this.minGallop;;){var f=0,p=0,$=!1;do{if(o(s[l],a[i])<0){if(s[c++]=s[l++],p++,(f=0)==--n){$=!0;break}}else if(s[c++]=a[i++],f++,p=0,1==--e){$=!0;break}}while((f|p)<u);if($)break;do{if(0!==(f=g(s[l],a,i,e,0,o))){for(_=0;_<f;_++)s[c+_]=a[i+_];if(c+=f,i+=f,(e-=f)<=1){$=!0;break}}if(s[c++]=s[l++],0==--n){$=!0;break}if(0!==(p=m(a[i],s,l,n,0,o))){for(_=0;_<p;_++)s[c+_]=s[l+_];if(c+=p,l+=p,0===(n-=p)){$=!0;break}}if(s[c++]=a[i++],1==--e){$=!0;break}}while(u--,7<=f||7<=p);if($)break;u<0&&(u=0),u+=2}if((this.minGallop=u)<1&&(this.minGallop=1),1===e){for(_=0;_<n;_++)s[c+_]=s[l+_];s[c+n]=a[i]}else{if(0===e)throw new b("mergeLow preconditions were not respected");for(_=0;_<e;_++)s[c+_]=a[i+_]}}else{for(var _=0;_<n;_++)s[c+_]=s[l+_];s[c+n]=a[i]}else for(var _=0;_<e;_++)s[c+_]=a[i+_]},mergeHigh:function(t,e,r,n){for(var o=this.compare,s=this.array,a=this.tmp,_=0,_=0;_<n;_++)a[_]=s[r+_];var i=t+e-1,l=n-1,c=r+n-1,u=0,f=0;if(s[c--]=s[i--],0!=--e)if(1!==n){for(var p=this.minGallop;;){var $=0,d=0,h=!1;do{if(o(a[l],s[i])<0){if(s[c--]=s[i--],$++,(d=0)==--e){h=!0;break}}else if(s[c--]=a[l--],d++,$=0,1==--n){h=!0;break}}while(($|d)<p);if(h)break;do{if(0!==($=e-g(a[l],s,t,e,e-1,o))){e-=$,f=(c-=$)+1,u=(i-=$)+1;for(_=$-1;0<=_;_--)s[f+_]=s[u+_];if(0===e){h=!0;break}}if(s[c--]=a[l--],1==--n){h=!0;break}if(0!==(d=n-m(s[i],a,0,n,n-1,o))){n-=d,f=(c-=d)+1,u=(l-=d)+1;for(_=0;_<d;_++)s[f+_]=a[u+_];if(n<=1){h=!0;break}}if(s[c--]=s[i--],0==--e){h=!0;break}}while(p--,7<=$||7<=d);if(h)break;p<0&&(p=0),p+=2}if((this.minGallop=p)<1&&(this.minGallop=1),1===n){f=(c-=e)+1,u=(i-=e)+1;for(_=e-1;0<=_;_--)s[f+_]=s[u+_];s[c]=a[l]}else{if(0==n)throw new b("mergeHigh preconditions were not respected");u=c-(n-1);for(_=0;_<n;_++)s[u+_]=a[_]}}else{f=(c-=e)+1,u=(i-=e)+1;for(var _=e-1;0<=_;_--)s[f+_]=s[u+_];s[c]=a[l]}else for(var u=c-(n-1),_=0;_<n;_++)s[u+_]=a[_]}};return t.length<512&&(t.tmpStorageLength=t.length>>>1),t.tmp=new Array(t.tmpStorageLength),t.stackLength=t.length<120?5:t.length<1542?10:t.length<119151?19:40,t.runStart=new Array(t.stackLength),t.runLength=new Array(t.stackLength),t};function a(t,e,r,n){if(!Array.isArray(t))throw _b_.TypeError.$factory("Can only sort arrays");e?"function"!=typeof e&&(n=r,r=e,e=c):e=c;var o=(n=n||t.length)-(r=r||0);if(!(o<2)){var s=0;if(o<l)f(t,r,n,r+(s=u(t,r,n,e)),e);else{var a,_=new p(t,e),i=function(t){for(var e=0;l<=t;)e|=1&t,t>>=1;return t+e}(o);do{}while((s=u(t,r,n,e))<i&&(f(t,r,r+(a=i<(a=o)?i:o),r+s,e),s=a),_.pushRun(r,s),_.mergeRuns(),r+=s,0!==(o-=s));_.forceMergeRuns()}}}t.$TimSort=function(e,r){try{a(e,r,0,e.length)}catch(t){if(t.name!=s)throw t;e.sort(r)}},t.$AlphabeticalCompare=c}(__BRYTHON__),function($B){var _b_=$B.builtins;_b_.__debug__=!1,$B.$comps={">":"gt",">=":"ge","<":"lt","<=":"le"},$B.$inv_comps={">":"lt",">=":"le","<":"gt","<=":"ge"};var check_nb_args=$B.check_nb_args=function(t,e,r){var n=r.length,r=r[n-1];if(r&&"kw"==r.$nat&&(r=r.kw,Array.isArray(r)&&r[1]&&r[1].__class__===_b_.dict&&0==Object.keys(r[1].$string_dict).length&&n--),n!=e)throw 0==e?_b_.TypeError.$factory(t+"() takes no argument ("+n+" given)"):_b_.TypeError.$factory(t+"() takes exactly "+e+" argument"+(e<2?"":"s")+" ("+n+" given)")},check_no_kw=$B.check_no_kw=function(t,e,r){if(void 0===e&&console.log("x undef",t,e,r),e.$nat&&e.kw&&e.kw[0]&&0<e.kw[0].length||void 0!==r&&r.$nat)throw _b_.TypeError.$factory(t+"() takes no keyword arguments")},NoneType={$factory:function(){return None},$infos:{__name__:"NoneType",__module__:"builtins"},__bool__:function(t){return False},__class__:_b_.type,__hash__:function(t){return 0},__mro__:[_b_.object],__repr__:function(t){return"None"},__str__:function(t){return"None"},$is_class:!0,__setattr__:function(t,e){return no_set_attr(NoneType,e)}},None={__class__:NoneType},$op,$func;for($op in $B.$comps){var key=$B.$comps[$op];switch(key){case"ge":case"gt":case"le":case"lt":NoneType["__"+key+"__"]=function(t){return _b_.NotImplemented}}}for($func in None)"function"==typeof None[$func]&&(None[$func].__str__=function(t){return function(){return"<method-wrapper "+t+" of NoneType object>"}}($func));function abs(e){if(check_nb_args("abs",1,arguments),check_no_kw("abs",e),isinstance(e,_b_.int))return e.__class__===$B.long_int?($B.long_int,e.value,1):_b_.int.$factory(Math.abs(e));if(isinstance(e,_b_.float))return _b_.float.$factory(Math.abs(_b_.float.numerator(e)));var t=e.__class__||$B.get_class(e);try{var r=$B.$getattr(t,"__abs__")}catch(t){if(t.__class__===_b_.AttributeError)throw _b_.TypeError.$factory("Bad operand type for abs(): '"+$B.class_name(e)+"'");throw t}return $B.$call(r)(e)}function all(t){check_nb_args("all",1,arguments),check_no_kw("all",t);for(var e=iter(t);;)try{var r=next(e);if(!$B.$bool(r))return}catch(t){return 1}}function any(t){check_nb_args("any",1,arguments),check_no_kw("any",t);for(var e=iter(t);;)try{var r=next(e);if($B.$bool(r))return 1}catch(t){return}}function ascii(t){check_nb_args("ascii",1,arguments),check_no_kw("ascii",t);for(var e,r=repr(t),n="",o=0;o<r.length;o++)n+=(e=r.charCodeAt(o))<128?r.charAt(o):e<256?"\\x"+e.toString(16):"\\u"+(e=(e=e.toString(16)).length%2==1?"0"+e:e);return n}function $builtin_base_convert_helper(t,e){var r="";switch(e){case 2:r="0b";break;case 8:r="0o";break;case 16:r="0x";break;default:console.log("invalid base:"+e)}if(t.__class__===$B.long_int){var n=r+$B.long_int.to_base(t,e);return n=!t.pos?"-"+n:n}t=$B.$GetInt(t);if(void 0===t)throw _b_.TypeError.$factory("Error, argument must be an integer or contains an __index__ function");return 0<=t?r+t.toString(e):"-"+r+(-t).toString(e)}function bin_hex_oct(t,e){if(isinstance(e,_b_.int))return $builtin_base_convert_helper(e,t);try{var r=e.__class__||$B.get_class(e),n=$B.$getattr(r,"__index__")}catch(t){if(t.__class__===_b_.AttributeError)throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object cannot be interpreted as an integer");throw t}return $builtin_base_convert_helper($B.$call(n)(e),t)}function bin(t){return check_nb_args("bin",1,arguments),check_no_kw("bin",t),bin_hex_oct(2,t)}function breakpoint(){$B.$import("sys",[]);var t={},e=$B.$getattr($B.imported.sys,"breakpointhook",t);if(e===t)throw _b_.RuntimeError.$factory("lost sys.breakpointhook");return $B.$call(e).apply(null,arguments)}function callable(t){return check_nb_args("callable",1,arguments),check_no_kw("callable",t),hasattr(t,"__call__")}function chr(t){if(check_nb_args("chr",1,arguments),check_no_kw("chr",t),(t=$B.PyNumber_Index(t))<0||1114111<t)throw _b_.ValueError.$factory("Outside valid range");if(65536<=t&&t<=1114111){var e=t-65536;return String.fromCodePoint(55296|e>>10)+String.fromCodePoint(56320|1023&e)}return String.fromCodePoint(t)}$B.set_func_names(NoneType,"builtins");var classmethod=$B.make_class("classmethod",function(n){check_nb_args("classmethod",1,arguments),check_no_kw("classmethod",n);function o(){return n.apply(null,arguments)}if(o.__class__=$B.method,n.$attrs)for(var t in n.$attrs)o[t]=n.$attrs[t];return o.$infos={__func__:n,__name__:n.$infos.__name__},(o.__get__=function(t,e){function r(){return o(e,...arguments)}return r.__class__=$B.method,r.$infos={__self__:e,__func__:o,__name__:n.$infos.__name__,__qualname__:e.$infos.__name__+"."+n.$infos.__name__},r}).__class__=$B.method_wrapper,o.__get__.$infos=n.$infos,o});$B.set_func_names(classmethod,"builtins");var code=$B.code=$B.make_class("code");function compile(){var t=$B.args("compile",6,{source:null,filename:null,mode:null,flags:null,dont_inherit:null,optimize:null,_feature_version:null},["source","filename","mode","flags","dont_inherit","optimize","_feature_version"],arguments,{flags:0,dont_inherit:!1,optimize:-1,_feature_version:0},null,null),e="$exec_"+$B.UUID();if($B.clear_ns(e),t.__class__=code,t.co_flags=t.flags,t.name="<module>","single"==t.mode&&512&t.flags&&!t.source.endsWith("\n")){var r=t.source.split("\n");if($B.last(r).startsWith(" "))throw _b_.SyntaxError.$factory("unexpected EOF while parsing")}return $B.py2js({src:t.source,filename:t.filename},e,e),t}code.__repr__=code.__str__=function(t){return"<code object "+t.co_name+", file "+t.co_filename+">"},code.__getattribute__=function(t,e){return t[e]},$B.set_func_names(code,"builtins");var __debug__=0<$B.debug;function delattr(t,e){if(check_no_kw("delattr",t,e),check_nb_args("delattr",2,arguments),"string"!=typeof e)throw _b_.TypeError.$factory("attribute name must be string, not '"+$B.class_name(e)+"'");return $B.$getattr(t,"__delattr__")(e)}function dir(t){if(void 0===t){var e=$B.last($B.frames_stack);for(n in locals_obj=e[1],r=_b_.list.$factory(),o=0,locals_obj)"$"==n.charAt(0)&&"$"!=n.charAt(1)||(r[o++]=n);return _b_.list.sort(r),r}check_nb_args("dir",1,arguments),check_no_kw("dir",t);t.__class__||$B.get_class(t);if(t.$is_class){e=$B.$getattr(t.__class__,"__dir__");return $B.$call(e)(t)}try{var r=$B.$call($B.$getattr(t,"__dir__"))();return r=_b_.list.$factory(r)}catch(t){}var n,r=[],o=0;for(n in t)"$"!==n.charAt(0)&&"__class__"!==n&&void 0!==t[n]&&(r[o++]=n);return r.sort(),r}function divmod(t,e){check_no_kw("divmod",t,e),check_nb_args("divmod",2,arguments);var r=t.__class__||$B.get_class(t),n=$B.$getattr(r,"__divmod__",_b_.None);return n!==_b_.None?n(t,e):_b_.tuple.$factory([$B.$getattr(r,"__floordiv__")(t,e),$B.$getattr(r,"__mod__")(t,e)])}$B.$delete=function(t,e){function r(t){t.__class__===$B.generator&&t.js_gen.return()}var n=!1,o=$B.last($B.frames_stack);if(e?o[2]!=o[0]&&void 0!==o[3][t]&&(n=!0,r(o[3][t]),delete o[3][t]):void 0!==o[1][t]&&(n=!0,r(o[1][t]),delete o[1][t]),!n)throw _b_.NameError.$factory(t)};var enumerate=$B.make_class("enumerate",function(){var t=$B.args("enumerate",2,{iterable:null,start:null},["iterable","start"],arguments,{start:0},null,null),e=iter(t.iterable),t=t.start;return{__class__:enumerate,__name__:"enumerate iterator",counter:t-1,iter:e,start:t}});function $$eval(src,_globals,_locals){var $=$B.args("eval",4,{src:null,globals:null,locals:null,mode:null},["src","globals","locals","mode"],arguments,{globals:_b_.None,locals:_b_.None,mode:"eval"},null,null),src=$.src,_globals=$.globals,_locals=$.locals,mode=$.mode;if($.src.mode&&"single"==$.src.mode&&-1<["<console>","<stdin>"].indexOf($.src.filename)&&_b_.print(">",$.src.source.trim()),src.__class__===code)mode=src.mode,src=src.source;else{if("string"!=typeof src.valueOf())throw _b_.TypeError.$factory("eval() arg 1 must be a string, bytes or code object");src=src.valueOf()}var current_frame=$B.frames_stack[$B.frames_stack.length-1],current_locals_id,current_globals_id;void 0!==current_frame&&(current_locals_id=current_frame[0].replace(/\./g,"_"),current_globals_id=current_frame[2].replace(/\./g,"_"));var stack_len=$B.frames_stack.length,globals_id="$exec_"+$B.UUID(),globals_name=globals_id,locals_id="$exec_"+$B.UUID(),parent_scope,items,item;if(_globals===_b_.None){current_locals_id==current_globals_id&&(locals_id=globals_id);var local_scope={module:globals_id,id:locals_id,binding:{},bindings:{}},attr;for(attr in current_frame[1])local_scope.binding[attr]=!0,local_scope.bindings[attr]=!0;var global_scope={module:globals_id,id:globals_id,binding:{},bindings:{}},attr;for(attr in current_frame[3])global_scope.binding[attr]=!0,global_scope.bindings[attr]=!0;local_scope.parent_block=global_scope,global_scope.parent_block=$B.builtins_scope,parent_scope=local_scope,eval("$locals_"+parent_scope.id+" = current_frame[1]")}else{if(_globals.__class__!=_b_.dict)throw _b_.TypeError.$factory("exec() globals must be a dict, not "+$B.class_name(_globals));if(_globals.globals_id&&(globals_id=globals_name=_globals.globals_id),_globals.globals_id=globals_id,_locals===_globals||_locals===_b_.None)locals_id=globals_id,parent_scope=$B.builtins_scope;else{var grandparent_scope={id:globals_id,parent_block:$B.builtins_scope,binding:{}},attr,parent_scope={id:locals_id,parent_block:grandparent_scope,binding:{}},attr;for(attr in _globals.$string_dict)grandparent_scope.binding[attr]=!0;for(attr in _locals.$string_dict)parent_scope.binding[attr]=!0}}if(eval("var $locals_"+globals_id+" = {}\nvar $locals_"+locals_id+" = {}"),_globals===_b_.None){var gobj=current_frame[3],ex="var $locals_"+globals_id+" = gobj;",obj={},attr;for(attr in eval(ex),gobj)attr.startsWith("$")||(obj[attr]=gobj[attr]);eval("$locals_"+globals_id+" = obj")}else{var globals_is_dict=!1,items,items,item;for(item in _globals.$jsobj?items=_globals.$jsobj:(items=_b_.dict.$to_obj(_globals),_globals.$jsobj=items,globals_is_dict=!0),eval("$locals_"+globals_id+" = _globals.$jsobj"),items)try{eval("$locals_"+globals_id+'["'+item+'"] = items.'+item)}catch(err){console.log(err),console.log("error setting",item);break}}if(_globals.$is_namespace=!0,_locals===_b_.None)if(_globals!==_b_.None)eval("var $locals_"+locals_id+" = $locals_"+globals_id);else{var lobj=current_frame[1],ex="",obj={},attr;for(attr in current_frame[1])attr.startsWith("$")||(obj[attr]=lobj[attr]);eval("$locals_"+locals_id+" = obj")}else{for(item in _locals.$jsobj?items=_locals.$jsobj:_locals.__class__!==_b_.dict?items=_locals:(items=_b_.dict.$to_obj(_locals),_locals.$jsobj=items),items)try{eval("$locals_"+locals_id+'["'+item+'"] = items.'+item)}catch(err){console.log(err),console.log("error setting",item);break}eval("$locals_"+locals_id+".$exec_locals = true"),eval("$locals_"+locals_id+".$is_not_dict = "+(_locals.__class__!==_b_.dict))}_locals.$is_namespace=!0,_globals===_b_.None&&_locals===_b_.None&&current_frame[0]==current_frame[2]||eval("$locals_"+locals_id+".$src = src");var root=$B.py2js(src,globals_id,locals_id,parent_scope),js,gns,lns;if(_globals!==_b_.None&&(_locals===_b_.None||_locals===_globals))for(var attr in _globals.$string_dict)root.binding[attr]=!0;try{var try_node=root.children[root.children.length-2],instr=try_node.children[try_node.children.length-2],type=instr.C.tree[0].type,last,js,locals_obj,globals_obj,res,res,res,jsobj,attr,attr;switch(type){case"expr":case"list_or_tuple":case"op":case"ternary":case"unary":var children=try_node.children;root.children.splice(root.children.length-2,2);for(var i=0;i<children.length-1;i++)root.add(children[i]);break;default:if("eval"==mode)throw _b_.SyntaxError.$factory("eval() argument must be an expression","<string>",1,1,src)}if("eval"!=mode?(last=$B.last(root.children),js=last.to_js(),-1==["node_js"].indexOf(last.C.type)&&(last.to_js=function(){for(;js.endsWith("\n");)js=js.substr(0,js.length-1);for(;js.endsWith(";");)js=js.substr(0,js.length-1);return"return ("+js+")"}),js=root.to_js(),locals_obj=eval("$locals_"+locals_id),globals_obj=eval("$locals_"+globals_id),res=_globals===_b_.None?new Function("$locals_"+globals_id,"$locals_"+locals_id,js)(globals_obj,locals_obj):(current_globals_obj=current_frame[3],current_locals_obj=current_frame[1],new Function("$locals_"+globals_id,"$locals_"+locals_id,"$locals_"+current_globals_id,"$locals_"+current_locals_id,js)(globals_obj,locals_obj,current_globals_obj,current_locals_obj)),$.src.mode&&"single"==$.src.mode&&"<stdin>"==$.src.filename&&res!==_b_.None&&void 0!==res&&_b_.print(_b_.repr(res))):(js=root.to_js(),res=eval(js)),"<console>"==$.src.filename&&"single"==$.src.mode&&void 0!==res&&res!==_b_.None&&_b_.print(res),gns=eval("$locals_"+globals_id),$B.frames_stack[$B.frames_stack.length-1][2]==globals_id&&(gns=$B.frames_stack[$B.frames_stack.length-1][3]),_locals!==_b_.None)for(var attr in lns=eval("$locals_"+locals_id),lns)"$"!=attr.charAt(0)&&(_locals.$jsobj?_locals.$jsobj[attr]=lns[attr]:(_locals.__class__!==_b_.dict?$B:_b_.dict).$setitem(_locals,attr,lns[attr]));else for(var attr in lns)"$src"!==attr&&(current_frame[1][attr]=lns[attr]);if(_globals!==_b_.None){for(attr in globals_is_dict&&(jsobj=_globals.$jsobj,delete _globals.$jsobj),gns)"$"!=attr.charAt(0)&&(globals_is_dict?_b_.dict.$setitem(_globals,attr,gns[attr]):_globals.$jsobj[attr]=gns[attr]);for(attr in _globals.$string_dict)attr.startsWith("$")&&delete _globals.$string_dict[attr]}else for(var attr in gns)"$src"!==attr&&(current_frame[3][attr]=gns[attr]);return void 0===res?_b_.None:res}catch(err){if(err.src=src,err.module=globals_id,void 0===err.$py_error)throw $B.exception(err);throw globals_is_dict&&delete _globals.$jsobj,err}finally{$B.frames_stack.length==stack_len+1&&$B.frames_stack.pop(),root=null,js=null,gns=null,lns=null,$B.clear_ns(globals_id),$B.clear_ns(locals_id)}}function exec(t,e,r){var n=$B.args("exec",3,{src:null,globals:null,locals:null},["src","globals","locals"],arguments,{globals:_b_.None,locals:_b_.None},null,null),t=n.src,e=n.globals,r=n.locals;return $$eval(t,e,r,"exec")||_b_.None}function exit(){throw _b_.SystemExit}enumerate.__iter__=function(t){return t.counter=t.start-1,t},enumerate.__next__=function(t){return t.counter++,$B.fast_tuple([t.counter,next(t.iter)])},$B.set_func_names(enumerate,"builtins"),$$eval.$is_func=!0,exec.$is_func=!0,exit.__repr__=exit.__str__=function(){return"Use exit() or Ctrl-Z plus Return to exit"};var filter=$B.make_class("filter",function(t,e){return check_no_kw("filter",t,e),check_nb_args("filter",2,arguments),e=iter(e),t===_b_.None&&(t=$B.$bool),{__class__:filter,func:t,iterable:e}});function format(e,t){var r=$B.args("format",2,{value:null,format_spec:null},["value","format_spec"],arguments,{format_spec:""},null,null),n=e.__class__||$B.get_class(e);try{var o=$B.$getattr(n,"__format__")}catch(t){if(t.__class__===_b_.AttributeError)throw _b_.NotImplementedError("__format__ is not implemented for object '"+_b_.str.$factory(e)+"'");throw t}return $B.$call(o)(e,r.format_spec)}function attr_error(t,e){var r="bad operand type for unary #: '"+e+"'";switch(t){case"__neg__":throw _b_.TypeError.$factory(r.replace("#","-"));case"__pos__":throw _b_.TypeError.$factory(r.replace("#","+"));case"__invert__":throw _b_.TypeError.$factory(r.replace("#","~"));case"__call__":throw _b_.TypeError.$factory("'"+e+"' object is not callable");default:for(;"$"==t.charAt(0);)t=t.substr(1);throw _b_.AttributeError.$factory("'"+e+"' object has no attribute '"+t+"'")}}function getattr(){var t={},e=$B.args("getattr",3,{obj:null,attr:null,_default:null},["obj","attr","_default"],arguments,{_default:t},null,null);return $B.$getattr(e.obj,e.attr,e._default===t?void 0:e._default)}function in_mro(t,e){if(void 0!==t){if(t.hasOwnProperty(e))return t[e];for(var r=t.__mro__,n=0,o=r.length;n<o;n++)if(r[n].hasOwnProperty(e))return r[n][e]}}function globals(){check_nb_args("globals",0,arguments);var t=$B.obj_dict($B.last($B.frames_stack)[3]);return t.$jsobj.__BRYTHON__=$B.JSObj.$factory($B),t.$is_namespace=!0,t}function hasattr(t,e){check_no_kw("hasattr",t,e),check_nb_args("hasattr",2,arguments);try{return $B.$getattr(t,e),!0}catch(t){return!1}}filter.__iter__=function(t){return t},filter.__next__=function(t){for(;;){var e=next(t.iterable);if(t.func(e))return e}},$B.set_func_names(filter,"builtins"),$B.$getattr=function(t,e,r){if(t.$method_cache&&t.$method_cache[e]&&t.__class__&&t.__class__[e]==t.$method_cache[e][1])return t.$method_cache[e][0];var n=e;void 0===t&&console.log("get attr",e,"of undefined");var o,s,a=t.$is_class||t.$factory,_=t.__class__;if(0,void 0!==_&&!_.$native&&_.__bases__&&void 0===_.__getattribute__&&(0==_.__bases__.length||1==_.__bases__.length&&_.__bases__[0]===_b_.object)){if(0,void 0!==t[e])return t[e];if(t.__dict__&&t.__dict__.$string_dict.hasOwnProperty(e)&&(!_.hasOwnProperty(e)||!_[e].__get__))return t.__dict__.$string_dict[e][0];if(_.hasOwnProperty(e)&&"function"!=typeof _[e]&&"__dict__"!=e&&void 0===_[e].__get__&&!in_mro(_[e].__class__,"__get__"))return _[e]}if(0,void 0===_)if("string"==typeof t)_=_b_.str;else if("number"==typeof t)_=t%1==0?_b_.int:_b_.float;else if(t instanceof Number)_=_b_.float;else if(void 0===(_=$B.get_class(t))){if(0,void 0!==(m=t[e])){if("function"!=typeof m)return $B.$JS2Py(m);var i=function(){return m.apply(t,arguments)};return i.$infos={__name__:e,__qualname__:e},i}if(void 0!==r)return r;throw _b_.AttributeError.$factory("object has no attribute "+n)}switch(e){case"__call__":if("function"!=typeof t)break;return(m=function(){return t.apply(null,arguments)}).__class__=method_wrapper,m.$infos={__name__:"__call__"},m;case"__class__":return _;case"__dict__":if(a){var l,c={};for(l in t)l.startsWith("$")||(c[l]=t[l]);return c.__dict__=$B.getset_descriptor.$factory(t,"__dict__"),$B.mappingproxy.$factory(c)}if(void 0!==t[e])return t[e];if(t.$infos){if(t.$infos.hasOwnProperty("__dict__"))return t.$infos.__dict__;if(t.$infos.hasOwnProperty("__func__"))return t.$infos.__func__.$infos.__dict__}return $B.obj_dict(t);case"__doc__":for(var u=0;u<builtin_names.length;u++)if(t===_b_[builtin_names[u]])return _get_builtins_doc(),$B.builtins_doc[builtin_names[u]];break;case"__mro__":if(t.$is_class)return _b_.tuple.$factory([t].concat(t.__mro__));if(t.__dict__&&void 0!==t.__dict__.$string_dict.__mro__)return t.__dict__.$string_dict.__mro__;throw _b_.AttributeError.$factory(e);case"__subclasses__":if(_.$factory||_.$is_class){var f=t.$subclasses||[];return function(){return f}}}if("function"==typeof t){i=t[e];if(void 0!==i&&"__module__"==e)return i}if(!a&&_.$native){if(t.$method_cache&&t.$method_cache[e])return t.$method_cache[e];if(0,"__doc__"==e&&void 0===_[e]&&_.$infos&&(_get_builtins_doc(),_[e]=$B.builtins_doc[_.$infos.__name__]),void 0===_[e]){var p=_b_.object[e];if(0,void 0===p){0;var $=t.__dict__;return $&&void 0!==(p=$.$string_dict[e])?p[0]:(void 0===r&&attr_error(e,_.$infos.__name__),r)}_[e]=p}if(_.$descriptors&&void 0!==_.$descriptors[e])return _[e](t);if("function"==typeof _[e]){$=_[e];if("__new__"==e&&($.$type="staticmethod"),"staticmethod"==$.$type)return $;var p=_[e].__class__==$B.method?_:t,d=_[e].bind(null,p);return d.__class__=$B.method,d.$infos={__func__:$,__name__:e,__self__:p,__qualname__:_.$infos.__name__+"."+e},"object"==typeof t&&(t.__class__=_,t.$method_cache=t.$method_cache||{},t.$method_cache[e]=d),d}if(void 0!==_[e])return _[e];attr_error(n,_.$infos.__name__)}if(a)o=_b_.type.__getattribute__;else if(void 0===(o=_.__getattribute__)){void 0===(s=_.__mro__)&&console.log(t,e,"no mro, klass",_);for(var u=0,h=s.length;u<h&&void 0===(o=s[u].__getattribute__);u++);}"function"!=typeof o&&console.log(e+" is not a function "+o,_);d=_b_.object.__getattribute__;if(0,o===d){var m=t[e];if(Array.isArray(t)&&void 0!==Array.prototype[e])m=void 0;else{if(null===m)return null;if(void 0===m&&void 0!==t[e]){if(console.log("cas 1"),void 0===r)throw _b_.AttributeError.$factory(e);return r}if(void 0!==m&&(void 0===m.__set__||m.$is_class))return m}}try{m=o(t,e);0}catch(t){if(void 0!==r)return r;throw t}if(void 0!==m)return m;if(void 0!==r)return r;r=_.$infos.__name__;attr_error(n,r=a?t.$infos.__name__:r)};var hash_cache={};function hash(t){if(check_no_kw("hash",t),check_nb_args("hash",1,arguments),void 0!==t.__hashvalue__)return t.__hashvalue__;if(isinstance(t,_b_.bool))return _b_.int.$factory(t);if(t.$is_class||t.__class__===_b_.type||t.__class__===$B.Function)return t.__hashvalue__=$B.$py_next_hash--;if("string"==typeof t){var e=hash_cache[t];return void 0!==e?e:hash_cache[t]=_b_.str.__hash__(t)}e=t.__class__||$B.get_class(t);if(void 0===e)throw _b_.TypeError.$factory("unhashable type: '"+_b_.str.$factory($B.JSObj.$factory(t))+"'");e=$B.$getattr(e,"__hash__",_b_.None);if(e===_b_.None)throw _b_.TypeError.$factory("unhashable type: '"+$B.class_name(t)+"'");if(e.$infos.__func__!==_b_.object.__hash__)return $B.$call(e)(t);if($B.$getattr(t,"__eq__").$infos.__func__!==_b_.object.__eq__)throw _b_.TypeError.$factory("unhashable type: '"+$B.class_name(t)+"'","hash");return t.__hashvalue__=_b_.object.__hash__(t)}function _get_builtins_doc(){var url,f;void 0===$B.builtins_doc&&(url=$B.brython_path,"/"==url.charAt(url.length-1)&&(url=url.substr(0,url.length-1)),url+="/builtins_docstrings.js",f=_b_.open(url),eval(f.$string),$B.builtins_doc=docs)}function help(t){if("string"==typeof(t=void 0===t?"help":t)&&void 0!==_b_[t]){_get_builtins_doc();var e=$B.builtins_doc[t];if(void 0!==e&&""!=e)return void _b_.print(e)}for(var r=0;r<builtin_names.length;r++)t===_b_[builtin_names[r]]&&(_get_builtins_doc(),_b_.print(e=$B.builtins_doc[builtin_names[r]]));if("string"!=typeof t)try{return $B.$getattr(t,"__doc__")}catch(t){return""}else{$B.$import("pydoc");var n=$B.imported.pydoc;$B.$getattr($B.$getattr(n,"help"),"__call__")(t)}}function hex(t){return check_no_kw("hex",t),check_nb_args("hex",1,arguments),bin_hex_oct(16,t)}function id(t){return check_no_kw("id",t),check_nb_args("id",1,arguments),isinstance(t,[_b_.str,_b_.int,_b_.float])&&!isinstance(t,$B.long_int)?$B.$getattr(_b_.str.$factory(t),"__hash__")():void 0!==t.$id?t.$id:t.$id=$B.UUID()}function __import__(t,e,r,n,o){var s=$B.args("__import__",5,{name:null,globals:null,locals:null,fromlist:null,level:null},["name","globals","locals","fromlist","level"],arguments,{globals:None,locals:None,fromlist:_b_.tuple.$factory(),level:0},null,null);return $B.$__import__(s.name,s.globals,s.locals,s.fromlist)}function input(t){var e,r,n=prompt(t||"")||"";return $B.imported.sys&&$B.imported.sys.ps1&&(e=$B.imported.sys.ps1,r=$B.imported.sys.ps2,t!=e&&t!=r||console.log(t,n)),n}function isinstance(t,e){if(check_no_kw("isinstance",t,e),check_nb_args("isinstance",2,arguments),null===t)return e===None;if(void 0!==t)if(Array.isArray(e)){for(var r of e)if(isinstance(t,r))return 1}else{if(e.__class__===$B.GenericAlias)throw _b_.TypeError.$factory("isinstance() arg 2 cannot be a parameterized generic");if(!e.__class__||void 0===e.$factory&&void 0===e.$is_class)throw _b_.TypeError.$factory("isinstance() arg 2 must be a type or tuple of types");if(e===_b_.int&&(t===True||t===False))return True;if(e===_b_.bool)switch(typeof t){case"string":case"number":return;case"boolean":return 1}var n=t.__class__;if(null==n){if("string"==typeof t){if(e==_b_.str)return 1;if(-1<$B.builtin_classes.indexOf(e))return}else if(t.contructor===Number&&Number.isFinite(t)){if(e==_b_.float)return 1}else if("number"==typeof t&&Number.isFinite(t)&&Number.isFinite(t)&&e==_b_.int)return 1;n=$B.get_class(t)}if(void 0!==n){if(a(n,e))return 1;for(var o=n.__mro__,s=0;s<o.length;s++)if(a(o[s],e))return 1;n=$B.$getattr(e.__class__||$B.get_class(e),"__instancecheck__",_b_.None);return n!==_b_.None&&n(e,t)}}function a(t,e){return t===e||(e===_b_.str&&t===$B.StringSubclass||e===_b_.int&&t===$B.IntSubclass)}}function issubclass(t,e){if(check_no_kw("issubclass",t,e),check_nb_args("issubclass",2,arguments),!t.__class__||void 0===t.$factory&&void 0===t.$is_class)throw _b_.TypeError.$factory("issubclass() arg 1 must be a class");if(!isinstance(e,_b_.tuple)){if(e.__class__===$B.GenericAlias)throw _b_.TypeError.$factory("issubclass() arg 2 cannot be a parameterized generic");if((e.$factory||e.$is_class)&&(t===e||-1<t.__mro__.indexOf(e)))return 1;var r=$B.$getattr(e.__class__||$B.get_class(e),"__subclasscheck__",_b_.None);return r!=_b_.None?r(e,t):void 0}for(var n=0;n<e.length;n++)if(issubclass(t,e[n]))return 1}help.__repr__=help.__str__=function(){return"Type help() for interactive help, or help(object) for help about object."};var iterator_class=$B.make_class("iterator",function(t,e){return{__class__:iterator_class,getitem:t,len:e,counter:-1}});function iter(){var t,e=$B.args("iter",1,{obj:null},["obj"],arguments,{},"args","kw");return 0<e.args.length&&(t=e.args[0]),$B.$iter(e.obj,t)}function len(e){check_no_kw("len",e),check_nb_args("len",1,arguments);var t=e.__class__||$B.get_class(e);try{var r=$B.$getattr(t,"__len__")}catch(t){throw _b_.TypeError.$factory("object of type '"+$B.class_name(e)+"' has no len()")}return $B.$call(r)(e)}function locals(){check_nb_args("locals",0,arguments);var t=$B.obj_dict($B.clone($B.last($B.frames_stack)[1]));return t.$is_namespace=!0,delete t.$jsobj.__annotations__,t}iterator_class.__next__=function(t){if(t.counter++,null!==t.len&&t.counter==t.len)throw _b_.StopIteration.$factory("");try{return t.getitem(t.counter)}catch(t){throw _b_.StopIteration.$factory("")}},callable_iterator=$B.make_class("callable_iterator",function(t,e){return{__class__:callable_iterator,func:t,sentinel:e}}),callable_iterator.__iter__=function(t){return t},callable_iterator.__next__=function(t){var e=t.func();if($B.rich_comp("__eq__",e,t.sentinel))throw _b_.StopIteration.$factory();return e},$B.$iter=function(e,r){if(void 0!==r)return callable_iterator.$factory(e,r);r=e.__class__||$B.get_class(e);try{var n=$B.$call($B.$getattr(r,"__iter__"))}catch(t){if(t.__class__===_b_.AttributeError)try{var o=$B.$call($B.$getattr(r,"__getitem__"));len(e);return iterator_class.$factory(function(t){return o(e,t)},len)}catch(t){throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object is not iterable")}throw t}n=$B.$call(n)(e);try{$B.$getattr(n,"__next__")}catch(t){if(isinstance(t,_b_.AttributeError))throw _b_.TypeError.$factory("iter() returned non-iterator of type '"+$B.class_name(n)+"'")}return n};var map=$B.make_class("map",function(){var t=$B.args("map",2,{func:null,it1:null},["func","it1"],arguments,{},"args",null),e=$B.$call(t.func),r=[$B.$iter(t.it1)];return t.args.forEach(function(t){r.push($B.$iter(t))}),{__class__:map,args:r,func:e}});function $extreme(t,e){var r,n="min",o=$B.args(n="__gt__"===e?"max":n,0,{},[],t,{},"args","kw"),s=!1,a=!1;for(r in o.kw.$string_dict)switch(r){case"key":a=o.kw.$string_dict[r][0];break;case"default":var _=o.kw.$string_dict[r][0],s=!0;break;default:throw _b_.TypeError.$factory("'"+r+"' is an invalid keyword argument for this function")}if(a&&a!==_b_.None||(a=t=>t),0==o.args.length)throw _b_.TypeError.$factory(n+" expected 1 arguments, got 0");if(1!=o.args.length){if(s)throw _b_.TypeError.$factory("Cannot specify a default for "+n+"() with multiple positional arguments");return t=$B.last(t).$nat?[o.args].concat($B.last(t)):[o.args],$extreme.call(null,t,e)}for(var i,l,c=iter(o.args[0]),u=null;;)try{var f=next(c);null===u?(l=a(f),u=f):(i=a(f),$B.rich_comp(e,i,l)&&(u=f,l=i))}catch(t){if(t.__class__!=_b_.StopIteration)throw t;if(null!==u)return u;if(s)return _;throw _b_.ValueError.$factory(n+"() arg is an empty sequence")}}function max(){return $extreme(arguments,"__gt__")}map.__iter__=function(t){return t},map.__next__=function(t){for(var e=[],r=0;r<t.args.length;r++)e.push(next(t.args[r]));return t.func.apply(null,e)},$B.set_func_names(map,"builtins");var memoryview=$B.make_class("memoryview",function(t){if(check_no_kw("memoryview",t),check_nb_args("memoryview",1,arguments),t.__class__===memoryview)return t;if($B.get_class(t).$buffer_protocol)return{__class__:memoryview,obj:t,format:"B",itemsize:1,ndim:1,shape:_b_.tuple.$factory([_b_.len(t)]),strides:_b_.tuple.$factory([1]),suboffsets:_b_.tuple.$factory([]),c_contiguous:!0,f_contiguous:!0,contiguous:!0};throw _b_.TypeError.$factory("memoryview: a bytes-like object is required, not '"+$B.class_name(t)+"'")});function min(){return $extreme(arguments,"__lt__")}function next(t){check_no_kw("next",t);var e={},r=$B.args("next",2,{obj:null,def:null},["obj","def"],arguments,{def:e},null,null),n=t.__class__||$B.get_class(t),n=$B.$call($B.$getattr(n,"__next__"));if(void 0!==n)try{return $B.$call(n)(t)}catch(t){if(t.__class__===_b_.StopIteration&&r.def!==e)return r.def;throw t}throw _b_.TypeError.$factory("'"+$B.class_name(t)+"' object is not an iterator")}memoryview.$match_sequence_pattern=!0,memoryview.__eq__=function(t,e){return e.__class__===memoryview&&$B.$getattr(t.obj,"__eq__")(e.obj)},memoryview.__getitem__=function(t,e){if(isinstance(e,_b_.int)){var r=e*t.itemsize;if("I"==t.format){for(var n=t.obj.source[r],o=256,s=1;s<4;s++)n+=t.obj.source[r+s]*o,o*=256;return n}if(-1<"B".indexOf(t.format)){if(e>t.obj.source.length-1)throw _b_.KeyError.$factory(e);return t.obj.source[e]}return t.obj.source[e]}n=t.obj.__class__.__getitem__(t.obj,e);if(e.__class__===_b_.slice)return memoryview.$factory(n)},memoryview.__len__=function(t){return len(t.obj)/t.itemsize},memoryview.__setitem__=function(t,e,r){try{$B.$setitem(t.obj,e,r)}catch(t){throw _b_.TypeError.$factory("cannot modify read-only memory")}},memoryview.cast=function(t,e){switch(e){case"B":return memoryview.$factory(t.obj);case"I":var r=memoryview.$factory(t.obj),n=len(t.obj);if(r.itemsize=4,r.format="I",n%4!=0)throw _b_.TypeError.$factory("memoryview: length is not a multiple of itemsize");return r}},memoryview.hex=function(t){var e="";return _b_.bytes.$factory(t).source.forEach(function(t){e+=t.toString(16)}),e},memoryview.tobytes=function(t){return _b_.bytes.$factory(t.obj)},memoryview.tolist=function(t){if(1==t.itemsize)return _b_.list.$factory(_b_.bytes.$factory(t.obj));if(4==t.itemsize&&"I"==t.format){for(var e=[],r=0;r<t.obj.source.length;r+=4){for(var n=t.obj.source[r],o=256,s=1;s<4;s++)n+=o*t.obj.source[r+s],o*=256;e.push(n)}return e}},$B.set_func_names(memoryview,"builtins");var NotImplementedType=$B.make_class("NotImplementedType",function(){return NotImplemented});NotImplementedType.__repr__=NotImplementedType.__str__=function(t){return"NotImplemented"},$B.set_func_names(NotImplementedType,"builtins");var NotImplemented={__class__:NotImplementedType};function $not(t){return!$B.$bool(t)}function oct(t){return check_no_kw("oct",t),check_nb_args("oct",1,arguments),bin_hex_oct(8,t)}function ord(t){if(check_no_kw("ord",t),check_nb_args("ord",1,arguments),"string"==typeof t.valueOf()){if(1==t.length)return t.charCodeAt(0);if(55296<=t[0]&&t[0]<=56319||56320<=t[1]&&t[1]<=57343)throw _b_.TypeError.$factory("ord() expected a character, but string of length "+t.length+" found");var e=65536;return e+=(1023&t.charCodeAt(0))<<10,e+=1023&t.charCodeAt(1)}switch($B.get_class(t)){case _b_.str:if(1==t.length)return t.charCodeAt(0);throw _b_.TypeError.$factory("ord() expected a character, but string of length "+t.length+" found");case _b_.bytes:case _b_.bytearray:if(1==t.source.length)return t.source[0];throw _b_.TypeError.$factory("ord() expected a character, but string of length "+t.source.length+" found");default:throw _b_.TypeError.$factory("ord() expected a character, but "+$B.class_name(t)+" was found")}}function pow(){var t=$B.args("pow",3,{x:null,y:null,mod:null},["x","y","mod"],arguments,{mod:None},null,null),e=t.x,r=t.y,n=t.mod,t=e.__class__||$B.get_class(e);if(n===_b_.None)return $B.rich_op("pow",e,r);if(e!=_b_.int.$factory(e)||r!=_b_.int.$factory(r))throw _b_.TypeError.$factory("pow() 3rd argument not allowed unless all arguments are integers");return $B.$call($B.$getattr(t,"__pow__"))(e,r,n)}function $print(){for(var t=$B.args("print",0,{},[],arguments,{},"args","kw"),e=t.kw.$string_dict,r=void 0===e.end||e.end===None?"\n":e.end[0],n=void 0===e.sep||e.sep===None?" ":e.sep[0],e=void 0===e.file?$B.stdout:e.file[0],o=t.args,s=$B.$getattr(e,"write"),a=0,_=o.length;a<_;a++)s(_b_.str.$factory(o[a])),a<_-1&&s(n);s(r);e=$B.$getattr(e,"flush",None);return e!==None&&e(),None}$print.__name__="print",$print.is_func=!0;var property=$B.make_class("property",function(t,e,r,n){var o={__class__:property};return property.__init__(o,t,e,r,n),o});function quit(){throw _b_.SystemExit}function repr(t){check_no_kw("repr",t),check_nb_args("repr",1,arguments);var e=t.__class__||$B.get_class(t);return $B.$call($B.$getattr(e,"__repr__"))(t)}property.__init__=function(e,t,r,n,o){if(e.__doc__=o||"",e.$type=t.$type,e.fget=t,e.fset=r,e.fdel=n,t&&t.$attrs)for(var s in t.$attrs)e[s]=t.$attrs[s];e.__get__=function(t,e,r){if(void 0===e)return t;if(void 0===t.fget)throw _b_.AttributeError.$factory("unreadable attribute");return $B.$call(t.fget)(e)},void 0!==r&&(e.__set__=function(t,e,r){if(void 0===t.fset)throw _b_.AttributeError.$factory("can't set attribute");$B.$getattr(t.fset,"__call__")(e,r)}),e.__delete__=n,e.getter=function(t){return property.$factory(t,e.fset,e.fdel,e.__doc__)},e.setter=function(t){return property.$factory(e.fget,t,e.fdel,e.__doc__)},e.deleter=function(t){return property.$factory(e.fget,e.fset,t,e.__doc__)}},property.__repr__=function(t){return $B.builtins_repr_check(property,arguments),_b_.repr(t.fget(t))},$B.set_func_names(property,"builtins"),quit.__repr__=quit.__str__=function(){return"Use quit() or Ctrl-Z plus Return to exit"};var reversed=$B.make_class("reversed",function(e){check_no_kw("reversed",e),check_nb_args("reversed",1,arguments);var t=e.__class__||$B.get_class(e),r=$B.$getattr(t,"__reversed__",null);if(null!==r)return $B.$call(r)(e);try{var n=$B.$getattr(t,"__getitem__")}catch(t){throw _b_.TypeError.$factory("argument to reversed() must be a sequence")}return{__class__:reversed,$counter:_b_.len(e),getter:function(t){return $B.$call(n)(e,t)}}});function round(){var t=$B.args("round",2,{number:null,ndigits:null},["number","ndigits"],arguments,{ndigits:None},null,null),e=t.number,r=t.ndigits===None?0:t.ndigits;if(!isinstance(e,[_b_.int,_b_.float])){var n=e.__class__||$B.get_class(e);try{return $B.$call($B.$getattr(n,"__round__")).apply(null,arguments)}catch(t){throw t.__class__===_b_.AttributeError?_b_.TypeError.$factory("type "+$B.class_name(e)+" doesn't define __round__ method"):t}}if(isinstance(e,_b_.float)&&(e.value===1/0||e.value===-1/0))throw _b_.OverflowError.$factory("cannot convert float infinity to integer");if(!isinstance(r,_b_.int))throw _b_.TypeError.$factory("'"+$B.class_name(r)+"' object cannot be interpreted as an integer");var o=Math.pow(10,r),n=e*o,r=Math.floor(n),o=.5==Math.abs(n-r)?(r%2&&(r+=1),_b_.int.__truediv__(r,o)):_b_.int.__truediv__(Math.round(n),o);return t.ndigits!==None&&e instanceof Number?new Number(o):o.valueOf()}function setattr(){var t=$B.args("setattr",3,{obj:null,attr:null,value:null},["obj","attr","value"],arguments,{},null,null),e=t.obj,r=t.attr,t=t.value;if("string"!=typeof r)throw _b_.TypeError.$factory("setattr(): attribute name must be string");return $B.$setattr(e,r,t)}function sorted(){for(var t=$B.args("sorted",1,{iterable:null},["iterable"],arguments,{},null,"kw"),t=_b_.list.$factory(iter(t.iterable)),e=[t],r=1;r<arguments.length;r++)e.push(arguments[r]);return _b_.list.sort.apply(null,e),t}reversed.__iter__=function(t){return t},reversed.__next__=function(t){if(t.$counter--,t.$counter<0)throw _b_.StopIteration.$factory("");return t.getter(t.$counter)},$B.set_func_names(reversed,"builtins"),$B.$setattr=function(t,e,r){if("__dict__"==e){if(!isinstance(r,_b_.dict))throw _b_.TypeError.$factory("__dict__ must be set to a dictionary, not a '"+$B.class_name(r)+"'");return t.$infos?(t.$infos.__dict__=r,None):(t.__dict__=r,None)}if("__class__"==e){function n(t){throw _b_.TypeError.$factory(t)}if(r.__class__)if("builtins"==r.__module__)n("__class__ assignement only supported for heap types or ModuleType subclasses");else if(Array.isArray(r.__bases__))for(var o=0;o<r.__bases__.length;o++)r.__bases__[o]!==_b_.object&&"builtins"==r.__bases__[o].__module__&&n("__class__ assignment: '"+$B.class_name(t)+"' object layout differs from '"+$B.class_name(r)+"'");return t.__class__=r,None}if("__doc__"==e&&t.__class__===_b_.property&&(t[e]=r),t.$factory||t.$is_class){var s=t.__class__;if(0,s&&s[e]&&s[e].__get__&&s[e].__set__)return s[e].__set__(t,r),None;if("__module__"==e)return t.$infos.__module__=r,_b_.None;if(t.$infos&&"builtins"==t.$infos.__module__)throw _b_.TypeError.$factory("can't set attributes of built-in/extension type '"+t.$infos.__name__+"'");return t[e]=r,"__init__"==e||"__new__"==e?t.$factory=$B.$instance_creator(t):"__bases__"==e&&(t.__mro__=_b_.type.mro(t)),None}var a=t[e],_=t.__class__||$B.get_class(t);if(0,void 0===a&&_&&void 0===(a=_[e]))for(var i=(f=_.__mro__).length,o=0;o<i&&void 0===(a=f[o][e]);o++);if(0,null!=a){if(void 0!==a.__set__)return a.__set__(a,t,r),None;var l,s=a.__class__;if(void 0!==s)if(void 0===(l=s.__set__))for(o=0,i=(f=s.__mro__).length;o<i&&!(l=f[o].__set__);o++);if(void 0!==l){var c=$B.$getattr(a,"__set__",null);if(c&&"function"==typeof c)return c.apply(a,[t,r]),None}else if(_&&void 0!==_.$descriptors&&void 0!==_[e]){c=_[e].setter;if("function"==typeof c)return c(t,r),None;throw _b_.AttributeError.$factory("readonly attribute")}}var u=!1;if(void 0!==_&&void 0===(u=_.__setattr__))for(var f,o=0,i=(f=_.__mro__).length-1;o<i&&!(u=f[o].__setattr__);o++);if(_&&_.__slots__&&-1==["__module__"].indexOf(e)&&!u){function p(e){return e.__slots__?Array.isArray(e.__slots__)?e.__slots__.map(function(t){return t.startsWith("__")&&!t.endsWith("_")?"_"+e.$infos.__name__+t:t}):e.__slots__:[]}var $=!1;if(-1<p(_).indexOf(e))$=!0;else for(o=0;o<_.__mro__.length;o++)if(-1<p(_.__mro__[o]).indexOf(e)){$=!0;break}if(!$)throw _b_.AttributeError.$factory("'"+_.$infos.__name__+"' object has no attribute '"+e+"'")}return u?u(t,e,r):void 0===t.__dict__?t[e]=r:_b_.dict.$setitem(t.__dict__,e,r),None};var staticmethod=$B.make_class("staticmethod",function(t){var e={$infos:t.$infos,__get__:function(){return t}};return e.__get__.__class__=$B.method_wrapper,e.__get__.$infos=t.$infos,e});function sum(t,e){var r=$B.args("sum",2,{iterable:null,start:null},["iterable","start"],arguments,{start:0},null,null),t=r.iterable,e=r.start;if(_b_.isinstance(e,[_b_.str,_b_.bytes]))throw _b_.TypeError.$factory("sum() can't sum bytes [use b''.join(seq) instead]");for(var n=e,t=iter(t);;)try{var o=next(t),n=$B.add(n,o)}catch(t){if(t.__class__===_b_.StopIteration)break;throw t}return n}$B.set_func_names(staticmethod,"builtins"),$B.missing_super2=function(t){return t.$missing=!0,t};var $$super=$B.make_class("super",function(t,e){var r=void 0===e;if(void 0===t&&void 0===e){var n=$B.last($B.frames_stack),o=$B.imported._sys.Getframe();if(!o.f_code||!o.f_code.co_varnames)throw _b_.RuntimeError.$factory("super(): no arguments");if(void 0===(t=n[1].__class__))throw _b_.RuntimeError.$factory("super(): no arguments");e=n[1][o.f_code.co_varnames[0]]}return!r&&Array.isArray(e)&&(e=e[0]),{__class__:$$super,__thisclass__:t,__self_class__:e}});function vars(){var t={},e=$B.args("vars",1,{obj:null},["obj"],arguments,{obj:t},null,null);if(e.obj===t)return _b_.locals();try{return $B.$getattr(e.obj,"__dict__")}catch(t){if(t.__class__===_b_.AttributeError)throw _b_.TypeError.$factory("vars() argument must have __dict__ attribute");throw t}}$$super.__get__=function(t,e,r){return $$super.$factory(t.__thisclass__,e)},$$super.__getattribute__=function(e,n){var t=e.__thisclass__.__mro__;if(e.__thisclass__.$is_js_class&&"__init__"==n)return function(){t[0].$js_func.call(e.__self_class__,...arguments)};var r=e.__self_class__;if(void 0!==r)for(var o=[r=!r.$is_class?r.__class__||$B.get_class(r):r].concat(r.__mro__),s=0;s<o.length;s++)if(o[s]===e.__thisclass__){t=o.slice(s+1);break}for(var a,_,s=0,i=t.length;s<i;s++)if(void 0!==t[s][n]){a=t[s][n];break}if(void 0===a){if(void 0!==$$super[n])return _=e,function(){for(var t=[_],e=0,r=arguments.length;e<r;e++)t.push(arguments[e]);return $$super[n].apply(null,t)};throw _b_.AttributeError.$factory(n)}if(0,"staticmethod"==a.$type||"__new__"==n)return a;if("function"!=typeof a)return a;a.__class__===$B.method&&(a=a.$infos.__func__);var l,c=$B.$call(a),r=function(){var t=c(e.__self_class__,...arguments);return t};return r.__class__=$B.method,void 0!==a.$infos?l=a.$infos.__module__:a.__class__===property?l=a.fget.$infos.__module:a.$is_class&&(l=a.__module__),r.$infos={__self__:e.__self_class__,__func__:a,__name__:n,__module__:l,__qualname__:e.__thisclass__.$infos.__name__+"."+n},r},$$super.__init__=function(t){if(void 0===t)throw _b_.TypeError.$factory("descriptor '__init__' of 'super' object needs an argument");if(t.__class__!==$$super)throw _b_.TypeError.$factory("descriptor '__init__' requires a 'super' object but received a '"+$B.class_name(t)+"'")},$$super.__repr__=function(t){$B.builtins_repr_check($$super,arguments);var e="<super: <class '"+t.__thisclass__.$infos.__name__+"'>";return void 0!==t.__self_class__?e+=", <"+t.__self_class__.__class__.$infos.__name__+" object>":e+=", NULL",e+">"},$B.set_func_names($$super,"builtins");var $Reader=$B.make_class("Reader");function make_lines(t){if(void 0===t.$lines)if(t.$binary){for(var e=[],r=0,n=t.$content.source;r<t.$length;){var o=n.indexOf(10,r);if(-1==o){e.push({__class__:_b_.bytes,source:n.slice(r)});break}e.push({__class__:_b_.bytes,source:n.slice(r,o+1)}),r=o+1}t.$lines=e}else t.$lines=t.$content.split("\n"),""==$B.last(t.$lines)&&t.$lines.pop(),t.$lines=t.$lines.map(t=>t+"\n")}$Reader.__enter__=function(t){return t},$Reader.__exit__=function(t){return!1},$Reader.__iter__=function(t){return iter($Reader.readlines(t))},$Reader.__len__=function(t){return t.lines.length},$Reader.close=function(t){t.closed=!0},$Reader.flush=function(t){return None},$Reader.read=function(){var t=$B.args("read",2,{self:null,size:null},["self","size"],arguments,{size:-1},null,null),e=t.self,t=$B.$GetInt(t.size);if(!0===e.closed)throw _b_.ValueError.$factory("I/O operation on closed file");return t<0&&(t=e.$length-e.$counter),res=e.$binary?_b_.bytes.$factory(e.$content.source.slice(e.$counter,e.$counter+t)):e.$content.substr(e.$counter,t),e.$counter+=t,res},$Reader.readable=function(t){return!0},$Reader.readline=function(t,e){var r,n=$B.args("readline",2,{self:null,size:null},["self","size"],arguments,{size:-1},null,null),t=n.self,e=$B.$GetInt(n.size);if(t.$lc=void 0===t.$lc?-1:t.$lc,!0===t.closed)throw _b_.ValueError.$factory("I/O operation on closed file");if(t.$binary){if(-1==(r=t.$content.source.indexOf(10,t.$counter))){var o=t.$content.source.slice(t.$counter);return t.$counter=t.$content.source.length,_b_.bytes.$factory(o)}var s={__class__:_b_.bytes,source:t.$content.source.slice(t.$counter,r+1)};return t.$counter=r+1,s}if(t.$counter==t.$content.length)return"";if(-1==(r=t.$content.indexOf("\n",t.$counter))){o=t.$content.substr(t.$counter);return t.$counter=t.$content.length,o}s=t.$content.substring(t.$counter,r+1);return t.$counter=r+1,t.$lc+=1,s},$Reader.readlines=function(){var t=$B.args("readlines",2,{self:null,hint:null},["self","hint"],arguments,{hint:-1},null,null),e=t.self,r=$B.$GetInt(t.hint);if(!0===e.closed)throw _b_.ValueError.$factory("I/O operation on closed file");if(e.$lc=void 0===e.$lc?-1:e.$lc,make_lines(e),r<0)var n=e.$lines.slice(e.$lc+1);else for(n=[];e.$lc<e.$lines.length&&0<r;)e.$lc++,n.push(e.$lines[e.$lc]);return n},$Reader.seek=function(t,e,r){if(t.closed===True)throw _b_.ValueError.$factory("I/O operation on closed file");return 0===(r=void 0===r?0:r)?t.$counter=e:1===r?t.$counter+=e:2===r&&(t.$counter=t.$length+e),None},$Reader.seekable=function(t){return!0},$Reader.tell=function(t){return t.$counter},$Reader.writable=function(t){return!1},$B.set_func_names($Reader,"builtins");var $BufferedReader=$B.make_class("_io.BufferedReader");$BufferedReader.__mro__=[$Reader,_b_.object];var $TextIOWrapper=$B.make_class("_io.TextIOWrapper",function(){var t=$B.args("TextIOWrapper",6,{buffer:null,encoding:null,errors:null,newline:null,line_buffering:null,write_through:null},["buffer","encoding","errors","newline","line_buffering","write_through"],arguments,{encoding:"utf-8",errors:_b_.None,newline:_b_.None,line_buffering:_b_.False,write_through:_b_.False},null,null);return{__class__:$TextIOWrapper,$content:_b_.bytes.decode(t.buffer.$content,t.encoding),encoding:t.encoding,errors:t.errors,newline:t.newline}});function $url_open(){var t=$B.args("open",3,{file:null,mode:null,encoding:null},["file","mode","encoding"],arguments,{mode:"r",encoding:"utf-8"},"args","kw"),s=t.file,e=t.mode,a=t.encoding,_={};if(-1<e.search("w"))throw _b_.IOError.$factory("Browsers cannot write on disk");if(-1==["r","rb"].indexOf(e))throw _b_.ValueError.$factory("Invalid mode '"+e+"'");if(isinstance(s,_b_.str)){var i=-1<e.search("b");if($B.file_cache.hasOwnProperty(t.file))_.content=$B.file_cache[t.file],i&&(_.content=_b_.str.encode(_.content,"utf-8"));else if($B.files&&$B.files.hasOwnProperty(t.file)){$res=atob($B.files[t.file].content);var r=[];for(const o of $res)r.push(o.charCodeAt(0));$bytes=_b_.bytes.$factory(),$bytes.source=r}else{if("file"==$B.protocol)throw _b_.FileNotFoundError.$factory("cannot use 'open()' with protocol 'file'");var n=new XMLHttpRequest;n.overrideMimeType("text/plain;charset=x-user-defined"),n.onreadystatechange=function(){if(4==this.readyState){var t=this.status;if(404==t)_.error=_b_.FileNotFoundError.$factory(s);else if(200!=t)_.error=_b_.IOError.$factory("Could not open file "+s+" : status "+t);else{for(var e=[],r=0,n=this.response.length;r<n;r++){var o=this.response.codePointAt(r);63232<o&&(o-=63232),e.push(o)}if(_.content=_b_.bytes.$factory(e),!i)try{_.content=_b_.bytes.decode(_.content,a)}catch(t){_.error=t}}}};t=$B.$options.cache?"":"?foo="+(new Date).getTime();n.open("GET",encodeURI(s+t),!1),n.send()}if(void 0!==_.error)throw _.error;e={$binary:i,$content:_.content,$counter:0,$encoding:a,$length:(i?_.content.source:_.content).length,closed:False,mode:e,name:s};return e.__class__=i?$BufferedReader:$TextIOWrapper,e}throw _b_.TypeError.$factory("invalid argument for open(): "+_b_.str.$factory(s))}$TextIOWrapper.__mro__=[$Reader,_b_.object],$B.set_func_names($TextIOWrapper,"builtins"),$B.Reader=$Reader,$B.TextIOWrapper=$TextIOWrapper,$B.BufferedReader=$BufferedReader;var zip=$B.make_class("zip",function(){var t={__class__:zip,items:[]};if(0==arguments.length)return t;for(var e,r=$B.args("zip",0,{},[],arguments,{},"args","kw").args,n=[],o=!0,s=0;s<r.length;s++){o&&Array.isArray(r[s])?(void 0===e||r[s].length<e)&&(e=r[s].length):o=!1;var a=$B.$call($B.$getattr(iter(r[s]),"__next__"));n.push(a)}var _=[];if(o){$B.nb_zip_list=void 0===$B.nb_zip_list?1:$B.nb_zip_list+1;for(s=0;s<e;s++){for(var i=[],l=0;l<r.length;l++)i.push(r[l][s]);_.push($B.fast_tuple(i))}return t.items=_,zip_iterator.$factory(_)}return $B.generator.$factory(function*(t){for(;;){for(var e=[],r=!0,n=0;n<t.length;n++)try{e.push($B.$call(t[n])())}catch(t){if(t.__class__!=_b_.StopIteration)throw t;r=!1;break}if(!r)return;yield $B.fast_tuple(e)}},"zip")(n)}),zip_iterator=$B.make_iterator_class("zip");function no_set_attr(t,e){throw void 0!==t[e]?_b_.AttributeError.$factory("'"+t.$infos.__name__+"' object attribute '"+e+"' is read-only"):_b_.AttributeError.$factory("'"+t.$infos.__name__+"' object has no attribute '"+e+"'")}zip.__iter__=function(t){return zip_iterator.$factory(t.items)},$B.set_func_names(zip,"builtins");var True=!0,False=!1,ellipsis=$B.make_class("ellipsis",function(){return Ellipsis}),Ellipsis={__class__:ellipsis,__bool__:function(){return True}},$key,$func;for($key in $B.$comps)switch($B.$comps[$key]){case"ge":case"gt":case"le":case"lt":ellipsis["__"+$B.$comps[$key]+"__"]=function(e){return function(t){throw _b_.TypeError.$factory("unorderable types: ellipsis() "+e+" "+$B.class_name(t))}}($key)}for($func in Ellipsis)"function"==typeof Ellipsis[$func]&&(Ellipsis[$func].__str__=function(t){return function(){return"<method-wrapper "+t+" of Ellipsis object>"}}($func));$B.set_func_names(ellipsis);var FunctionCode=$B.make_class("function code"),FunctionGlobals=$B.make_class("function globals");$B.Function={__class__:_b_.type,__code__:{__class__:FunctionCode,__name__:"function code"},__globals__:{__class__:FunctionGlobals,__name__:"function globals"},__mro__:[_b_.object],$infos:{__name__:"function",__module__:"builtins"},$is_class:!0},$B.Function.__delattr__=function(t,e){if("__dict__"==e)throw _b_.TypeError.$factory("can't deleted function __dict__")},$B.Function.__dir__=function(t){var e=t.$infos||{},t=t.$attrs||{};return Object.keys(e).concat(Object.keys(t))},$B.Function.__eq__=function(t,e){return t===e},$B.Function.__get__=function(t,e){if(e===_b_.None)return t;function r(){return t(e,...arguments)}return r.__class__=$B.method,void 0===t.$infos&&(console.log("no $infos",t),console.log($B.last($B.frames_stack))),r.$infos={__name__:t.$infos.__name__,__qualname__:$B.class_name(e)+"."+t.$infos.__name__,__self__:e,__func__:t},r},$B.Function.__getattribute__=function(t,e){if(t.$infos&&void 0!==t.$infos[e]){if("__code__"!=e)return"__annotations__"==e?$B.obj_dict(t.$infos[e]):t.$infos.hasOwnProperty(e)?t.$infos[e]:void 0;var r={__class__:code};for(e in t.$infos.__code__)r[e]=t.$infos.__code__[e];return r.name=t.$infos.__name__,r.filename=t.$infos.__code__.co_filename,r.co_code=t+"",r}if(t.$infos&&t.$infos.__dict__&&void 0!==t.$infos.__dict__.$string_dict[e])return t.$infos.__dict__.$string_dict[e][0];if("__closure__"!=e)return"__globals__"==e?$B.obj_dict($B.imported[t.$infos.__module__]):t.$attrs&&void 0!==t.$attrs[e]?t.$attrs[e]:_b_.object.__getattribute__(t,e);var n=t.$infos.__code__.co_freevars;if(0==n.length)return None;for(var o=[],s=0;s<n.length;s++)try{o.push($B.cell.$factory($B.$check_def_free(n[s])))}catch(t){o.push($B.cell.$factory(None))}return _b_.tuple.$factory(o)},$B.Function.__repr__=function(t){return void 0===t.$infos?"<function "+t.name+">":"<function "+t.$infos.__qualname__+">"},$B.Function.__mro__=[_b_.object],$B.Function.__setattr__=function(t,e,r){if("__closure__"==e)throw _b_.AttributeError.$factory("readonly attribute");if("__defaults__"==e){if(r===_b_.None)r=[];else if(!isinstance(r,_b_.tuple))throw _b_.TypeError.$factory("__defaults__ must be set to a tuple object");var n=t.$set_defaults;if(void 0===n)throw _b_.AttributeError.$factory("cannot set attribute "+e+" of "+_b_.str.$factory(t));if(!t.$infos||!t.$infos.__code__)throw _b_.AttributeError.$factory("cannot set attribute "+e+" of "+_b_.str.$factory(t));for(var o=t.$infos.__code__.co_argcount,s=t.$infos.__code__.co_varnames.slice(0,o),a={},_=r.length-1;0<=_;_--){var i=s.length-r.length+_;if(i<0)break;a[s[i]]=r[_]}var l=t.$infos.$class,o=n(a);return o.$set_defaults=n,l?((l[t.$infos.__name__]=o).$infos.$class=l,o.$infos.__defaults__=r):(t.$infos.$defaults=r,t.$infos.__defaults__=r),_b_.None}void 0!==t.$infos[e]?t.$infos[e]=r:(t.$attrs=t.$attrs||{},t.$attrs[e]=r)},$B.Function.$factory=function(){},$B.set_func_names($B.Function,"builtins"),_b_.__BRYTHON__=__BRYTHON__,$B.builtin_funcs=["abs","all","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dir","divmod","eval","exec","exit","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","locals","max","min","next","oct","open","ord","pow","print","quit","repr","round","setattr","sorted","sum","vars"];var builtin_function=$B.builtin_function=$B.make_class("builtin_function_or_method",function(t){return t.__class__=builtin_function,t});builtin_function.__getattribute__=$B.Function.__getattribute__,builtin_function.__reduce_ex__=builtin_function.__reduce__=function(t){return t.$infos.__name__},builtin_function.__repr__=builtin_function.__str__=function(t){return"<built-in function "+t.$infos.__name__+">"},$B.set_func_names(builtin_function,"builtins");var method_wrapper=$B.make_class("method_wrapper");method_wrapper.__repr__=method_wrapper.__str__=function(t){return"<method wrapper '"+t.$infos.__name__+"' of function object>"},$B.set_func_names(method_wrapper,"builtins");var wrapper_descriptor=$B.wrapper_descriptor=$B.make_class("wrapper_descriptor");wrapper_descriptor.__getattribute__=$B.Function.__getattribute__,wrapper_descriptor.__repr__=wrapper_descriptor.__str__=function(t){return"<slot wrapper '"+t.$infos.__name__+"' of '"+t.__objclass__.$infos.__name__+"' object>"},$B.set_func_names(wrapper_descriptor,"builtins"),$B.builtin_classes=["bool","bytearray","bytes","classmethod","complex","dict","enumerate","filter","float","frozenset","int","list","map","memoryview","object","property","range","reversed","set","slice","staticmethod","str","super","tuple","type","zip"];for(var other_builtins=["Ellipsis","False","None","True","__debug__","__import__","copyright","credits","license","NotImplemented"],builtin_names=$B.builtin_funcs.concat($B.builtin_classes).concat(other_builtins),i=0;i<builtin_names.length;i++){var name=builtin_names[i],orig_name=name,name1="print"==name?"$print":"eval"==name?"$$eval":"super"==name?"$$super":"open"==name?"$url_open":name;try{_b_[name]=eval(name1),-1<$B.builtin_funcs.indexOf(orig_name)&&(_b_[name].__class__=builtin_function,_b_[name].$infos={__module__:"builtins",__name__:orig_name,__qualname__:orig_name})}catch(err){}}_b_.open=$url_open,_b_.print=$print,_b_.super=$$super,_b_.object.__init__.__class__=wrapper_descriptor,_b_.object.__new__.__class__=builtin_function}(__BRYTHON__),function($B){var _b_=$B.builtins;$B.del_exc=function(){$B.last($B.frames_stack)[1].$current_exception=void 0},$B.set_exc=function(t){var e=$B.last($B.frames_stack);void 0===e&&console.log("no frame",t,t.__class__,t.args),e[1].$current_exception=$B.exception(t)},$B.get_exc=function(){return $B.last($B.frames_stack)[1].$current_exception},$B.$raise=function(t){if(void 0===t){var e=$B.get_exc();if(void 0!==e)throw e;throw _b_.RuntimeError.$factory("No active exception to reraise")}if(_b_.isinstance(t,BaseException))throw t=t.__class__===_b_.StopIteration&&$B.last($B.frames_stack)[1].$is_generator?_b_.RuntimeError.$factory("generator raised StopIteration"):t;if(t.$is_class&&_b_.issubclass(t,BaseException)){if(t===_b_.StopIteration&&$B.last($B.frames_stack)[1].$is_generator)throw _b_.RuntimeError.$factory("generator raised StopIteration");throw $B.$call(t)()}throw _b_.TypeError.$factory("exceptions must derive from BaseException")},$B.$syntax_err_line=function(t,e,r,n,o){var s={},a=1,e="$"==e.charAt(0)?"<string>":e;if(void 0===r)t.$line_info=o+","+e,t.args=$B.fast_tuple([$B.$getitem(t.args,0),$B.fast_tuple([e,o,0,0])]);else{for(var _={1:0},i=0,l=r.length;i<l;i++)s[i]=a,"\n"==r.charAt(i)&&(_[++a]=i);for(;void 0===o;)o=s[n],n--;t.$line_info=o+","+e;var c=r.split("\n")[o-1],u=n-_[o],l=c.length;for(t.text=c+"\n",(u-=l-c.length)<0&&(u=0);" "==c.charAt(0);)c=c.substr(1),0<u&&u--;t.offset=u+1,t.args=$B.fast_tuple([$B.$getitem(t.args,0),$B.fast_tuple([e,o,u,c])])}t.lineno=o,t.msg=t.args[0],t.filename=e},$B.$SyntaxError=function(t,e,r,n,o,s){void 0!==s&&void 0!==s.line_info&&(o=s.line_info);e=_b_.SyntaxError.$factory(e);throw $B.$syntax_err_line(e,t,r,n,o),e},$B.$IndentationError=function(t,e,r,n,o,s){$B.frames_stack.push([t,{$line_info:o+","+t},t,{$src:r}]),void 0!==s&&void 0!==s.line_info&&(o=s.line_info);e=_b_.IndentationError.$factory(e);throw $B.$syntax_err_line(e,t,r,n,o),e},$B.print_stack=function(t){t=t||$B.frames_stack;var r=[];return t.forEach(function(t){var e=t[1].$line_info;void 0!==e&&((e=e.split(","))[1].startsWith("$exec")&&(e[1]="<module>"),r.push(e[1]+" line "+e[0]),(t=$B.file_cache[t[3].__file__])&&(e=t.split("\n")[parseInt(e[0])-1],r.push("  "+e.trim())))}),console.log("print stack ok",r),r.join("\n")};var traceback=$B.traceback=$B.make_class("traceback",function(t,e){$B.last($B.frames_stack);return void 0===e&&(e=t.$stack),{__class__:traceback,$stack:e,exc:t}});traceback.__getattribute__=function(e,t){var r,n;switch("tb_frame"!==t&&"tb_lineno"!==t&&"tb_lasti"!==t&&"tb_next"!==t||(0==e.$stack.length&&console.log("no stack",t),r=e.$stack[0],n=e.exc.$line_infos[e.exc.$line_infos.length-e.$stack.length]),t){case"tb_frame":return frame.$factory(e.$stack);case"tb_lineno":var o=void 0===n||r[0].startsWith($B.lambda_magic)?r[4]&&r[4].$infos&&r[4].$infos.__code__?r[4].$infos.__code__.co_firstlineno:-1:parseInt(n.split(",")[0]);return o;case"tb_lasti":if(void 0===n)return console.log("no line info",e.$stack),"";for(var s,a,_=n.split(","),i=e.$stack.length-1;0<=i;i--){var l=e.$stack[i];if(l[2]==_[1].replace(/\./g,"_")){a=l[3].__file__,s=l[3].$src;break}}if(void 0===s&&($B.file_cache.hasOwnProperty(a)?s=$B.file_cache[a]:$B.imported[_[1]]&&$B.imported[_[1]].__file__&&(s=$B.file_cache[$B.imported[_[1]].__file__],console.log("from filecache",n,$B.imported[_[1]].__file__))),void 0===s)return console.log("stack",e.$stack),console.log(a),console.log("no src for",_),"";try{return s.split("\n")[parseInt(_[0]-1)].trim()}catch(t){throw console.log("error in attr tb_lasti of",e),console.log(s,_),t}case"tb_next":return e.$stack.length<=1?_b_.None:traceback.$factory(e.exc,e.$stack.slice(1));default:return _b_.object.__getattribute__(e,t)}},$B.set_func_names(traceback,"builtins");var frame=$B.make_class("frame",function(t,e){var r=t,t={__class__:frame,f_builtins:{},$stack:t.slice()};if(t.$pos=e=void 0===e?0:e,r.length){var n,r=r[e],e=r[0];try{t.f_locals=$B.obj_dict(r[1])}catch(t){throw console.log("err "+t),t}t.f_globals=$B.obj_dict(r[3]),void 0!==r[3].__file__&&(n=r[3].__file__),e.startsWith("$exec")&&(n="<string>"),void 0===r[1].$line_info?t.f_lineno=-1:(o=r[1].$line_info.split(","),t.f_lineno=parseInt(o[0]),o=o[1],$B.imported.hasOwnProperty(o)&&(n=$B.imported[o].__file__),t.f_lineno=parseInt(r[1].$line_info.split(",")[0]));var o=e.startsWith("$exec")?"<module>":e;e==r[2]?o="<module>":e.startsWith("lc"+$B.lambda_magic)?o="<listcomp>":r[1].$name?o=r[1].$name:r[1].$comprehension?o="<"+r[1].$comprehension+">":r[1].$list_comp?o="<listcomp>":4<r.length&&(o=r[4].$infos?r[4].$infos.__name__:r[4].name,void 0===r[4].$infos?r[4].name.startsWith("__ge")?o="<genexpr>":r[4].name.startsWith("set_comp"+$B.lambda_magic)?o="<setcomp>":r[4].name.startsWith("lambda"+$B.lambda_magic)&&(o="<lambda>"):void 0===n&&r[4].$infos.__code__&&(void 0===(n=r[4].$infos.__code__.co_filename)&&(n=r[4].$infos.__module__),t.f_lineno=r[4].$infos.__code__.co_firstlineno)),4<r.length&&void 0!==r[4].$infos?t.f_code=r[4].$infos.__code__:(t.f_code={co_name:o,co_filename:n},r[1].$comp_code&&$B.update_obj(t.f_code,r[1].$comp_code)),t.f_code.__class__=$B.code,t.f_code.co_code=_b_.None,void 0===n&&(t.f_code.co_filename="<string>")}return t});frame.__delattr__=function(t,e){"f_trace"==e&&($B.last(t.$stack)[1].$f_trace=_b_.None)},frame.__getattr__=function(t,e){if("f_back"==e)return 0<t.$pos?frame.$factory(t.$stack.slice(0,t.$stack.length-1),t.$pos-1):_b_.None;if("clear"==e)return function(){};if("f_trace"==e){t=$B.last(t.$stack)[1];return void 0===t.$f_trace?_b_.None:t.$f_trace}},frame.__setattr__=function(t,e,r){"f_trace"==e&&($B.last(t.$stack)[1].$f_trace=r)},frame.__str__=frame.__repr__=function(t){return"<frame object, file "+t.f_code.co_filename+", line "+t.f_lineno+", code "+t.f_code.co_name+">"},$B.set_func_names(frame,"builtins"),$B._frame=frame;var BaseException=_b_.BaseException={__class__:_b_.type,__bases__:[_b_.object],__mro__:[_b_.object],args:[],$infos:{__name__:"BaseException",__module__:"builtins"},$is_class:!0};BaseException.__init__=function(t){t.args=_b_.tuple.$factory(void 0===arguments[1]?[]:[arguments[1]])},BaseException.__repr__=function(t){var e=t.__class__.$infos.__name__;return void 0!==t.args[0]&&(e+="("+_b_.repr(t.args[0])),1<t.args.length&&(e+=", "+_b_.repr($B.fast_tuple(t.args.slice(1)))),e+")"},BaseException.__str__=function(t){return 0<t.args.length?_b_.str.$factory(t.args[0]):t.__class__.$infos.__name__},BaseException.__new__=function(t){var e=_b_.BaseException.$factory();return e.__class__=t,e.__dict__=$B.empty_dict(),e};var getExceptionTrace=function(t,e){if(void 0===t.__class__)return 1<$B.debug&&console.log("no class",t),t+"";var r="";void 0!==t.$js_exc&&e&&(r+="\nJS stack:\n"+t.$js_exc.stack+"\n"),r+="Traceback (most recent call last):";t.$line_info;for(var n=0;n<t.$stack.length;n++){var o=t.$stack[n];if(o[1]&&o[1].$line_info){var s,a=o[1].$line_info.split(",");if(t.module==a[1]&&(s=t.src),!e)if(void 0===(s=o[3].$src))if($B.VFS&&$B.VFS.hasOwnProperty(o[2]))s=$B.VFS[o[2]][1];else if(!(s=$B.file_cache[o[3].__file__]))continue;var _=o[3].__file__||"<string>",i="$"==a[1].charAt(0);i&&0,r+="\n  File "+_+" line "+a[0],4<o.length?o[4].$infos?(_=o[4].$infos.__name__).startsWith("lc"+$B.lambda_magic)?r+=", in <listcomp>":_.startsWith("lambda_"+$B.lambda_magic)?r+=", in <lambda>":r+=", in "+_:o[4].name.startsWith("__ge")?r+=", in <genexpr>":o[4].name.startsWith("set_comp"+$B.lambda_magic)?r+=", in <setcomp>":o[4].name.startsWith("lc"+$B.lambda_magic)?r+=", in <listcomp>":console.log("frame[4]",o[4]):o[1].$list_comp?r+=", in <listcomp>":o[1].$dict_comp?r+=", in <dictcomp>":r+=", in <module>",void 0===s||i||(r+="\n    "+(i=(i=s.split("\n")[parseInt(a[0])-1])&&i.replace(/^[ ]+/g,"")))}}return t.__class__===_b_.SyntaxError&&(r+="\n  File "+t.args[1][0]+", line "+t.args[1][1]+"\n    "+t.args[1][3]),r};BaseException.__getattr__=function(t,e){if("info"==e)return getExceptionTrace(t,!1);if("infoWithInternal"==e)return getExceptionTrace(t,!0);if("__traceback__"==e)return void 0!==t.$traceback?t.$traceback:traceback.$factory(t);throw _b_.AttributeError.$factory(t.__class__.$infos.__name__+" has no attribute '"+e+"'")},BaseException.with_traceback=function(t,e){return t.$traceback=e,t},$B.deep_copy=function(t){var e=[];for(const o of t){var r=[o[0],{},o[2],{}];void 0!==o[4]&&r.push(o[4]);for(const s of[1,3])for(var n in o[s])r[s][n]=o[s][n];e.push(r)}return e},$B.save_stack=function(){return $B.deep_copy($B.frames_stack)},$B.restore_stack=function(t,e){$B.frames_stack=t,$B.frames_stack[$B.frames_stack.length-1][1]=e},$B.freeze=function(t){if(void 0===t.$stack){t.$line_infos=[];for(var e=0,r=$B.frames_stack.length;e<r;e++)t.$line_infos.push($B.frames_stack[e][1].$line_info);t.$stack=$B.frames_stack.slice(),$B.frames_stack.length&&(t.$line_info=$B.last($B.frames_stack)[1].$line_info)}};var show_stack=$B.show_stack=function(t){for(const e of t=t||$B.frames_stack)console.log(e[0],e[1].$line_info)};function $make_exc(names,parent){for(var _str=[],pos=0,i=0;i<names.length;i++){var name=names[i],code="",code,name;Array.isArray(name)&&(code=name[1],name=name[0]),$B.builtins_scope[name]=!0;var $exc=(BaseException.$factory+"").replace(/BaseException/g,name),$exc=$exc.replace("//placeholder//",code);_str[pos++]="_b_."+name+" = {__class__:_b_.type, __bases__: [_b_."+parent.$infos.__name__+"], __mro__: [_b_."+parent.$infos.__name__+"].concat(parent.__mro__), $is_class: true,$infos: {__name__:'"+name+"'}}",_str[pos++]="_b_."+name+".$factory = "+$exc,_str[pos++]="_b_."+name+'.$factory.$infos = {__name__: "'+name+'", __qualname__: "'+name+'"}',_str[pos++]="$B.set_func_names(_b_."+name+", 'builtins')"}try{eval(_str.join(";"))}catch(err){throw console.log("--err"+err),err}}BaseException.$factory=function(){var err=Error();return err.args=$B.fast_tuple(Array.prototype.slice.call(arguments)),err.__class__=_b_.BaseException,err.$py_error=!0,$B.freeze(err),eval("//placeholder//"),err.__cause__=_b_.None,err.__context__=_b_.None,err.__suppress_context__=!1,err},BaseException.$factory.$infos={__name__:"BaseException",__qualname__:"BaseException"},$B.set_func_names(BaseException),_b_.BaseException=BaseException,$B.exception=function(t,e){if(t.__class__){s=t;if($B.freeze(s),e)for(var r=$B.last($B.frames_stack)[0],n=0,o=s.$stack.length;n<o;n++)if(s.$stack[n][0]==r){s.$stack=s.$stack.slice(n),s.$traceback=traceback.$factory(s);break}}else{var s;if(console.log("Javascript exception:",t),console.log($B.last($B.frames_stack)),console.log("recursion error ?",$B.is_recursion_error(t)),(s=Error()).__name__="Internal Javascript error: "+(t.__name__||t.name),s.__class__=_b_.Exception,s.$js_exc=t,$B.is_recursion_error(t))return _b_.RecursionError.$factory("too much recursion");"ReferenceError"==t.name?(s.__name__="NameError",s.__class__=_b_.NameError):"InternalError"==t.name&&(s.__name__="RuntimeError",s.__class__=_b_.RuntimeError),s.__cause__=_b_.None,s.__context__=_b_.None,s.__suppress_context__=!1;t="<Javascript "+t.name+">: "+(t.message||"<"+t+">");s.args=_b_.tuple.$factory([t]),s.$py_error=!0,$B.freeze(s)}return s},$B.is_exc=function(t,e){for(var r=(t=void 0===t.__class__?$B.exception(t):t).$is_class?t:t.__class__,n=0;n<e.length;n++){var o=e[n];if(void 0===r&&console.log("exc class undefined",t),_b_.issubclass(r,o))return!0}return!1},$B.is_recursion_error=function(t){console.log("test is js exc is recursion error",t,t+"");var e=(t+"").split(":"),t=e[0].trim(),e=e[1].trim();return"InternalError"==t&&"too much recursion"==e||"Error"==t&&"Out of stack space"==e||"RangeError"==t&&"Maximum call stack size exceeded"==e},$make_exc(["SystemExit","KeyboardInterrupt","GeneratorExit","Exception"],BaseException),$make_exc([["StopIteration","err.value = arguments[0]"],["StopAsyncIteration","err.value = arguments[0]"],"ArithmeticError","AssertionError","AttributeError","BufferError","EOFError",["ImportError","err.name = arguments[0]"],"LookupError","MemoryError","NameError","OSError","ReferenceError","RuntimeError",["SyntaxError","err.msg = arguments[0]"],"SystemError","TypeError","ValueError","Warning"],_b_.Exception),$make_exc(["FloatingPointError","OverflowError","ZeroDivisionError"],_b_.ArithmeticError),$make_exc([["ModuleNotFoundError","err.name = arguments[0]"]],_b_.ImportError),$make_exc(["IndexError","KeyError"],_b_.LookupError),$make_exc(["UnboundLocalError"],_b_.NameError),$make_exc(["BlockingIOError","ChildProcessError","ConnectionError","FileExistsError","FileNotFoundError","InterruptedError","IsADirectoryError","NotADirectoryError","PermissionError","ProcessLookupError","TimeoutError"],_b_.OSError),$make_exc(["BrokenPipeError","ConnectionAbortedError","ConnectionRefusedError","ConnectionResetError"],_b_.ConnectionError),$make_exc(["NotImplementedError","RecursionError"],_b_.RuntimeError),$make_exc(["IndentationError"],_b_.SyntaxError),$make_exc(["TabError"],_b_.IndentationError),$make_exc(["UnicodeError"],_b_.ValueError),$make_exc(["UnicodeDecodeError","UnicodeEncodeError","UnicodeTranslateError"],_b_.UnicodeError),$make_exc(["DeprecationWarning","PendingDeprecationWarning","RuntimeWarning","SyntaxWarning","UserWarning","FutureWarning","ImportWarning","UnicodeWarning","BytesWarning","ResourceWarning"],_b_.Warning),$make_exc(["EnvironmentError","IOError","VMSError","WindowsError"],_b_.OSError),$B.$TypeError=function(t){throw _b_.TypeError.$factory(t)};var se=_b_.SyntaxError.$factory;_b_.SyntaxError.$factory=function(){var t=arguments[0];if(t.__class__===_b_.SyntaxError)return t;var e=se.apply(null,arguments),r=$B.last($B.frames_stack);return r&&(line_info=r[1].$line_info,e.filename=r[3].__file__,e.lineno=parseInt(line_info.split(",")[0]),(r=$B.file_cache[r[3].__file__])&&(lines=r.split("\n"),e.text=lines[e.lineno-1]),e.offset=t.offset),e},_b_.SyntaxError}(__BRYTHON__),function(l){var c=l.builtins,a=c.None,u={__class__:c.type,__mro__:[c.object],$infos:{__module__:"builtins",__name__:"range"},$is_class:!0,$native:!0,$match_sequence_pattern:!0,$descriptors:{start:!0,step:!0,stop:!0}};function s(t,e){var r=u.__len__(t);return 0==r?t.start:r<e?t.stop:l.add(t.start,l.mul(t.step,e))}u.__contains__=function(e,r){if(0==u.__len__(e))return!1;try{r=l.int_or_bool(r)}catch(t){try{return u.index(e,r),!0}catch(t){return!1}}var t=l.sub(r,e.start),n=l.floordiv(t,e.step),n=l.mul(e.step,n);return!!l.eq(n,t)&&(l.gt(e.stop,e.start)?l.ge(r,e.start)&&l.gt(e.stop,r):l.ge(e.start,r)&&l.gt(r,e.stop))},u.__delattr__=function(t,e,r){throw c.AttributeError.$factory("readonly attribute")},u.__eq__=function(t,e){if(c.isinstance(e,u)){var r=u.__len__(t);return l.eq(r,u.__len__(e))?0==r||!!l.eq(t.start,e.start)&&(1==r||l.eq(t.step,e.step)):!1}return!1},u.__getitem__=function(t,e){if(c.isinstance(e,c.slice)){var r=c.slice.$conv_for_seq(e,u.__len__(t)),n=l.mul(t.step,r.step),o=s(t,r.start),r=s(t,r.stop);return u.$factory(o,r,n)}"number"!=typeof e&&(e=l.$GetInt(e)),l.gt(0,e)&&(e=l.add(e,u.__len__(t)));e=l.add(t.start,l.mul(e,t.step));if(l.gt(t.step,0)&&(l.ge(e,t.stop)||l.gt(t.start,e))||l.gt(0,t.step)&&(l.ge(t.stop,e)||l.gt(e,t.start)))throw c.IndexError.$factory("range object index out of range");return e},u.__hash__=function(t){var e=u.__len__(t);return 0==e?c.hash(c.tuple.$factory([0,a,a])):1==e?c.hash(c.tuple.$factory([1,t.start,a])):c.hash(c.tuple.$factory([e,t.start,t.step]))};var f={__class__:c.type,__mro__:[c.object],__iter__:function(t){return t},__next__:function(t){return c.next(t.obj)},$infos:{__name__:"range_iterator",__module__:"builtins"},$is_class:!0,$factory:function(t){return{__class__:f,obj:t}}};l.set_func_names(f,"builtins"),u.__iter__=function(t){var e={__class__:u,start:t.start,stop:t.stop,step:t.step};return t.$safe?e.$counter=t.start-t.step:e.$counter=l.sub(t.start,t.step),f.$factory(e)},u.__len__=function(t){if(l.gt(t.step,0)){if(l.ge(t.start,t.stop))return 0;var e=l.sub(t.stop,l.add(1,t.start)),r=l.floordiv(e,t.step),n=l.add(1,r)}else{if(l.ge(t.stop,t.start))return 0;e=l.sub(t.start,l.add(1,t.stop)),r=l.floordiv(e,l.mul(-1,t.step));n=l.add(1,r)}return void 0===l.maxsize&&(l.maxsize=l.long_int.__pow__(l.long_int.$factory(2),63),l.maxsize=l.long_int.__sub__(l.maxsize,1)),n},u.__next__=function(t){if(t.$safe){if(t.$counter+=t.step,0<t.step&&t.$counter>=t.stop||t.step<0&&t.$counter<=t.stop)throw c.StopIteration.$factory("")}else if(t.$counter=l.add(t.$counter,t.step),l.gt(t.step,0)&&l.ge(t.$counter,t.stop)||l.gt(0,t.step)&&l.ge(t.stop,t.$counter))throw c.StopIteration.$factory("");return t.$counter},u.__reversed__=function(t){var e=l.sub(u.__len__(t),1);return u.$factory(l.add(t.start,l.mul(e,t.step)),l.sub(t.start,t.step),l.mul(-1,t.step))},u.__repr__=function(t){l.builtins_repr_check(u,arguments);var e="range("+c.str.$factory(t.start)+", "+c.str.$factory(t.stop);return 1!=t.step&&(e+=", "+c.str.$factory(t.step)),e+")"},u.__setattr__=function(t,e,r){throw c.AttributeError.$factory("readonly attribute")},u.start=function(t){return t.start},u.step=function(t){return t.step},u.stop=function(t){return t.stop},u.count=function(t,e){if(c.isinstance(e,[c.int,c.float,c.bool]))return c.int.$factory(u.__contains__(t,e));for(var r,n=u.__iter__(t),o=f.__next__,s=0;;)try{r=o(n),l.rich_comp("__eq__",e,r)&&s++}catch(t){if(c.isinstance(t,c.StopIteration))return s;throw t}},u.index=function(e,r){var n,t=l.args("index",2,{self:null,other:null},["self","other"],arguments,{},null,null),e=t.self,r=t.other;try{r=l.int_or_bool(r)}catch(t){for(var o=u.__iter__(e),s=f.__next__,a=0;;)try{if(n=s(o),l.rich_comp("__eq__",r,n))return a;a++}catch(t){if(c.isinstance(t,c.StopIteration))throw c.ValueError.$factory(c.str.$factory(r)+" not in range");throw t}}var _=l.sub(r,e.start),i=l.floordiv(_,e.step),t=l.mul(e.step,i);if(l.eq(t,_)){if(l.gt(e.stop,e.start)&&l.ge(r,e.start)&&l.gt(e.stop,r)||l.ge(e.start,e.stop)&&l.ge(e.start,r)&&l.gt(r,e.stop))return i;throw c.ValueError.$factory(c.str.$factory(r)+" not in range")}throw c.ValueError.$factory(c.str.$factory(r)+" not in range")},u.$factory=function(){var t=l.args("range",3,{start:null,stop:null,step:null},["start","stop","step"],arguments,{start:null,stop:null,step:null},null,null),e=t.start,r=t.stop,t=t.step;if(null===r&&null===t){if(null==e)throw c.TypeError.$factory("range expected 1 arguments, got 0");return r=l.PyNumber_Index(e),{__class__:u,start:0,stop:r,step:1,$is_range:!0,$safe:"number"==typeof r}}if(null===t&&(t=1),e=l.PyNumber_Index(e),r=l.PyNumber_Index(r),0==(t=l.PyNumber_Index(t)))throw c.ValueError.$factory("range arg 3 must not be zero");return{__class__:u,start:e,stop:r,step:t,$is_range:!0,$safe:"number"==typeof e&&"number"==typeof r&&"number"==typeof t}},l.set_func_names(u,"builtins");var n={__class__:c.type,__mro__:[c.object],$infos:{__module__:"builtins",__name__:"slice"},$is_class:!0,$native:!0,$descriptors:{start:!0,step:!0,stop:!0}};function o(t){for(var e=["start","stop","step"],r=[],n=0;n<e.length;n++){var o=t[e[n]];if(o===c.None)r.push(o);else try{r.push(l.PyNumber_Index(o))}catch(t){throw c.TypeError.$factory("slice indices must be integers or None or have an __index__ method")}}return r}n.__eq__=function(t,e){t=o(t),e=o(e);return t[0]==e[0]&&t[1]==e[1]&&t[2]==e[2]},n.__repr__=function(t){return l.builtins_repr_check(n,arguments),"slice("+c.str.$factory(t.start)+", "+c.str.$factory(t.stop)+", "+c.str.$factory(t.step)+")"},n.__setattr__=function(t,e,r){throw c.AttributeError.$factory("readonly attribute")},n.$conv_for_seq=function(t,e){var r,n=t.step===a?1:l.PyNumber_Index(t.step),o=l.gt(0,n),s=l.sub(e,1);if(0==n)throw c.ValueError.$factory("slice step cannot be zero");return t.start===a?r=o?s:0:(r=l.PyNumber_Index(t.start),l.gt(0,r)&&(r=l.add(r,e),l.gt(0,r)&&(r=0)),l.ge(r,e)&&(r=n<0?s:e)),t.stop===a?stop=o?-1:e:(stop=l.PyNumber_Index(t.stop),l.gt(0,stop)&&(stop=l.add(stop,e)),l.ge(stop,e)&&(stop=o?s:e)),{start:r,stop:stop,step:n}},n.start=function(t){return t.start},n.step=function(t){return t.step},n.stop=function(t){return t.stop},n.indices=function(t,e){var r=l.args("indices",2,{self:null,length:null},["self","length"],arguments,{},null,null),n=l.$GetInt(r.length);n<0&&c.ValueError.$factory("length should not be negative");var o,s,r=t.step==c.None?1:t.step;return r<0?(o=t.start,s=t.stop,o=o==c.None?n-1:o<0?c.max(-1,o+n):c.min(n-1,t.start),s=t.stop==c.None?-1:s<0?c.max(-1,s+n):c.min(n-1,t.stop)):(o=t.start==c.None?0:c.min(n,t.start),s=t.stop==c.None?n:c.min(n,t.stop),o<0&&(o=c.max(0,o+n)),s<0&&(s=c.max(0,s+n))),c.tuple.$factory([o,s,r])},n.$factory=function(){var t,e,r=l.args("slice",3,{start:null,stop:null,step:null},["start","stop","step"],arguments,{stop:null,step:null},null,null),r=null===r.stop&&null===r.step?(t=c.None,e=r.start,c.None):(t=r.start,e=r.stop,null===r.step?c.None:r.step),r={__class__:n,start:t,stop:e,step:r};return o(r),r},l.set_func_names(n,"builtins"),c.range=u,c.slice=n}(__BRYTHON__),function(d){var h=d.builtins,m={},g={};function r(t,e,r){if(void 0===e){e=[];for(var n="\r\n \t",o=0,s=n.length;o<s;o++)e.push(n.charCodeAt(o))}else{if(!h.isinstance(e,y))throw h.TypeError.$factory("Type str doesn't support the buffer API");e=e.source}if("l"==r){for(o=0,s=t.source.length;o<s&&-1!=e.indexOf(t.source[o]);o++);return y.$factory(t.source.slice(o))}for(o=t.source.length-1;0<=o&&-1!=e.indexOf(t.source[o]);o--);return y.$factory(t.source.slice(0,o+1))}function n(t){return!h.isinstance(t,[y,b])}d.to_bytes=function(t){var e;if(h.isinstance(t,[y,b]))e=t.source;else{t=d.$getattr(t,"tobytes",null);if(null===t)throw h.TypeError.$factory("object doesn't support the buffer protocol");e=d.$call(t)().source}return e};var b={__class__:h.type,__mro__:[h.object],$buffer_protocol:!0,$infos:{__module__:"builtins",__name__:"bytearray"},$is_class:!0};["__delitem__","clear","copy","count","index","pop","remove","reverse","sort"].forEach(function(t){var s;b[t]=(s=t,function(t){for(var e=[t.source],r=1,n=1,o=arguments.length;n<o;n++)e[r++]=arguments[n];return h.list[s].apply(null,e)})});var e=d.make_iterator_class("bytearray_iterator");b.__iter__=function(t){return e.$factory(t.source)},b.__mro__=[h.object],b.__repr__=b.__str__=function(t){return"bytearray("+y.__repr__(t)+")"},b.__setitem__=function(t,e,r){if(h.isinstance(e,h.int)){if(!h.isinstance(r,h.int))throw h.TypeError.$factory("an integer is required");if(255<r)throw h.ValueError.$factory("byte must be in range(0, 256)");var n=e;if(!(0<=(n=e<0?t.source.length+n:n)&&n<t.source.length))throw h.IndexError.$factory("list index out of range");t.source[n]=r}else{if(!h.isinstance(e,h.slice))throw h.TypeError.$factory("list indices must be integer, not "+d.class_name(e));var o=e.start===h.None?0:e.start,e=e.stop===h.None?t.source.length:e.stop;o<0&&(o=t.source.length+o),e<0&&(e=t.source.length+e),t.source.splice(o,e-o);try{for(var s=h.list.$factory(r),a=s.length-1;0<=a;a--){if(!h.isinstance(s[a],h.int))throw h.TypeError.$factory("an integer is required");if(255<s[a])throw h.ValueError.$factory("byte must be in range(0, 256)");t.source.splice(o,0,s[a])}}catch(t){throw h.TypeError.$factory("can only assign an iterable")}}},b.append=function(t,e){if(2!=arguments.length)throw h.TypeError.$factory("append takes exactly one argument ("+(arguments.length-1)+" given)");if(!h.isinstance(e,h.int))throw h.TypeError.$factory("an integer is required");if(255<e)throw h.ValueError.$factory("byte must be in range(0, 256)");t.source[t.source.length]=e},b.extend=function(e,t){if(e.in_iteration)throw h.BufferError.$factory("Existing exports of data: object cannot be re-sized");if(t.__class__===b||t.__class__===y)return t.source.forEach(function(t){e.source.push(t)}),h.None;for(var r=h.iter(t);;)try{b.__add__(e,h.next(r))}catch(t){if(t===h.StopIteration)break;throw t}return h.None},b.insert=function(t,e,r){if(3!=arguments.length)throw h.TypeError.$factory("insert takes exactly 2 arguments ("+(arguments.length-1)+" given)");if(!h.isinstance(r,h.int))throw h.TypeError.$factory("an integer is required");if(255<r)throw h.ValueError.$factory("byte must be in range(0, 256)");h.list.insert(t.source,e,r)},b.$factory=function(){for(var t=[b],e=0,r=arguments.length;e<r;e++)t.push(arguments[e]);return b.__new__.apply(null,t)};var y={__class__:h.type,__mro__:[h.object],$buffer_protocol:!0,$infos:{__module__:"builtins",__name__:"bytes"},$is_class:!0,__add__:function(t,e){if(h.isinstance(e,y))return t.__class__.$factory(t.source.concat(e.source));if(h.isinstance(e,b))return t.__class__.$factory(y.__add__(t,y.$factory(e)));if(h.isinstance(e,h.memoryview))return t.__class__.$factory(y.__add__(t,h.memoryview.tobytes(e)));throw h.TypeError.$factory("can't concat bytes to "+h.str.$factory(e))},__contains__:function(t,e){if("number"==typeof e)return-1<t.source.indexOf(e);if(t.source.length<e.source.length)return!1;for(var r=e.source.length,n=0;n<t.source.length-e.source.length+1;n++){for(var o=!0,s=0;s<r;s++)if(e.source[n+s]!=t.source[s]){o=!1;break}if(o)return!0}return!1}},o=d.make_iterator_class("bytes_iterator");y.__iter__=function(t){return o.$factory(t.source)},y.__eq__=function(t,e){return!n(e)&&d.$getattr(t.source,"__eq__")(e.source)},y.__ge__=function(t,e){return n(e)?h.NotImplemented:h.list.__ge__(t.source,e.source)},y.__getitem__=function(t,e){if(h.isinstance(e,h.int)){var r=e;if(0<=(r=e<0?t.source.length+r:r)&&r<t.source.length)return t.source[r];throw h.IndexError.$factory("index out of range")}if(h.isinstance(e,h.slice)){var n=h.slice.$conv_for_seq(e,t.source.length),o=n.start,s=n.stop,a=n.step,_=[],i=null,r=0;if(0<a){if((s=Math.min(s,t.source.length))<=o)return y.$factory([]);for(i=o;i<s;i+=a)_[r++]=t.source[i]}else{if(o<=s)return y.$factory([]);for(s=Math.max(0,s),i=o;s<=i;i+=a)_[r++]=t.source[i]}return y.$factory(_)}if(h.isinstance(e,h.bool))return t.source.__getitem__(h.int.$factory(e))},y.__gt__=function(t,e){return n(e)?h.NotImplemented:h.list.__gt__(t.source,e.source)},y.__hash__=function(t){if(void 0===t)return y.__hashvalue__||d.$py_next_hash--;for(var e=1,r=0,n=t.source.length;r<n;r++)e=101*e+t.source[r]&4294967295;return e},y.__init__=function(){return h.None},y.__le__=function(t,e){return n(e)?h.NotImplemented:h.list.__le__(t.source,e.source)},y.__len__=function(t){return t.source.length},y.__lt__=function(t,e){return n(e)?h.NotImplemented:h.list.__lt__(t.source,e.source)},y.__mod__=function(t,e){t=B(t,"ascii","strict"),e=h.str.__mod__(t,e);return h.str.encode(e,"ascii")},y.__mul__=function(){for(var t=d.args("__mul__",2,{self:null,other:null},["self","other"],arguments,{},null,null),e=d.PyNumber_Index(t.other),r=[],n=t.self.source,o=n.length,s=0;s<e;s++)for(var a=0;a<o;a++)r.push(n[a]);t=y.$factory();return t.source=r,t},y.__ne__=function(t,e){return!y.__eq__(t,e)},y.__new__=function(t,e,r,n){var o=d.args("__new__",4,{cls:null,source:null,encoding:null,errors:null},["cls","source","encoding","errors"],arguments,{source:[],encoding:"utf-8",errors:"strict"},null,null);return y.$new(o.cls,o.source,o.encoding,o.errors)},y.$new=function(t,e,r,n){var t={__class__:t},o=[],s=0;if(void 0!==e)if("number"==typeof e||h.isinstance(e,h.int))for(var a=e;a--;)o[s++]=0;else if("string"==typeof e||h.isinstance(e,h.str)){if(void 0===r)throw h.TypeError.$factory("string argument without an encoding");o=i(e,r||"utf-8",n||"strict")}else for(o=h.list.$factory(e),a=0;a<o.length;a++){try{var _=h.int.$factory(o[a])}catch(t){throw h.TypeError.$factory("'"+d.class_name(o[a])+"' object cannot be interpreted as an integer")}if(_<0||255<_)throw h.ValueError.$factory("bytes must be in range(0, 256)")}return t.source=o,t.encoding=r,t.errors=n,t},y.__repr__=y.__str__=function(t){for(var e="",r=0,n=t.source.length;r<n;r++){var o,s=t.source[r];10==s?e+="\\n":s<32||128<=s?e+="\\x"+(o=(1==(o=s.toString(16)).length?"0":"")+o):s=="\\".charCodeAt(0)?e+="\\\\":e+=String.fromCharCode(s)}return-1<e.indexOf("'")&&-1==e.indexOf('"')?'b"'+e+'"':"b'"+e.replace(new RegExp("'","g"),"\\'")+"'"},y.__reduce_ex__=function(t){return y.__repr__(t)},y.capitalize=function(t){var t=t.source,e=t.length,r=t.slice();96<r[0]&&r[0]<123&&(r[0]-=32);for(var n=1;n<e;++n)64<r[n]&&r[n]<91&&(r[n]+=32);return y.$factory(r)},y.center=function(){var t=d.args("center",3,{self:null,width:null,fillbyte:null},["self","width","fillbyte"],arguments,{fillbyte:y.$factory([32])},null,null),e=t.width-t.self.source.length;if(e<=0)return y.$factory(t.self.source);e=y.ljust(t.self,t.self.source.length+Math.floor(e/2),t.fillbyte);return y.rjust(e,t.width,t.fillbyte)},y.count=function(){var t=d.args("count",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:-1},null,null),e=0,r=-1,n=0;if("number"==typeof t.sub){if(t.sub<0||255<t.sub)throw h.ValueError.$factory("byte must be in range(0, 256)");n=1}else{if(!t.sub.__class__)throw h.TypeError.$factory("first argument must be a bytes-like object, not '"+d.class_name(t.sub)+"'");if(!t.sub.__class__.$buffer_protocol)throw h.TypeError.$factory("first argument must be a bytes-like object, not '"+d.class_name(t.sub)+"'");n=t.sub.source.length}for(;-1!=(r=y.find(t.self,t.sub,Math.max(r+n,t.start),t.end))&&e++,-1!=r;);return e},y.decode=function(t,e,r){var n=d.args("decode",3,{self:null,encoding:null,errors:null},["self","encoding","errors"],arguments,{encoding:"utf-8",errors:"strict"},null,null);switch(n.errors){case"strict":case"ignore":case"replace":case"surrogateescape":case"surrogatepass":case"xmlcharrefreplace":case"backslashreplace":return B(n.self,n.encoding,n.errors)}},y.endswith=function(){var t=d.args("endswith",4,{self:null,suffix:null,start:null,end:null},["self","suffix","start","end"],arguments,{start:-1,end:-1},null,null);if(h.isinstance(t.suffix,y)){for(var e=-1==t.start?t.self.source.length-t.suffix.source.length:Math.min(t.self.source.length-t.suffix.source.length,t.start),r=-1==t.end?-1==t.start?t.self.source.length:e+t.suffix.source.length:Math.min(t.self.source.length-1,t.end),n=!0,o=t.suffix.source.length-1,s=t.suffix.source.length;0<=o&&n;--o)n=t.self.source[r-s+o]==t.suffix.source[o];return n}if(h.isinstance(t.suffix,h.tuple)){for(o=0;o<t.suffix.length;++o){if(!h.isinstance(t.suffix[o],y))throw h.TypeError.$factory("endswith first arg must be bytes or a tuple of bytes, not "+d.class_name(t.suffix));if(y.endswith(t.self,t.suffix[o],t.start,t.end))return!0}return!1}throw h.TypeError.$factory("endswith first arg must be bytes or a tuple of bytes, not "+d.class_name(t.suffix))},y.expandtabs=function(){var e=d.args("expandtabs",2,{self:null,tabsize:null},["self","tabsize"],arguments,{tabsize:8},null,null),r=[];for(let t=0;t<e.tabsize;++t)r.push(32);var n=e.self.source.slice();for(let t=0;t<n.length;++t)9===n[t]&&n.splice.apply(n,[t,1].concat(r));return h.bytes.$factory(n)},y.find=function(t,e){var r,n,o;if(o=2!=arguments.length?(e=(r=d.args("find",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:-1},null,null)).sub,n=r.start,r.end):(n=0,-1),"number"==typeof e){if(e<0||255<e)throw h.ValueError.$factory("byte must be in range(0, 256)");return t.source.slice(0,-1==o?void 0:o).indexOf(e,n)}if(!e.__class__)throw h.TypeError.$factory("first argument must be a bytes-like object, not '"+d.class_name(e)+"'");if(!e.__class__.$buffer_protocol)throw h.TypeError.$factory("first argument must be a bytes-like object, not '"+d.class_name(e)+"'");o=-1==o?t.source.length:Math.min(t.source.length,o);for(var s=e.source.length,a=n;a<=o-s;a++){for(var _=t.source.slice(a,a+s),i=!0,l=0;l<s;l++)if(_[l]!=e.source[l]){i=!1;break}if(i)return a}return-1},y.fromhex=function(){for(var t=d.args("fromhex",2,{cls:null,string:null},["cls","string"],arguments,{},null,null),e=t.string.replace(/\s/g,""),r=[],n=0;n<e.length;n+=2){if(n+2>e.length)throw h.ValueError.$factory("non-hexadecimal number found in fromhex() arg");r.push(h.int.$factory(e.substr(n,2),16))}return t.cls.$factory(r)},y.hex=function(){var t=d.args("hex",3,{self:null,sep:null,bytes_per_sep:null},["self","sep","bytes_per_sep"],arguments,{sep:"",bytes_per_sep:1},null,null),e=t.self,r=t.sep,n=t.bytes_per_sep,o="",s="0123456789abcdef",a=n,t=a,_=e.source.length;n<0?t=a=-n:0==n?r="":0==(t=_%a)&&(t=a);for(var i=0,l=t;i<_;i++){var c=e.source[i];0==l&&(o+=r,l=a),l--,o+=s[c>>4],o+=s[15&c]}return o},y.index=function(){var t=d.args("rfind",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:-1},null,null),t=y.find(t.self,t.sub,t.start,t.end);if(-1==t)throw h.ValueError.$factory("subsection not found");return t},y.isalnum=function(t){for(var e=t.source,r=e.length,n=0<r,o=0;o<r&&n;++o)n=96<e[o]&&e[o]<123||64<e[o]&&e[o]<91||47<e[o]&&e[o]<58;return n},y.isalpha=function(t){for(var e=t.source,r=e.length,n=0<r,o=0;o<r&&n;++o)n=96<e[o]&&e[o]<123||64<e[o]&&e[o]<91;return n},y.isdigit=function(t){var e=t.source,r=e.length,n=0<r;for(let t=0;t<r&&n;++t)n=47<e[t]&&e[t]<58;return n},y.islower=function(t){var e=t.source,r=e.length,n=!1;for(let t=0;t<r;++t)if(n=n||96<e[t]&&e[t]<123,64<e[t]&&e[t]<91)return!1;return n},y.isspace=function(t){var e=t.source,r=e.length;for(let t=0;t<r;++t)switch(e[t]){case 9:case 10:case 11:case 12:case 13:case 32:break;default:return!1}return!0},y.isupper=function(t){var e=t.source,r=e.length,n=!1;for(let t=0;t<r;++t)if(n=n||64<e[t]&&e[t]<91,96<e[t]&&e[t]<123)return!1;return n},y.istitle=function(t){for(var e,r,n,o=t.source,s=o.length,a=!1,_=0;_<s;++_){if(n=96<o[_]&&o[_]<123,r=64<o[_]&&o[_]<91,(e=n||r)&&a&&r||!a&&n)return!1;a=e}return!0},y.join=function(){for(var t=d.args("join",2,{self:null,iterable:null},["self","iterable"],arguments,{}),e=t.self,t=t.iterable,r=d.$getattr(h.iter(t),"__next__"),n=e.__class__.$factory(),o=!0;;)try{var s=r();o?o=!1:n=y.__add__(n,e),n=y.__add__(n,s)}catch(t){if(h.isinstance(t,h.StopIteration))break;throw t}return n};y.lower=function(t){for(var e,r=[],n=0,o=0,s=t.source.length;o<s;o++)t.source[o]&&(r[n++]=65<=(e=t.source[o])&&e<=90?e+32:e);return y.$factory(r)},y.ljust=function(){var t=d.args("ljust",3,{self:null,width:null,fillbyte:null},["self","width","fillbyte"],arguments,{fillbyte:y.$factory([32])},null,null);if(!t.fillbyte.__class__)throw h.TypeError.$factory("argument 2 must be a byte string of length 1, not '"+d.class_name(t.fillbyte)+"'");if(!t.fillbyte.__class__.$buffer_protocol)throw h.TypeError.$factory("argument 2 must be a byte string of length 1, not '"+d.class_name(t.fillbyte)+"'");for(var e=[],r=t.width-t.self.source.length,n=0;n<r;++n)e.push(t.fillbyte.source[0]);return y.$factory(t.self.source.concat(e))},y.lstrip=function(t,e){return r(t,e,"l")},y.maketrans=function(t,e){for(var r=[],e=d.to_bytes(e),n=0;n<256;n++)r[n]=n;for(var n=0,o=t.source.length;n<o;n++)r[t.source[n]]=e[n];return y.$factory(r)},y.partition=function(){var t=d.args("partition",2,{self:null,sep:null},["self","sep"],arguments,{},null,null);if(!t.sep.__class__)throw h.TypeError.$factory("a bytes-like object is required, not '"+d.class_name(t.sep)+"'");if(!t.sep.__class__.$buffer_protocol)throw h.TypeError.$factory("a bytes-like object is required, not '"+d.class_name(t.sep)+"'");var e=t.sep.source.length,r=t.self.source,t=y.find(t.self,t.sep);return h.tuple.$factory([y.$factory(r.slice(0,t)),y.$factory(r.slice(t,t+e)),y.$factory(r.slice(t+e))])},y.removeprefix=function(){var t=d.args("removeprefix",2,{self:null,prefix:null},["self","prefix"],arguments,{},null,null);if(!h.isinstance(t.prefix,[y,b]))throw h.ValueError.$factory("prefix should be bytes, not "+`'${d.class_name(t.prefix)}'`);return y.startswith(t.self,t.prefix)?y.__getitem__(t.self,h.slice.$factory(t.prefix.source.length,h.None)):y.__getitem__(t.self,h.slice.$factory(0,h.None))},y.removesuffix=function(){var t=d.args("removesuffix",2,{self:null,prefix:null},["self","suffix"],arguments,{},null,null);if(!h.isinstance(t.suffix,[y,b]))throw h.ValueError.$factory("suffix should be bytes, not "+`'${d.class_name(t.suffix)}'`);return y.endswith(t.self,t.suffix)?y.__getitem__(t.self,h.slice.$factory(0,t.suffix.source.length+1)):y.__getitem__(t.self,h.slice.$factory(0,h.None))},y.replace=function(){var t=d.args("replace",4,{self:null,old:null,new:null,count:null},["self","old","new","count"],arguments,{count:-1},null,null),e=[],r=t.self,n=r.source,o=n.length,s=t.old,a=t.new,_=0<=t.count?t.count:n.length;if(!t.old.__class__)throw h.TypeError.$factory("first argument must be a bytes-like object, not '"+d.class_name(t.old)+"'");if(!t.old.__class__.$buffer_protocol)throw h.TypeError.$factory("first argument must be a bytes-like object, not '"+d.class_name(t.sep)+"'");if(!t.new.__class__)throw h.TypeError.$factory("second argument must be a bytes-like object, not '"+d.class_name(t.old)+"'");if(!t.new.__class__.$buffer_protocol)throw h.TypeError.$factory("second argument must be a bytes-like object, not '"+d.class_name(t.sep)+"'");for(var i=0;i<o;i++)if(y.startswith(r,s,i)&&_){for(var l=0;l<a.source.length;l++)e.push(a.source[l]);i+=s.source.length-1,_--}else e.push(n[i]);return y.$factory(e)},y.rfind=function(t,e){var r,n,o,s;if(s=2==arguments.length&&e.__class__===y?(n=e,o=0,-1):(t=(r=d.args("rfind",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:-1},null,null)).self,n=r.sub,o=r.start,r.end),"number"==typeof n){if(n<0||255<n)throw h.ValueError.$factory("byte must be in range(0, 256)");return r.self.source.slice(o,-1==r.end?void 0:r.end).lastIndexOf(n)+o}if(!n.__class__)throw h.TypeError.$factory("first argument must be a bytes-like object, not '"+d.class_name(r.sub)+"'");if(!n.__class__.$buffer_protocol)throw h.TypeError.$factory("first argument must be a bytes-like object, not '"+d.class_name(n)+"'");s=-1==s?t.source.length:Math.min(t.source.length,s);for(var a=n.source.length,_=s-a;o<=_;--_){for(var i=t.source.slice(_,_+a),l=!0,c=0;c<a;c++)if(i[c]!=n.source[c]){l=!1;break}if(l)return _}return-1},y.rindex=function(){var t=d.args("rfind",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:-1},null,null),t=y.rfind(t.self,t.sub,t.start,t.end);if(-1==t)throw h.ValueError.$factory("subsection not found");return t},y.rjust=function(){var t=d.args("rjust",3,{self:null,width:null,fillbyte:null},["self","width","fillbyte"],arguments,{fillbyte:y.$factory([32])},null,null);if(!t.fillbyte.__class__)throw h.TypeError.$factory("argument 2 must be a byte string of length 1, not '"+d.class_name(t.fillbyte)+"'");if(!t.fillbyte.__class__.$buffer_protocol)throw h.TypeError.$factory("argument 2 must be a byte string of length 1, not '"+d.class_name(t.fillbyte)+"'");for(var e=[],r=t.width-t.self.source.length,n=0;n<r;++n)e.push(t.fillbyte.source[0]);return y.$factory(e.concat(t.self.source))},y.rpartition=function(){var t=d.args("rpartition",2,{self:null,sep:null},["self","sep"],arguments,{},null,null);if(!t.sep.__class__)throw h.TypeError.$factory("a bytes-like object is required, not '"+d.class_name(t.sep)+"'");if(!t.sep.__class__.$buffer_protocol)throw h.TypeError.$factory("a bytes-like object is required, not '"+d.class_name(t.sep)+"'");var e=t.sep.source.length,r=t.self.source,t=y.rfind(t.self,t.sep);return h.tuple.$factory([y.$factory(r.slice(0,t)),y.$factory(r.slice(t,t+e)),y.$factory(r.slice(t+e))])},y.rstrip=function(t,e){return r(t,e,"r")},y.split=function(){var t=d.args("split",2,{self:null,sep:null},["self","sep"],arguments,{sep:y.$factory([32])},null,null),e=[],r=0,n=0;if(!t.sep.__class__)throw h.TypeError.$factory("a bytes-like object is required, not '"+d.class_name(t.sep)+"'");if(!t.sep.__class__.$buffer_protocol)throw h.TypeError.$factory("a bytes-like object is required, not '"+d.class_name(t.sep)+"'");for(var o=t.sep.source,s=o.length,a=t.self.source,_=a.length;n<_;){for(var i=!0,l=0;l<s&&i;l++)a[n+l]!=o[l]&&(i=!1);i?(e.push(y.$factory(a.slice(r,n))),n=r=n+s):n++}return(i||r<n)&&e.push(y.$factory(a.slice(r,n))),e},y.splitlines=function(t){var e=d.args("splitlines",2,{self:null,keepends:null},["self","keepends"],arguments,{keepends:!1},null,null);if(!h.isinstance(e.keepends,[h.bool,h.int]))throw h.TypeError("integer argument expected, got "+d.get_class(e.keepends).__name);var r=h.int.$factory(e.keepends),n=[],o=e.self.source,s=0,a=0;if(!o.length)return n;for(;a<o.length;)a<o.length-1&&13==o[a]&&10==o[a+1]?(n.push(y.$factory(o.slice(s,r?a+2:a))),s=a+=2):13==o[a]||10==o[a]?(n.push(y.$factory(o.slice(s,r?a+1:a))),s=a+=1):a++;return s<o.length&&n.push(y.$factory(o.slice(s))),n},y.startswith=function(){var t=d.args("startswith",3,{self:null,prefix:null,start:null},["self","prefix","start"],arguments,{start:0},null,null),e=t.start;if(h.isinstance(t.prefix,y)){for(var r=!0,n=0;n<t.prefix.source.length&&r;n++)r=t.self.source[e+n]==t.prefix.source[n];return r}if(h.isinstance(t.prefix,h.tuple)){for(var o=[],n=0;n<t.prefix.length;n++){if(!h.isinstance(t.prefix[n],y))throw h.TypeError.$factory("startswith first arg must be bytes or a tuple of bytes, not "+d.class_name(t.prefix));o=o.concat(t.prefix[n].source)}var s=y.$factory(o);return y.startswith(t.self,s,e)}throw h.TypeError.$factory("startswith first arg must be bytes or a tuple of bytes, not "+d.class_name(t.prefix))},y.strip=function(t,e){t=y.lstrip(t,e);return y.rstrip(t,e)},y.swapcase=function(t){for(var t=t.source,e=t.length,r=t.slice(),n=0;n<e;++n)96<r[n]&&r[n]<123?r[n]-=32:64<r[n]&&r[n]<91&&(r[n]+=32);return y.$factory(r)},y.title=function(t){var t=t.source,e=t.length;buffer=t.slice(),current_char_is_letter=!1,prev_char_was_letter=!1,is_uppercase=!1,is_lowercase=!1;for(var r=0;r<e;++r)is_lowercase=96<buffer[r]&&buffer[r]<123,is_uppercase=64<buffer[r]&&buffer[r]<91,current_char_is_letter=is_lowercase||is_uppercase,current_char_is_letter&&(prev_char_was_letter&&is_uppercase?buffer[r]+=32:!prev_char_was_letter&&is_lowercase&&(buffer[r]-=32)),prev_char_was_letter=current_char_is_letter;return y.$factory(buffer)},y.translate=function(t,e,r){if(void 0===r)r=[];else{if(!h.isinstance(r,y))throw h.TypeError.$factory("Type "+d.get_class(r).__name+" doesn't support the buffer API");r=r.source}var n=[],o=0;if(h.isinstance(e,y)&&256==e.source.length)for(var s=0,a=t.source.length;s<a;s++)-1<r.indexOf(t.source[s])||(n[o++]=e.source[t.source[s]]);return y.$factory(n)};function v(t,e,r){throw h.UnicodeEncodeError.$factory("'"+t+"' codec can't encode character "+h.hex(e)+" in position "+r)}function x(t){t=t.toLowerCase();return t=(t=(t="windows"==t.substr(0,7)?"cp"+t.substr(7):t).startsWith("cp")||t.startsWith("iso")?t.replace("-",""):t).replace(/-/g,"_")}y.upper=function(t){for(var e,r=[],n=0,o=0,s=t.source.length;o<s;o++)t.source[o]&&(r[n++]=97<=(e=t.source[o])&&e<=122?e-32:e);return y.$factory(r)},y.zfill=function(t,e){for(var r=t.source.slice(),n=43==r[0]||45==r[0]?1:0,o=e-t.source.length,s=[],a=0;a<o;++a)s.push(48);return r.splice.apply(r,[n,0].concat(s)),y.$factory(r)};var t,B=d.decode=function(t,e,r){var n,o,s="",a=t.source,_=x(e);switch(_){case"utf_8":case"utf-8":case"utf8":case"U8":case"UTF":for(var i=0,s="";i<a.length;){var l=a[i],c=null;if(128&l)if(l>>5==6)if(void 0===a[i+1]?c=[l,i,"end"]:128!=(192&a[i+1])&&(c=[l,i,"continuation"]),null!==c){if("ignore"!=r)throw h.UnicodeDecodeError.$factory("'utf-8' codec can't decode byte 0x"+c[0].toString(16)+"  in position "+c[1]+("end"==c[2]?": unexpected end of data":": invalid continuation byte"));i++}else{var u=31&l;u<<=6,u+=63&a[i+1],s+=String.fromCodePoint(u),i+=2}else if(l>>4==14)if(void 0===a[i+1]?c=[l,i,"end",i+1]:128!=(192&a[i+1])?c=[l,i,"continuation",i+2]:void 0===a[i+2]?c=[l,i+"-"+(i+1),"end",i+2]:128!=(192&a[i+2])&&(c=[l,i,"continuation",i+3]),null!==c)if("ignore"==r)i=c[3];else{if("surrogateescape"!=r)throw h.UnicodeDecodeError.$factory("'utf-8' codec can't decode byte 0x"+c[0].toString(16)+"  in position "+c[1]+("end"==c[2]?": unexpected end of data":": invalid continuation byte"));for(var f=i;f<c[3];f++)s+=String.fromCodePoint(56448+a[f]-128);i=c[3]}else{u=15&l;u<<=12,u+=(63&a[i+1])<<6,u+=63&a[i+2],s+=String.fromCodePoint(u),i+=3}else if(l>>3==30)if(void 0===a[i+1]?c=[l,i,"end",i+1]:128!=(192&a[i+1])?c=[l,i,"continuation",i+2]:void 0===a[i+2]?c=[l,i+"-"+(i+1),"end",i+2]:128!=(192&a[i+2])?c=[l,i,"continuation",i+3]:void 0===a[i+3]?c=[l,i+"-"+(i+1)+"-"+(i+2),"end",i+3]:128!=(192&a[i+2])&&(c=[l,i,"continuation",i+3]),null!==c)if("ignore"==r)i=c[3];else{if("surrogateescape"!=r)throw h.UnicodeDecodeError.$factory("'utf-8' codec can't decode byte 0x"+c[0].toString(16)+"  in position "+c[1]+("end"==c[2]?": unexpected end of data":": invalid continuation byte"));for(f=i;f<c[3];f++)s+=String.fromCodePoint(56448+a[f]-128);i=c[3]}else{u=15&l;u<<=18,u+=(63&a[i+1])<<12,u+=(63&a[i+2])<<6,u+=63&a[i+3],s+=String.fromCodePoint(u),i+=4}else if("ignore"==r)i++;else{if("surrogateescape"!=r)throw h.UnicodeDecodeError.$factory("'utf-8' codec can't decode byte 0x"+l.toString(16)+" in position "+i+": invalid start byte");s+=String.fromCodePoint(56448+a[i]-128),i++}else s+=String.fromCodePoint(l),i++}return s;case"latin_1":case"windows1252":case"iso-8859-1":case"iso8859-1":case"8859":case"cp819":case"latin":case"latin1":case"L1":a.forEach(function(t){s+=String.fromCharCode(t)});break;case"unicode_escape":return(t=t.__class__===y||t.__class__===b?B(t,"latin-1","strict"):t).replace(/\\n/g,"\n").replace(/\\a/g,"").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\t/g,"\t").replace(/\\'/g,"'").replace(/\\"/g,'"');case"raw_unicode_escape":return(t=t.__class__===y||t.__class__===b?B(t,"latin-1","strict"):t).replace(/\\u([a-fA-F0-9]{4})/g,function(t){t=parseInt(t.substr(2),16);return String.fromCharCode(t)});case"ascii":for(var f=0,p=a.length;f<p;f++)if((u=a[f])<=127)s+=String.fromCharCode(u);else if("ignore"!=r){var $="'ascii' codec can't decode byte 0x"+u.toString(16)+" in position "+f+": ordinal not in range(128)";throw h.UnicodeDecodeError.$factory($)}break;default:try{void 0!==g[n=_]||(o=h.__import__("encodings."+n))[n].getregentry&&(g[n]=d.$getattr(o[n].getregentry(),"decode"))}catch(t){throw console.log(a,e,"error load_decoder",t),h.LookupError.$factory("unknown encoding: "+_)}return g[_](t)[0]}return s},i=d.encode=function(){var t,e,r=d.args("encode",3,{s:null,encoding:null,errors:null},["s","encoding","errors"],arguments,{encoding:"utf-8",errors:"strict"},null,null),n=r.s,o=r.encoding,s=r.errors,a=[],_=0,i=x(o);switch(i){case"utf-8":case"utf_8":case"utf8":for(var l=[],c=0,u=n.length;c<u;c++)(f=n.charCodeAt(c))<127?l.push(f):f<2047?l.push(192+(f>>6),128+(63&f)):f<65535?l.push(224+(f>>12),128+((4095&f)>>6),128+(63&f)):console.log("4 bytes");return l;case"latin":case"latin1":case"latin-1":case"latin_1":case"L1":case"iso8859_1":case"iso_8859_1":case"8859":case"cp819":case"windows1252":for(c=0,u=n.length;c<u;c++)(f=n.charCodeAt(c))<=255?a[_++]=f:"ignore"!=s&&v(o,c);break;case"ascii":for(c=0,u=n.length;c<u;c++)(f=n.charCodeAt(c))<=127?a[_++]=f:"ignore"!=s&&v(o,c);break;case"raw_unicode_escape":for(var f,c=0,u=n.length;c<u;c++)if((f=n.charCodeAt(c))<256)a[_++]=f;else for(var p="\\u"+(p=(p=f.toString(16)).length%2?"0"+p:p),$=0;$<p.length;$++)a[_++]=p.charCodeAt($);break;default:try{void 0!==m[t=i]||(e=h.__import__("encodings."+t))[t].getregentry&&(m[t]=d.$getattr(e[t].getregentry(),"encode"))}catch(t){throw h.LookupError.$factory("unknown encoding: "+o)}a=m[i](n)[0].source}return a};for(t in y.$factory=function(t,e,r){var n=d.args("bytes",3,{source:null,encoding:null,errors:null},["source","encoding","errors"],arguments,{source:[],encoding:"utf-8",errors:"strict"},null,null);return y.$new(y,n.source,n.encoding,n.errors)},y.__class__=h.type,y.$is_class=!0,y)void 0===b[t]&&"function"==typeof y[t]&&(b[t]=function(t){return function(){return y[t].apply(null,arguments)}}(t));d.set_func_names(y,"builtins"),y.fromhex=h.classmethod.$factory(y.fromhex),d.set_func_names(b,"builtins"),b.fromhex=h.classmethod.$factory(b.fromhex),h.bytes=y,h.bytearray=b}(__BRYTHON__),function($B){var _b_=$B.builtins,object=_b_.object,$N=_b_.None;function create_type(t){return $B.get_class(t).$factory()}function clone(t){var e=create_type(t);for(key in e.$items=t.$items.slice(),t.$hashes)e.$hashes[key]=t.$hashes[key];return e}var set={__class__:_b_.type,$infos:{__module__:"builtins",__name__:"set"},$is_class:!0,$native:!0,__and__:function(t,e,r){try{$test(r,e)}catch(t){return _b_.NotImplemented}for(var n=create_type(t),o=0,s=t.$items.length;o<s;o++)_b_.getattr(e,"__contains__")(t.$items[o])&&set.add(n,t.$items[o]);return n},__class_getitem__:function(t,e){return Array.isArray(e)||(e=[e]),$B.GenericAlias.$factory(t,e)},__contains__:function(t,e){if("number"==typeof e||e instanceof Number){if(isNaN(e)){for(var r=t.$items.length-1;0<=r;r--)if(isNaN(t.$items[r]))return!0;return!1}return e instanceof Number?-1<t.$numbers.indexOf(e.valueOf()):-1<t.$items.indexOf(e)}if("string"==typeof e)return-1<t.$items.indexOf(e);var n=_b_.hash(e),o=e.__class__===_b_.tuple;if(t.$hashes[n])for(var r=0,s=t.$hashes[n].length;r<s;r++){if(o&&t.$hashes[n][r].__class__===_b_.tuple)return!0;if($B.rich_comp("__eq__",t.$hashes[n][r],e))return!0}return!1},__eq__:function(t,e){if(void 0===e)return t===set;if(_b_.isinstance(e,[_b_.set,_b_.frozenset])){if(e.$items.length!=t.$items.length)return!1;for(var r=0,n=t.$items.length;r<n;r++)if(!1===set.__contains__(t,e.$items[r]))return!1;return!0}return _b_.NotImplemented},__format__:function(t,e){return set.__str__(t)},__ge__:function(t,e){return _b_.isinstance(e,[set,frozenset])?set.__le__(e,t):_b_.NotImplemented},__gt__:function(t,e){return _b_.isinstance(e,[set,frozenset])?set.__lt__(e,t):_b_.NotImplemented}};set.__hash__=_b_.None,set.__init__=function(t,e,r){if(void 0===r&&Array.isArray(e)){for(var n=0,o=e.length;n<o;n++)$add(t,e[n]);return $N}var s=$B.args("__init__",2,{self:null,iterable:null},["self","iterable"],arguments,{iterable:[]},null,null),t=s.self,e=s.iterable;if(_b_.isinstance(e,[set,frozenset])){for(var a in t.$items=e.$items.slice(),t.$hashes={},e.$hashes)t.$hashes[a]=e.$hashes[a];return $N}for(var _=$B.$iter(e);;)try{$add(t,_b_.next(_))}catch(t){if(_b_.isinstance(t,_b_.StopIteration))break;throw t}return $N};var set_iterator=$B.make_iterator_class("set iterator");function set_repr(t){if(klass_name=$B.class_name(t),0===t.$items.length)return klass_name+"()";var e=klass_name+"({",r="})";"set({"==e&&(e="{",r="}");var n=[];if($B.repr.enter(t))return klass_name+"(...)";t.$items.sort();for(var o=0,s=t.$items.length;o<s;o++){var a=_b_.repr(t.$items[o]);a===t||a===t.$items[o]?n.push("{...}"):n.push(a)}return n=n.join(", "),$B.repr.leave(t),e+n+r}function $test(t,e,r){if(void 0===t&&!_b_.isinstance(e,[set,frozenset]))throw _b_.TypeError.$factory("unsupported operand type(s) for "+r+": 'set' and '"+$B.class_name(e)+"'")}function $add(t,e){var r,n=!1;if(n="string"==typeof e||"number"==typeof e||e instanceof Number?!0:n){var o=t.$items.indexOf(e);-1==o?e instanceof Number&&-1<t.$numbers.indexOf(e.valueOf())||"number"==typeof e&&-1<t.$numbers.indexOf(e)||(t.$items.push(e),"number"==typeof(n=e.valueOf())&&t.$numbers.push(n)):e!==t.$items[o]&&t.$items.push(e)}else{o=_b_.hash(e);if(void 0===(s=t.$hashes[o]))t.$hashes[o]=[e],t.$items.push(e);else{for(var s,a=0,_=(s=t.$hashes[o]).length;a<_;a++)if(r=s[a],$B.rich_comp("__eq__",e,r))return $N;t.$hashes[o].push(e),t.$items.push(e)}}return $N}set.__iter__=function(t){return t.$items.sort(function(t,e){t=_b_.hash(t),e=_b_.hash(e);return t==e?0:t<e?-1:1}),set_iterator.$factory(t.$items)},set.__le__=function(t,e){if(_b_.isinstance(e,[set,frozenset])){for(var r=_b_.getattr(e,"__contains__"),n=0,o=t.$items.length;n<o;n++)if(!r(t.$items[n]))return!1;return!0}return _b_.NotImplemented},set.__len__=function(t){return t.$items.length},set.__lt__=function(t,e){return _b_.isinstance(e,[set,frozenset])?set.__le__(t,e)&&set.__len__(t)<_b_.getattr(e,"__len__")():_b_.NotImplemented},set.__mro__=[_b_.object],set.__new__=function(t){if(void 0===t)throw _b_.TypeError.$factory("set.__new__(): not enough arguments");return{__class__:t,$items:[],$numbers:[],$hashes:{}}},set.__or__=function(t,e,r){for(var n=clone(t),o=_b_.getattr($B.$iter(e),"__next__");;)try{set.add(n,o())}catch(t){if(_b_.isinstance(t,_b_.StopIteration))break;throw t}return n.__class__=t.__class__,n},set.__rand__=function(t,e){return set.__and__(t,e)},set.__reduce__=function(t){return _b_.tuple.$factory([t.__class__,_b_.tuple.$factory([t.$items]),$N])},set.__reduce_ex__=function(t,e){return set.__reduce__(t)},set.__repr__=function(t){return $B.builtins_repr_check(set,arguments),set_repr(t)},set.__rsub__=function(t,e){return set.__sub__(e,t)},set.__rxor__=function(t,e){return set.__xor__(t,e)},set.__sub__=function(t,e,r){try{$test(r,e,"-")}catch(t){return _b_.NotImplemented}for(var r=create_type(t),n=_b_.getattr(e,"__contains__"),o=[],s=0,a=t.$items.length;s<a;s++)n(t.$items[s])||o.push(t.$items[s]);return set.__init__.call(null,r,o),r},set.__xor__=function(t,e,r){try{$test(r,e,"^")}catch(t){return _b_.NotImplemented}for(var n=create_type(t),o=_b_.getattr(e,"__contains__"),s=0,a=t.$items.length;s<a;s++)o(t.$items[s])||set.add(n,t.$items[s]);for(s=0,a=e.$items.length;s<a;s++)set.__contains__(t,e.$items[s])||set.add(n,e.$items[s]);return n},$B.make_rmethods(set),set.add=function(){var t=$B.args("add",2,{self:null,item:null},["self","item"],arguments,{},null,null);return $add(t.self,t.item)},set.clear=function(){var t=$B.args("clear",1,{self:null},["self"],arguments,{},null,null);return t.self.$items=[],t.self.$numbers=[],t.self.$hashes={},$N},set.copy=function(){var t=$B.args("copy",1,{self:null},["self"],arguments,{},null,null);if(_b_.isinstance(t.self,frozenset))return t.self;var e=set.$factory();for(key in t.self.$items.forEach(function(t){e.$items.push(t)}),t.self.$numbers.forEach(function(t){e.$numbers.push(t)}),self.$hashes)e.$hashes[key]=self.$hashes[key];return e},set.difference_update=function(t){for(var e=$B.args("difference_update",1,{self:null},["self"],arguments,{},"args",null),r=0;r<e.args.length;r++)for(var n=set.$factory(e.args[r]),o=_b_.getattr($B.$iter(n),"__next__");;)try{var s,a=typeof(s=o());if("string"==a||"number"==a){var _=t.$items.indexOf(s);-1<_&&t.$items.splice(_,1)}else for(var i=0;i<t.$items.length;i++)if($B.rich_comp("__eq__",t.$items[i],s)){t.$items.splice(i,1);var l=_b_.hash(s);if(t.$hashes[l])for(var c=0;c<t.$hashes[l].length;c++)if($B.rich_comp("__eq__",t.$hashes[l][c],s)){t.$hashes[l].splice(c,1);break}}}catch(t){if(_b_.isinstance(t,_b_.StopIteration))break;throw t}return $N},set.discard=function(){var t=$B.args("discard",2,{self:null,item:null},["self","item"],arguments,{},null,null);try{set.remove(t.self,t.item)}catch(t){if(!_b_.isinstance(t,[_b_.KeyError,_b_.LookupError]))throw t}return $N},set.intersection_update=function(){for(var t=$B.args("intersection_update",1,{self:null},["self"],arguments,{},"args",null),e=t.self,r=0;r<t.args.length;r++){for(var n=[],o=set.$factory(t.args[r]),s=0;s<e.$items.length;s++){var a=e.$items[s],_=typeof a;if("string"==_||"number"==_)-1==o.$items.indexOf(a)&&n.push(s);else{var i=!1,_=_b_.hash(a);if(o.$hashes[_]){for(var l=o.$hashes[_],c=0;!i&&c<l.length;c++)$B.rich_comp("__eq__",l[c],a)&&(i=!0);if(!i){n.push(s);for(l=e.$hashes[_],c=0;!i&&c<l.length;c++)$B.rich_comp("__eq__",l[c],a)&&e.$hashes.splice(c,1)}}}}n.sort(function(t,e){return t-e}).reverse();for(s=0;s<n.length;s++)e.$items.splice(n[s],1)}return $N},set.isdisjoint=function(){for(var t=$B.args("is_disjoint",2,{self:null,other:null},["self","other"],arguments,{},null,null),e=0,r=t.self.$items.length;e<r;e++)if(_b_.getattr(t.other,"__contains__")(t.self.$items[e]))return!1;return!0},set.pop=function(t){if(0===t.$items.length)throw _b_.KeyError.$factory("pop from an empty set");var e=t.$items.pop();if("string"!=typeof e&&"number"!=typeof e)for(var r=_b_.hash(e),n=t.$hashes[r],o=0;o<n.length;o++)if($B.rich_comp("__eq__",n[o],e)){t.$hashes[r].splice(o,1);break}return e},set.remove=function(t,e){var r=$B.args("remove",2,{self:null,item:null},["self","item"],arguments,{},null,null),t=r.self,e=r.item;if(_b_.isinstance(e,set)||_b_.hash(e),"string"==typeof e||"number"==typeof e){r=t.$items.indexOf(e);if(-1==r)throw _b_.KeyError.$factory(e);return t.$items.splice(r,1),"number"==typeof e&&t.$numbers.splice(t.$numbers.indexOf(e),1),$N}var n=_b_.hash(e);if(t.$hashes[n]){for(var o=0,s=t.$items.length;o<s;o++)if($B.rich_comp("__eq__",t.$items[o],e)){t.$items.splice(o,1),e instanceof Number&&t.$numbers.splice(t.$numbers.indexOf(e.valueOf()),1);break}for(o=0,s=t.$hashes[n].length;o<s;o++)if($B.rich_comp("__eq__",t.$hashes[n][o],e)){t.$hashes[n].splice(o,1);break}return $N}throw _b_.KeyError.$factory(e)},set.symmetric_difference_update=function(t,e){for(var r=$B.args("symmetric_difference_update",2,{self:null,s:null},["self","s"],arguments,{},null,null),t=r.self,e=r.s,n=_b_.getattr($B.$iter(e),"__next__"),o=[],s=[];;)try{var a,_=typeof(a=n());if("string"==_||"number"==_){var i=t.$items.indexOf(a);-1<i?o.push(i):s.push(a)}else{for(var l=!1,c=0;!l&&c<t.$items.length;c++)$B.rich_comp("__eq__",t.$items[c],a)&&(o.push(c),l=!0);l||s.push(a)}}catch(t){if(_b_.isinstance(t,_b_.StopIteration))break;throw t}o.sort(function(t,e){return t-e}).reverse();for(var u=0;u<o.length;u++)o[u]!=o[u-1]&&t.$items.splice(o[u],1);for(u=0;u<s.length;u++)set.add(t,s[u]);return $N},set.update=function(t){for(var e=$B.args("update",1,{self:null},["self"],arguments,{},"args",null),r=0;r<e.args.length;r++)for(var n=set.$factory(e.args[r]),o=0,s=n.$items.length;o<s;o++)$add(t,n.$items[o]);return $N},set.difference=function(){var t=$B.args("difference",1,{self:null},["self"],arguments,{},"args",null);if(0==t.args.length)return set.copy(t.self);for(var e=clone(t.self),r=0;r<t.args.length;r++)e=set.__sub__(e,set.$factory(t.args[r]),!0);return e};var fc=set.difference+"";function $accept_only_set(n,o){return function(t,e,r){return $test(r,e,o),n(t,e),t}}eval("set.intersection = "+fc.replace(/difference/g,"intersection").replace("__sub__","__and__")),eval("set.symmetric_difference = "+fc.replace(/difference/g,"symmetric_difference").replace("__sub__","__xor__")),eval("set.union = "+fc.replace(/difference/g,"union").replace("__sub__","__or__")),set.issubset=function(){for(var t=$B.args("issubset",2,{self:null,other:null},["self","other"],arguments,{},"args",null),e=_b_.getattr(t.other,"__contains__"),r=0,n=t.self.$items.length;r<n;r++)if(!e(t.self.$items[r]))return!1;return!0},set.issuperset=function(){for(var t=$B.args("issuperset",2,{self:null,other:null},["self","other"],arguments,{},"args",null),e=_b_.getattr(t.self,"__contains__"),r=$B.$iter(t.other);;)try{if(!e(_b_.next(r)))return!1}catch(t){if(_b_.isinstance(t,_b_.StopIteration))return!0;throw t}return!0},set.__iand__=$accept_only_set(set.intersection_update,"&="),set.__isub__=$accept_only_set(set.difference_update,"-="),set.__ixor__=$accept_only_set(set.symmetric_difference_update,"^="),set.__ior__=$accept_only_set(set.update,"|="),set.$factory=function(){var t={__class__:set,$simple:!0,$items:[],$numbers:[],$hashes:{}},e=[t].concat(Array.prototype.slice.call(arguments));return set.__init__.apply(null,e),t},$B.set_func_names(set,"builtins"),set.__class_getitem__=_b_.classmethod.$factory(set.__class_getitem__);var frozenset={__class__:_b_.type,__mro__:[object],$infos:{__module__:"builtins",__name__:"frozenset"},$is_class:!0,$native:!0},attr;for(attr in set)switch(attr){case"add":case"clear":case"discard":case"pop":case"remove":case"update":break;default:null==frozenset[attr]&&("function"==typeof set[attr]?frozenset[attr]=function(t){return function(){return set[t].apply(null,arguments)}}(attr):frozenset[attr]=set[attr])}frozenset.__hash__=function(t){if(void 0===t)return frozenset.__hashvalue__||$B.$py_next_hash--;if(void 0!==t.__hashvalue__)return t.__hashvalue__;var e=1927868237;e*=t.$items.length;for(var r=0,n=t.$items.length;r<n;r++){var o=_b_.hash(t.$items[r]);e^=3644798167*(89869747^o^o<<16)}return t.__hashvalue__=e=-1==(e=69069*e+907133923)?590923713:e},frozenset.__new__=function(t){if(void 0===t)throw _b_.TypeError.$factory("frozenset.__new__(): not enough arguments");return{__class__:t,$simple:!0,$items:[],$numbers:[],$hashes:{}}},frozenset.__repr__=function(t){return $B.builtins_repr_check(frozenset,arguments),set_repr(t)};var singleton_id=Math.floor(Math.random()*Math.pow(2,40));function empty_frozenset(){var t=frozenset.__new__(frozenset);return t.$id=singleton_id,t}frozenset.$factory=function(){var t=$B.args("frozenset",1,{iterable:null},["iterable"],arguments,{iterable:null},null,null);if(null===t.iterable)return empty_frozenset();if(t.iterable.__class__==frozenset)return t.iterable;t=set.$factory(t.iterable);return 0==t.$items.length?empty_frozenset():(t.__class__=frozenset,t)},$B.set_func_names(frozenset,"builtins"),_b_.set=set,_b_.frozenset=frozenset}(__BRYTHON__),function($B){var _b_=$B.builtins,object=_b_.object,_window=self;function to_simple(t){switch(typeof t){case"string":case"number":return t;case"boolean":return t?"true":"false";case"object":if(t===_b_.None)return"null";if(t instanceof Number)return t.valueOf();if(t instanceof String)return t.valueOf();default:throw console.log("erreur",t),_b_.TypeError.$factory("keys must be str, int, float, bool or None, not "+$B.class_name(t))}}$B.pyobj2structuredclone=function(t,e){if(e=void 0===e||e,"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof String)return t;if(t instanceof Number)return t.valueOf();if(t===_b_.None)return null;if(Array.isArray(t)||t.__class__===_b_.list||t.__class__===_b_.tuple){for(var r=[],n=0,o=t.length;n<o;n++)r.push($B.pyobj2structuredclone(t[n]));return r}if(_b_.isinstance(t,_b_.dict)){if(e&&(0<Object.keys(t.$numeric_dict).length||0<Object.keys(t.$object_dict).length))throw _b_.TypeError.$factory("a dictionary with non-string keys does not support structured clone");for(var s=$B.dict_to_list(t),r={},n=0,o=s.length;n<o;n++)r[to_simple(s[n][0])]=$B.pyobj2structuredclone(s[n][1]);return r}return t},$B.structuredclone2pyobj=function(t){if(null===t)return _b_.None;if(void 0===t)return $B.Undefined;if("boolean"==typeof t||"number"==typeof t||"string"==typeof t)return t;if(t instanceof Number||t instanceof String)return t.valueOf();if(Array.isArray(t)||t.__class__===_b_.list||t.__class__===_b_.tuple){for(var e=_b_.list.$factory(),r=0,n=t.length;r<n;r++)e.push($B.structuredclone2pyobj(t[r]));return e}if("object"!=typeof t)throw console.log(t,Array.isArray(t),t.__class__,_b_.list,t.__class__===_b_.list),_b_.TypeError.$factory(_b_.str.$factory(t)+" does not support the structured clone algorithm");var o,e=$B.empty_dict();for(o in t)_b_.dict.$setitem(e,o,$B.structuredclone2pyobj(t[o]));return e};var JSConstructor={__class__:_b_.type,__mro__:[object],$infos:{__module__:"<javascript>",__name__:"JSConstructor"},$is_class:!0,__call__:function(o){return function(){for(var t=[null],e=0,r=arguments.length;e<r;e++)t.push(pyobj2jsobj(arguments[e]));var n=new(o.func.bind.apply(o.func,t));return $B.$JS2Py(n)}},__getattribute__:function(o,t){return"__call__"==t?function(){for(var t=[null],e=0,r=arguments.length;e<r;e++)t.push(pyobj2jsobj(arguments[e]));var n=new(o.func.bind.apply(o.func,t));return $B.$JS2Py(n)}:JSObject.__getattribute__(o,t)},$factory:function(t){return{__class__:JSConstructor,js:t,func:t.js_func}}},jsobj2pyobj=$B.jsobj2pyobj=function(n){switch(n){case!0:case!1:return n}return void 0===n?$B.Undefined:null===n?_b_.None:Array.isArray(n)?_b_.list.$factory(n.map(jsobj2pyobj)):"number"==typeof n?(-1==n.toString().indexOf(".")?_b_.int:_b_.float).$factory(n):"string"==typeof n?$B.String(n):"function"==typeof n?function(){for(var t=[],e=0,r=arguments.length;e<r;e++)t.push(pyobj2jsobj(arguments[e]));return jsobj2pyobj(n.apply(null,t))}:"kw"===n.$nat?n:($B.$isNode(n)?$B.DOMNode:$B.JSObj).$factory(n)},pyobj2jsobj=$B.pyobj2jsobj=function(n){if(!0===n||!1===n)return n;if(n===_b_.None)return null;if(n!==$B.Undefined){var t=$B.get_class(n);if(void 0===t)return n;if(t===JSConstructor)return void 0!==n.js_func?n.js_func:n.js;if(t===$B.DOMNode||-1<t.__mro__.indexOf($B.DOMNode))return n;if(-1<[_b_.list,_b_.tuple].indexOf(t)){var e=[];return n.forEach(function(t){e.push(pyobj2jsobj(t))}),e}if(t===_b_.dict||_b_.issubclass(t,_b_.dict)){var r={};return _b_.list.$factory(_b_.dict.items(n)).forEach(function(t){"function"==typeof t[1]&&t[1].bind(r),r[t[0]]=pyobj2jsobj(t[1])}),r}return t===_b_.float||t===_b_.str?n.valueOf():t!==$B.Function&&t!==$B.method||n.prototype&&n.prototype.constructor===n&&!n.$is_func?n:function(){try{for(var t,e=[],r=0;r<arguments.length;r++)void 0===arguments[r]?e.push(_b_.None):e.push(jsobj2pyobj(arguments[r]));return t=n.prototype.constructor!==n||n.$is_func?n.apply(this,e):new n(...e),pyobj2jsobj(t)}catch(t){throw console.log(t),console.log($B.$getattr(t,"info")),console.log($B.class_name(t)+":",0<t.args.length?t.args[0]:""),t}}}};function pyargs2jsargs(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t[r];if(null!=o&&void 0!==o.$nat){var s=o.kw;if(Array.isArray(s)&&(s=$B.extend(js_attr.name,...s)),0<Object.keys(s).length)throw _b_.TypeError.$factory("A Javascript function can't take keyword arguments")}else e.push($B.pyobj2jsobj(o))}return e}$B.JSConstructor=JSConstructor,$B.JSObj=$B.make_class("JSObj",function(t){if(!Array.isArray(t))if("function"==typeof t)t.$is_js_func=!0,t.__new__=function(){return new t.$js_func(...arguments)};else if("number"==typeof t&&!Number.isInteger(t))return new Number(t);return t}),$B.JSObj.__sub__=function(t,e){if("bigint"==typeof t&&"bigint"==typeof e)return t-e;throw _b_.TypeError.$factory("unsupported operand type(s) for - : '"+$B.class_name(t)+"' and '"+$B.class_name(e)+"'")};var ops={"+":"__add__","*":"__mul__","**":"__pow__","%":"__mod__"},op;for(op in ops)eval("$B.JSObj."+ops[op]+" = "+($B.JSObj.__sub__+"").replace(/-/g,op));$B.JSObj.__eq__=function(t,e){if("object"==typeof t){if(void 0!==t.__eq__)return t.__eq__(e);if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!$B.JSObj.__eq__(t[r],e[r]))return!1}return t===e},$B.JSObj.__ne__=function(t,e){return!$B.JSObj.__eq__(t,e)},$B.JSObj.__getattribute__=function(n,o){if(!1,"new"==o&&"function"==typeof n)return n.$js_func?function(){var t=pyargs2jsargs(arguments);return $B.JSObj.$factory(new n.$js_func(...t))}:function(){var t=pyargs2jsargs(arguments);return $B.JSObj.$factory(new n(...t))};var s=n[o];if(void 0!==(s=null==s&&"function"==typeof n&&n.$js_func?n.$js_func[o]:s))return"function"!=typeof s?$B.JSObj.$factory(s):((t=function(){var e=pyargs2jsargs(arguments),t=n.$js_func||n;try{var r=s.apply(t,e)}catch(t){throw console.log("error",t),console.log("attribute",o,"of self",n,s,e,arguments),t}return void 0===r?$B.Undefined:null===r?_b_.None:$B.JSObj.$factory(r)}).prototype=s.prototype,t.$js_func=s,t.__mro__=[_b_.object],t.$infos={__name__:s.name,__qualname__:s.name},0<$B.frames_stack.length&&(t.$infos.__module__=$B.last($B.frames_stack)[3].__name__),$B.JSObj.$factory(t));if("function"==typeof n.getNamedItem&&void 0!==(t=n.getNamedItem(o)))return $B.JSObj.$factory(t);var t=$B.get_class(n);if(t&&t[o]){var a=t[o];return"function"==typeof a?function(){for(var t=[n],e=0,r=arguments.length;e<r;e++)t.push(arguments[e]);return $B.JSObj.$factory(a.apply(null,t))}:a}if("bind"==o&&"function"==typeof n.addEventListener)return function(t,e){return n.addEventListener(t,e)};throw _b_.AttributeError.$factory(o)},$B.JSObj.__setattr__=function(t,e,r){return t[e]=$B.pyobj2structuredclone(r),_b_.None},$B.JSObj.__getitem__=function(t,e){if("string"==typeof e)return $B.JSObj.__getattribute__(t,e);if("number"==typeof e){if(void 0!==t[e])return $B.JSObj.$factory(t[e]);if("number"==typeof t.length&&("number"==typeof e||"boolean"==typeof e)&&"function"==typeof t.item){var r=_b_.int.$factory(e);r<0&&(r+=t.length);t=t.item(r);if(null===t)throw _b_.IndexError.$factory(r);return $B.JSObj.$factory(t)}}throw _b_.KeyError.$factory(r)},$B.JSObj.__setitem__=$B.JSObj.__setattr__;var JSObj_iterator=$B.make_iterator_class("JS object iterator");$B.JSObj.__iter__=function(t){var e=[];if(_window.Symbol&&void 0!==t[Symbol.iterator]){e=[];if(void 0!==t.next)for(;;){var r=t.next();if(r.done)break;e.push($B.JSObj.$factory(r.value))}else if(void 0!==t.length&&void 0!==t.item)for(var n=0;n<t.length;n++)e.push($B.JSObj.$factory(t.item(n)));return JSObj_iterator.$factory(e)}if(void 0===t.length||void 0===t.item)return JSObj_iterator.$factory(Object.keys(t));for(n=0;n<t.length;n++)e.push($B.JSObj.$factory(t.js.item(n)));return JSObj_iterator.$factory(e)},$B.JSObj.__len__=function(t){if("number"==typeof t.length)return t.length;throw _b_.AttributeError.$factory(t+" has no attribute __len__")},$B.JSObj.__repr__=$B.JSObj.__str__=function(t){return"<Javascript "+t.constructor.name+" object: "+t.toString()+">"},$B.JSObj.bind=function(t,e,r){return t.addEventListener(e,function(t){return r(jsobj2pyobj(t))}),_b_.None},$B.JSObj.to_dict=function(t){return $B.structuredclone2pyobj(t)},$B.set_func_names($B.JSObj,"builtins"),$B.JSMeta=$B.make_class("JSMeta"),$B.JSMeta.__call__=function(t){for(var e=[],r=t,n=1,o=arguments.length;n<o;n++)e.push(arguments[n]);var s,a=_b_.type.__getattribute__(r,"__new__").apply(null,arguments);return a instanceof t.__mro__[0].$js_func&&((s=_b_.type.__getattribute__(r,"__init__"))!==_b_.object.__init__&&(r=[a].concat(e),s.apply(null,r))),a},$B.JSMeta.__mro__=[_b_.type,_b_.object],$B.JSMeta.__getattribute__=function(t,e){return void 0!==t[e]?t[e]:void 0!==$B.JSMeta[e]?$B.JSMeta[e]:_b_.type.__getattribute__(t,e)},$B.JSMeta.__init_subclass__=function(){},$B.JSMeta.__new__=function(metaclass,class_name,bases,cl_dict){eval("var "+class_name+` = function(){
        if(cl_dict.$string_dict.__init__){
            var args = [this]
            for(var i = 0, len = arguments.length; i < len; i++){
                args.push(arguments[i])
            }
            cl_dict.$string_dict.__init__[0].apply(this, args)
        }else{
            return new bases[0].$js_func(...arguments)
        }
    }`);var new_js_class=eval(class_name);return new_js_class.prototype=Object.create(bases[0].$js_func.prototype),new_js_class.prototype.constructor=new_js_class,new_js_class.__mro__=[bases[0],_b_.type],new_js_class.$is_js_class=!0,new_js_class},$B.set_func_names($B.JSMeta,"builtins")}(__BRYTHON__),function(t){t.stdlib={};for(var e=["VFS_import","__future__","_codecs","_codecs_jp","_collections","_collections_abc","_compat_pickle","_contextvars","_csv","_dummy_thread","_frozen_importlib","_functools","_imp","_io","_markupbase","_multibytecodec","_operator","_py_abc","_pydecimal","_queue","_random","_signal","_socket","_sre","_struct","_sysconfigdata","_sysconfigdata_0_brython_","_testcapi","_thread","_threading_local","_weakref","_weakrefset","abc","antigravity","argparse","ast","atexit","base64","bdb","binascii","bisect","browser.aio","browser.ajax","browser.highlight","browser.html","browser.idbcache","browser.indexed_db","browser.local_storage","browser.markdown","browser.object_storage","browser.session_storage","browser.svg","browser.template","browser.timer","browser.webcomponent","browser.websocket","browser.webworker","browser.worker","calendar","cmath","cmd","code","codecs","codeop","colorsys","configparser","contextlib","contextvars","copy","copyreg","csv","dataclasses","datetime","decimal","difflib","doctest","enum","errno","external_import","faulthandler","fnmatch","formatter","fractions","functools","gc","genericpath","getopt","gettext","glob","heapq","hmac","imp","inspect","interpreter","io","ipaddress","itertools","json","keyword","linecache","locale","mimetypes","nntplib","ntpath","numbers","opcode","operator","optparse","os","pathlib","pdb","pickle","pkgutil","platform","posixpath","pprint","profile","pwd","py_compile","pydoc","queue","quopri","re","reprlib","select","selectors","shlex","shutil","signal","site","site-packages.__future__","site-packages.docs","site-packages.header","site-packages.test_sp","socket","sre_compile","sre_constants","sre_parse","stat","string","stringprep","struct","subprocess","sys","sysconfig","tarfile","tb","tempfile","test.namespace_pkgs.module_and_namespace_package.a_test","textwrap","this","threading","time","timeit","token","tokenize","traceback","turtle","types","typing","uu","uuid","warnings","weakref","webbrowser","zipfile","zipimport","zlib"],r=0;r<e.length;r++)t.stdlib[e[r]]=["py"];for(var n=["_aio","_ajax","_base64","_binascii","_io_classes","_json","_jsre","_locale","_multiprocessing","_posixsubprocess","_profile","_sre_utils","_string","_strptime","_svg","_webcomponent","_webworker","_zlib_utils","aes","array","bry_re","builtins","dis","encoding_cp932","hashlib","hmac-md5","hmac-ripemd160","hmac-sha1","hmac-sha224","hmac-sha256","hmac-sha3","hmac-sha384","hmac-sha512","html_parser","long_int","marshal","math","md5","modulefinder","pbkdf2","posix","python_re","rabbit","rabbit-legacy","random","rc4","ripemd160","sha1","sha224","sha256","sha3","sha384","sha512","tripledes","unicodedata"],r=0;r<n.length;r++)t.stdlib[n[r]]=["js"];for(var o=["browser.widgets","collections","concurrent","concurrent.futures","email","email.mime","encodings","html","http","importlib","logging","multiprocessing","multiprocessing.dummy","pydoc_data","site-packages.foobar","site-packages.simpleaio","site-packages.ui","test","test.encoded_modules","test.leakers","test.namespace_pkgs.not_a_namespace_pkg.foo","test.support","test.test_email","test.test_importlib","test.test_importlib.builtin","test.test_importlib.extension","test.test_importlib.frozen","test.test_importlib.import_","test.test_importlib.source","test.test_json","test.tracedmodules","unittest","unittest.test","unittest.test.testmock","urllib"],r=0;r<o.length;r++)t.stdlib[o[r]]=["py",!0]}(__BRYTHON__),function($B){var _b_=$B.builtins,_window=self,Module=$B.module=$B.make_class("module",function(t,e,r){var n=Object.create(null);return n.__class__=Module,n.__name__=t,n.__doc__=e||_b_.None,n.__package__=r||_b_.None,n});function $download_module(t,e,r){var n=new XMLHttpRequest,o="?v="+(new Date).getTime(),s=null,a=t.__name__,_=_window.setTimeout(function(){n.abort()},5e3);if($B.$options.cache?n.open("GET",e,!1):n.open("GET",e+o,!1),n.send(),$B.$CORS?s=200==n.status||0==n.status?n.responseText:_b_.ModuleNotFoundError.$factory("No module named '"+a+"'"):4==n.readyState&&(200==n.status?(s=n.responseText,t.$last_modified=n.getResponseHeader("Last-Modified")):(console.info("Error "+n.status+" means that Python module "+a+" was not found at url "+e),s=_b_.ModuleNotFoundError.$factory("No module named '"+a+"'"))),_window.clearTimeout(_),null==s)throw _b_.ModuleNotFoundError.$factory("No module named '"+a+"' (res is null)");if(s.constructor===Error)throw s;return s}function import_js(t,e){try{var r=$download_module(t,e,void 0)}catch(t){return}return run_js(r,e,t),1}function run_js(t,e,r){var n="$locals_"+r.__name__.replace(/\./g,"_");try{var o=new Function(n,t+";\nreturn $module")(r);$B.$options.store&&(r.$js=t)}catch(t){throw console.log(t),console.log(e,r),t}for(s in o.__name__=r.__name__,o)"function"==typeof o[s]&&(o[s].$infos={__module__:r.__name__,__name__:s,__qualname__:s},o[s].$in_js_module=!0);if(void 0!==r){for(var s in o)r[s]=o[s];(o=r).__class__=Module}else o.__class__=Module,o.__name__=r.__name__,o.__repr__=o.__str__=function(){return-1<$B.builtin_module_names.indexOf(r.name)?"<module '"+r.__name__+"' (built-in)>":"<module '"+r.__name__+"' from "+e+" >"},"builtins"!=r.name&&(o.__file__=e);return $B.imported[r.__name__]=o,!0}function show_ns(){for(var kk=Object.keys(_window),i=0,len=kk.length;i<len;i++)console.log(kk[i]),"$"==kk[i].charAt(0)&&console.log(eval(kk[i]));console.log("---")}function run_py(module_contents,path,module,compiled){$B.file_cache[path]=module_contents;var root,js,mod_name=module.__name__,$Node,$NodeJSCtx,src,root;compiled||($Node=$B.$Node,$NodeJSCtx=$B.$NodeJSCtx,src={src:module_contents,has_annotations:!1},root=$B.py2js(src,module,module.__name__,$B.builtins_scope),void 0!==module.__package__&&(root.binding.__package__=!0));try{js=compiled?module_contents:root.to_js(),10==$B.$options.debug&&(console.log("code for module "+module.__name__),console.log(js));var src=js,js="var $module = (function(){\n"+js+"return $locals_"+module.__name__.replace(/\./g,"_")+"})(__BRYTHON__)\nreturn $module",module_id="$locals_"+module.__name__.replace(/\./g,"_"),$module=new Function(module_id,js)(module)}catch(err){if(1<$B.debug){for(var attr in console.log(err+" for module "+module.__name__),console.log("module",module),console.log(root),1<$B.debug&&console.log(js),err)console.log(attr,err[attr]);console.log($B.$getattr(err,"info","[no info]")),console.log("message: "+err.$message),console.log("filename: "+err.fileName),console.log("linenum: "+err.lineNumber)}throw 0<$B.debug&&console.log("line info "+$B.line_info),err}finally{$B.clear_ns(module.__name__)}try{var mod=eval("$module"),attr;for(attr in mod)module[attr]=mod[attr];return module.__initializing__=!1,$B.imported[module.__name__]=module,{content:src,name:mod_name,imports:Object.keys(root.imports).join(",")}}catch(err){for(var attr in console.log(err+"  for module "+module.__name__),err)console.log(attr+" "+err[attr]);throw 0<$B.debug&&console.log("line info "+__BRYTHON__.line_info),err}}Module.__new__=function(t,e,r,n){return{__class__:t,__name__:e,__doc__:r||_b_.None,__package__:n||_b_.None}},Module.__repr__=Module.__str__=function(t){var e="<module "+t.__name__;return void 0===t.__file__&&(e+=" (built-in)"),e+">"},Module.__setattr__=function(t,e,r){"__builtins__"==t.__name__?$B.builtins[e]=r:t[e]=r},$B.set_func_names(Module,"builtins"),$B.$download_module=$download_module,$B.run_py=run_py,$B.run_js=run_js;var ModuleSpec=$B.make_class("ModuleSpec",function(t){return t.__class__=ModuleSpec,t});function parent_package(t){t=t.split(".");return t.pop(),t.join(".")}ModuleSpec.__str__=ModuleSpec.__repr__=function(t){var e=`ModuleSpec(name='${t.name}', `+`loader=${_b_.str.$factory(t.loader)}, `+`origin='${t.origin}'`;return t.submodule_search_locations!==_b_.None&&(e+=", submodule_search_locations="+`${_b_.str.$factory(t.submodule_search_locations)}`),e+")"},$B.set_func_names(ModuleSpec,"builtins");var VFSFinder=$B.make_class("VFSFinder",function(){return{__class__:VFSFinder}}),method;for(method in VFSFinder.find_spec=function(t,e,r){var n,o,s;if(!$B.use_VFS)return _b_.None;if(void 0===(n=$B.VFS[e]))return _b_.None;if(o=n[3]||!1,s=n.timestamp,n){var a=-1<$B.builtin_module_names.indexOf(e);return ModuleSpec.$factory({name:e,loader:VFSLoader.$factory(),origin:a?"built-in":"brython_stdlib",submodule_search_locations:o?[]:_b_.None,loader_state:{stored:n,timestamp:s},cached:_b_.None,parent:o?e:parent_package(e),has_location:_b_.False})}},$B.set_func_names(VFSFinder,"<import>"),VFSFinder)"function"==typeof VFSFinder[method]&&(VFSFinder[method]=_b_.classmethod.$factory(VFSFinder[method]));VFSLoader=$B.make_class("VFSLoader",function(){return{__class__:VFSLoader}}),VFSLoader.create_module=function(t,e){return _b_.None},VFSLoader.exec_module=function(t,e){var r=e.__spec__.loader_state.stored,n=e.__spec__.loader_state.timestamp;delete e.__spec__.loader_state;var o=r[0],s=r[1],a=r[2];e.$is_package=r[3]||!1;var _="VFS."+e.__name__;if(_+=e.$is_package?"/__init__.py":o,e.__file__=_,$B.file_cache[e.__file__]=$B.VFS[e.__name__][1],".js"==o)run_js(s,e.__path__,e);else{if($B.precompiled.hasOwnProperty(e.__name__)){1<$B.debug&&console.info("load",e.__name__,"from precompiled");for(var i=e.__name__.split("."),l=0;l<i.length;l++){var c=i.slice(0,l+1).join(".");if(!$B.imported.hasOwnProperty(c)||!$B.imported[c].__initialized__){var u=$B.precompiled[c],f=e.$is_package;if(void 0!==u){Array.isArray(u)&&(u=u[0]);var p,$=$B.imported[c]=Module.$factory(c,void 0,f);$.__initialized__=!0,f?($.__path__="<stdlib>",$.__package__=c):((g=c.split(".")).pop(),$.__package__=g.join(".")),$.__file__=_;try{var d=c.replace(/\./g,"_");u+="return $locals_"+d;var h=new Function("$locals_"+d,u)($)}catch(t){if(1<$B.debug){for(var m in console.log("error in module",$),console.log(t),t)console.log(m,t[m]);console.log(Object.keys($B.imported)),2<$B.debug&&console.log(e,"mod_js",u)}throw t}for(p in h)$[p]=h[p];h.__file__=_,0<l&&$B.builtins.setattr($B.imported[i.slice(0,l).join(".")],i[l],h)}}}return h}o=e.__name__;1<$B.debug&&console.log("run Python code from VFS",o);var g,b=run_py(s,e.__path__,e);b.imports=a.join(","),b.is_package=e.$is_package,b.timestamp=$B.timestamp,b.source_ts=n,$B.precompiled[o]=b.is_package?[b.content]:b.content,1<(g=o.split(".")).length&&g.pop(),$B.$options.indexedDB&&$B.indexedDB&&$B.idb_name&&(indexedDB.open($B.idb_name).onsuccess=function(t){t=t.target.result.transaction("modules","readwrite").objectStore("modules"),t.openCursor(),t=t.put(b);t.onsuccess=function(){1<$B.debug&&console.info(e.__name__,"stored in db")},t.onerror=function(){console.info("could not store "+e.__name__)}})}},$B.set_func_names(VFSLoader,"builtins");var finder_cpython={__class__:_b_.type,__mro__:[_b_.object],$infos:{__module__:"builtins",__name__:"CPythonFinder"},create_module:function(t,e){return _b_.None},exec_module:function(t,e){console.log("exec PYthon module",e);var r=e.__spec__.loader_state,n=r.content;delete e.__spec__.loader_state,e.$is_package=r.is_package,e.__file__=r.__file__,$B.file_cache[e.__file__]=n;r=e.__name__;1<$B.debug&&console.log("run Python code from CPython",r),run_py(n,e.__path__,e)},find_module:function(n,t,e){return{__class__:Loader,load_module:function(t,e){var r=n.find_spec(n,t,e),e=Module.$factory(t);($B.imported[t]=e).__spec__=r,n.exec_module(n,e)}}},find_spec:function(e,r,t){console.log("finder cpython",r);var n,o=new XMLHttpRequest;return o.open("GET","/cpython_import?module="+r,!1),o.onreadystatechange=function(){var t;4==this.readyState&&200==this.status&&(t=JSON.parse(this.responseText),n=ModuleSpec.$factory({name:r,loader:e,origin:"CPython",submodule_search_locations:t.is_package?[]:_b_.None,loader_state:{content:t.content},cached:_b_.None,parent:t.is_package?r:parent_package(r),has_location:_b_.False}))},o.send(),n}},method;for(method in $B.set_func_names(finder_cpython,"<import>"),finder_cpython)"function"==typeof finder_cpython[method]&&(finder_cpython[method]=_b_.classmethod.$factory(finder_cpython[method]));finder_cpython.$factory=function(){return{__class__:finder_cpython}};var StdlibStaticFinder=$B.make_class("StdlibStaticFinder",function(){return{__class__:StdlibStaticFinder}}),method;for(method in StdlibStaticFinder.find_spec=function(t,e,r){if($B.stdlib&&$B.$options.static_stdlib_import){var n=$B.stdlib[e];if(void 0!==n||1<(o=e.split(".")).length&&(o.pop(),(s=$B.stdlib[o.join(".")])&&s[1]&&(n=["py"])),void 0!==n){var o=n[0],s=void 0!==n[1],o={ext:o,is_package:s,path:(r=$B.brython_path+("py"==o?"Lib/":"libs/")+e.replace(/\./g,"/"))+(s?"/__init__.py":"py"==o?".py":".js"),address:n},n=Module.$factory(e);return o.code=$download_module(n,o.path),ModuleSpec.$factory({name:e,loader:PathLoader.$factory(),origin:o.path,submodule_search_locations:s?[r]:_b_.None,loader_state:o,cached:_b_.None,parent:s?e:parent_package(e),has_location:_b_.True})}}return _b_.None},$B.set_func_names(StdlibStaticFinder,"<import>"),StdlibStaticFinder)"function"==typeof StdlibStaticFinder[method]&&(StdlibStaticFinder[method]=_b_.classmethod.$factory(StdlibStaticFinder[method]));StdlibStaticFinder.$factory=function(){return{__class__:StdlibStaticFinder}};var PathFinder=$B.make_class("PathFinder",function(){return{__class__:PathFinder}}),method;for(method in PathFinder.find_spec=function(t,e,r){if($B.VFS&&$B.VFS[e])return _b_.None;for(var n=0,o=(r=$B.is_none(r)?$B.path:r).length;n<o;++n){var s=r[n];"/"!=s[s.length-1]&&(s+="/");var a=$B.path_importer_cache[s];if(void 0===a)for(var _=0,i=$B.path_hooks.length;_<i;++_){var l=$B.path_hooks[_];try{a=$B.$call(l)(s),$B.path_importer_cache[s]=a;break}catch(t){if(t.__class__!==_b_.ImportError)throw t}}if(!$B.is_none(a)){var c=$B.$getattr(a,"find_spec"),c=$B.$call(c)(e);if(!$B.is_none(c))return c}}return _b_.None},$B.set_func_names(PathFinder,"<import>"),PathFinder)"function"==typeof PathFinder[method]&&(PathFinder[method]=_b_.classmethod.$factory(PathFinder[method]));var PathEntryFinder=$B.make_class("PathEntryFinder",function(t,e){return{__class__:PathEntryFinder,path_entry:t,hint:e}});PathEntryFinder.find_spec=function(t,e){var r={},n=!0,o=t.hint,s=t.path_entry+e.match(/[^.]+$/g)[0],a=[],_=$B.$options.python_extension;(void 0===o||"py"==o)&&(a=a.concat([[s+_,"py",!1],[s+"/__init__"+_,"py",!0]]));for(var i=0;n&&i<a.length;++i)try{var l=a[i],c={__name__:e,$is_package:!1};r.code=$download_module(c,l[0],void 0),n=!1,r.ext=l[1],r.is_package=l[2],void 0===o&&(t.hint=l[1],$B.path_importer_cache[t.path_entry]=t),r.is_package&&($B.path_importer_cache[s+"/"]=$B.$call(url_hook)(s+"/",t.hint)),r.path=l[0]}catch(t){if(t.__class__!==_b_.ModuleNotFoundError)throw t}return n?_b_.None:ModuleSpec.$factory({name:e,loader:PathLoader.$factory(),origin:r.path,submodule_search_locations:r.is_package?[s]:_b_.None,loader_state:r,cached:_b_.None,parent:r.is_package?e:parent_package(e),has_location:_b_.True})},$B.set_func_names(PathEntryFinder,"builtins");var PathLoader=$B.make_class("PathLoader",function(){return{__class__:PathLoader}});PathLoader.create_module=function(t,e){return _b_.None},PathLoader.exec_module=function(t,e){var r=e.__spec__.loader_state;e.$is_package=r.is_package,("py"==r.ext?run_py:run_js)(r.code,r.path,e)};var url_hook=$B.url_hook=function(t){return t=t.endsWith("/")?t:t+"/",PathEntryFinder.$factory(t)};function import_engine(t,e,r){var n,o,s=$B.meta_path.slice(),a=$B.imported;!r||-1<(f=s.indexOf($B.finders.path))&&s.splice(f,1);for(var _=0,i=s.length;_<i;_++){var l=s[_],c=$B.$getattr(l,"find_spec",_b_.None);if(c==_b_.None){l=$B.$getattr(l,"find_module",_b_.None);if(l!==_b_.None&&(n=l(t,e))!==_b_.None){var l=$B.$getattr(n,"load_module"),u=$B.$call(l)(t);return a[t]=u}}else if(o=c(t,e),!$B.is_none(o)){if(void 0!==(u=$B.imported[o.name]))return a[o.name]=u;n=$B.$getattr(o,"loader",_b_.None);break}}if(void 0===n){message=t,"file"==$B.protocol&&(message+=" (warning: cannot import local files with protocol 'file')");var f=_b_.ModuleNotFoundError.$factory(message);throw f.name=t,f}if($B.is_none(u)){if(o===_b_.None)throw _b_.ModuleNotFoundError.$factory(t);var p=$B.$getattr(o,"name");if($B.is_none(n)||($=$B.$getattr(n,"create_module",_b_.None),$B.is_none($)||(u=$B.$call($)(o))),void 0===u)throw _b_.ImportError.$factory(t);$B.is_none(u)&&(u=$B.module.$factory(t),d=$B.$getattr(o,"origin"),d=$B.$getattr(o,"has_location")?"from '"+d+"'":"("+d+")")}u.__name__=p,u.__loader__=n,u.__package__=$B.$getattr(o,"parent",""),u.__spec__=o;var $=$B.$getattr(o,"submodule_search_locations");(u.$is_package=!$B.is_none($))&&(u.__path__=$),$B.$getattr(o,"has_location")&&(u.__file__=$B.$getattr(o,"origin"));var d=$B.$getattr(o,"cached");if($B.is_none(d)||(u.__cached__=d),$B.is_none(n)){if($B.is_none($))throw _b_.ImportError.$factory(t);a[p]=u}else{$=$B.$getattr(n,"exec_module",_b_.None);if($B.is_none($))u=$B.$getattr(n,"load_module")(p);else{a[p]=u;try{$(u)}catch(t){throw delete a[p],t}}}return a[p]}function import_error(t){var e=_b_.ImportError.$factory(t);throw e.name=t,e}function optimize_import_for_path(t,e){"/"!=t.slice(-1)&&(t+="/");e="none"==e?_b_.None:url_hook(t,e);$B.path_importer_cache[t]=e}$B.path_importer_cache={},$B.$__import__=function(e,t,r,n,o){var s=!1;t.$jsobj&&t.$jsobj.__file__&&(((t=t.$jsobj.__file__).startsWith($B.brython_path+"Lib/")&&!t.startsWith($B.brython_path+"Lib/site-packages/")||t.startsWith($B.brython_path+"libs/")||t.startsWith("VFS."))&&(s=!0));var a=$B.imported[e],_=e.split("."),i=0<n.length;if(a==_b_.None&&import_error(e),void 0===a){$B.is_none(n)&&(n=[]);for(var l=0,c="",u="",f=_.length-1,p=_b_.None;l<=f;++l){var $=u;u+=c+_[l];c=".";if(0,(a=$B.imported[u])==_b_.None)import_error(u);else if(void 0===a){try{import_engine(u,p,s)}catch(t){throw delete $B.imported[u],t}$B.is_none($B.imported[u])?import_error(u):$&&_b_.setattr($B.imported[$],_[l],$B.imported[u])}else $B.imported[$]&&void 0===$B.imported[$][_[l]]&&_b_.setattr($B.imported[$],_[l],$B.imported[u]);if(l<f)try{p=$B.$getattr($B.imported[u],"__path__")}catch(t){if(l==f-1&&$B.imported[u][_[f]]&&$B.imported[u][_[f]].__class__===module)return $B.imported[u][_[f]];if(!i){$=_b_.ModuleNotFoundError.$factory();throw $.msg="No module named '"+e+"'; '"+u+"' is not a package",$.args=$B.fast_tuple([$.msg]),$.name=e,$.path=_b_.None,$}import_error(e)}}}else if($B.imported[_[0]]&&2==_.length)try{void 0===$B.imported[_[0]][_[1]]&&$B.$setattr($B.imported[_[0]],_[1],a)}catch(t){throw console.log("error",_,a),t}return 0<n.length?$B.imported[e]:$B.imported[_[0]]},$B.$import=function(e,t,r,n){t=void 0===t?[]:t,r=void 0===r?{}:r,n=void 0===n?{}:n;var o=e.split(".");"."==e[e.length-1]&&o.pop();for(var s=[],a=!0,_=0,i=o.length;_<i;_++){var l=o[_];if(a&&""==l){if(elt=s.pop(),void 0===elt)throw _b_.ImportError.$factory("Parent module '' not loaded, cannot perform relative import")}else a=!1,s.push(l)}e=s.join(".");10==$B.$options.debug&&(console.log("$import "+e),console.log("use VFS ? "+$B.use_VFS),console.log("use static stdlib paths ? "+$B.static_stdlib_import));var c=$B.frames_stack[$B.frames_stack.length-1],u=c[3],f=u.__import__,p=$B.obj_dict(u),$=("function"==typeof(f=void 0===f?$B.$__import__:f)?f:$B.$getattr(f,"__call__"))(e,p,void 0,t,0);if(t&&0!=t.length){var d=t,u={};if(t&&"*"==t[0]&&(d=$B.$getattr($,"__all__",u))!==u&&(r={}),d===u)for(var h in $)"_"!==h[0]&&(n[h]=$[h]);else for(var _=0,m=d.length;_<m;++_){var g,b,y=d[_],v=r[y]||y;try{n[v]=$B.$getattr($,y)}catch(t){try{$B.$getattr(f,"__call__")(e+"."+y,p,void 0,[],0),n[v]=$B.$getattr($,y)}catch(t){if("__future__"===e&&(b=(g=$B.last($B.frames_stack))[3].$line_info.split(","),b=parseInt(b[0]),$B.$SyntaxError(g[2],"future feature "+y+" is not defined",c[3].src,void 0,b)),t.$py_error)throw t;throw 1<$B.debug&&(console.log(t),console.log($B.last($B.frames_stack))),_b_.ImportError.$factory("cannot import name '"+y+"'")}}}return n}(v=r[e])?n[v]=$B.imported[e]:n[s[0]]=$},$B.import_all=function(t,e){for(var r in e)-1=="_$".indexOf(r.charAt(0))&&(t[r]=e[r])},$B.$path_hooks=[url_hook],$B.$meta_path=[VFSFinder,StdlibStaticFinder,PathFinder],$B.finders={VFS:VFSFinder,stdlib_static:StdlibStaticFinder,path:PathFinder,CPython:finder_cpython};var Loader={__class__:$B.$type,__mro__:[_b_.object],__name__:"Loader"},_importlib_module={__class__:Module,__name__:"_importlib",Loader:Loader,VFSFinder:VFSFinder,StdlibStatic:StdlibStaticFinder,ImporterPath:PathFinder,UrlPathFinder:url_hook,optimize_import_for_path:optimize_import_for_path};_importlib_module.__repr__=_importlib_module.__str__=function(){return"<module '_importlib' (built-in)>"},$B.imported._importlib=_importlib_module}(__BRYTHON__);var $B=__BRYTHON__,gc,key;for(gc in $B.unicode={Cc:[[0,32],[127,33]],Zs:[32,160,5760,[8192,11],8239,8287,12288],Po:[[33,3],[37,3],[42,3,2],47,58,59,63,64,92,161,167,182,183,191,894,903,[1370,6],1417,[1472,3,3],1523,1524,1545,1546,1548,1549,1563,1566,1567,[1642,4],1748,[1792,14],[2039,3],[2096,15],2142,2404,2405,2416,2557,2678,2800,3191,3204,3572,3663,3674,3675,[3844,15],3860,3973,[4048,5],4057,4058,[4170,6],4347,[4960,9],5742,[5867,3],5941,5942,[6100,3],[6104,3],[6144,6],[6151,4],6468,6469,6686,6687,[6816,7],[6824,6],[7002,7],[7164,4],[7227,5],7294,7295,[7360,8],7379,8214,8215,[8224,8],[8240,9],[8251,4],[8257,3],[8263,11],8275,[8277,10],[11513,4],11518,11519,11632,11776,11777,[11782,3],11787,[11790,9],11800,11801,11803,11806,11807,[11818,5],[11824,10],[11836,4],11841,[11843,13],11858,[12289,3],12349,12539,42238,42239,[42509,3],42611,42622,[42738,6],[43124,4],43214,43215,[43256,3],43260,43310,43311,43359,[43457,13],43486,43487,[43612,4],43742,43743,43760,43761,44011,[65040,7],65049,65072,65093,65094,[65097,4],[65104,3],[65108,4],[65119,3],65128,65130,65131,[65281,3],[65285,3],[65290,3,2],65295,65306,65307,65311,65312,65340,65377,65380,65381,[65792,3],66463,66512,66927,67671,67871,67903,[68176,9],68223,[68336,7],[68409,7],[68505,4],[69461,5],[69703,7],69819,69820,[69822,4],[69952,4],70004,70005,[70085,4],70093,70107,[70109,3],[70200,6],70313,[70731,5],70746,70747,70749,70854,[71105,23],[71233,3],[71264,13],[71484,3],71739,[72004,3],72162,[72255,8],[72346,3],[72350,5],[72769,5],72816,72817,73463,73464,73727,[74864,5],92782,92783,92917,[92983,5],92996,[93847,4],94178,113823,[121479,5],125278,125279],Sc:[36,[162,4],1423,1547,2046,2047,2546,2547,2555,2801,3065,3647,6107,[8352,32],43064,65020,65129,65284,65504,65505,65509,65510,[73693,4],123647,126128],Ps:[40,91,123,3898,3900,5787,8218,8222,8261,8317,8333,8968,8970,9001,[10088,7,2],10181,[10214,5,2],[10627,11,2],10712,10714,10748,[11810,4,2],11842,[12296,5,2],[12308,4,2],12317,64831,65047,[65077,8,2],65095,[65113,3,2],65288,65339,65371,65375,65378],Pe:[41,93,125,3899,3901,5788,8262,8318,8334,8969,8971,9002,[10089,7,2],10182,[10215,5,2],[10628,11,2],10713,10715,10749,[11811,4,2],[12297,5,2],[12309,4,2],12318,12319,64830,65048,[65078,8,2],65096,[65114,3,2],65289,65341,[65373,3,3]],Sm:[43,[60,3],124,126,172,177,215,247,1014,[1542,3],8260,8274,[8314,3],[8330,3],8472,[8512,5],8523,[8592,5],8602,8603,[8608,3,3],8622,8654,8655,8658,8660,[8692,268],8992,8993,9084,[9115,25],[9180,6],9655,9665,[9720,8],9839,[10176,5],[10183,31],[10224,16],[10496,131],[10649,63],[10716,32],[10750,258],[11056,21],[11079,6],64297,65122,[65124,3],65291,[65308,3],65372,65374,65506,[65513,4],120513,120539,120571,120597,120629,120655,120687,120713,120745,120771,126704,126705],Pd:[45,1418,1470,5120,6150,[8208,6],11799,11802,11834,11835,11840,12316,12336,12448,65073,65074,65112,65123,65293,69293],Nd:[[48,10],[1632,10],[1776,10],[1984,10],[2406,10],[2534,10],[2662,10],[2790,10],[2918,10],[3046,10],[3174,10],[3302,10],[3430,10],[3558,10],[3664,10],[3792,10],[3872,10],[4160,10],[4240,10],[6112,10],[6160,10],[6470,10],[6608,10],[6784,10],[6800,10],[6992,10],[7088,10],[7232,10],[7248,10],[42528,10],[43216,10],[43264,10],[43472,10],[43504,10],[43600,10],[44016,10],[65296,10],[66720,10],[68912,10],[69734,10],[69872,10],[69942,10],[70096,10],[70384,10],[70736,10],[70864,10],[71248,10],[71360,10],[71472,10],[71904,10],[72016,10],[72784,10],[73040,10],[73120,10],[92768,10],[93008,10],[120782,50],[123200,10],[123632,10],[125264,10],[130032,10]],Lu:[[65,26],[192,23],[216,7],[256,28,2],[313,8,2],[330,24,2],[377,3,2],385,[386,3,2],391,[393,3],[398,4],403,404,[406,3],412,413,415,[416,4,2],423,425,428,430,431,[433,3],437,439,440,444,[452,4,3],[463,7,2],[478,9,2],497,500,[502,3],[506,29,2],570,571,573,574,577,[579,4],[584,4,2],880,882,886,895,902,[904,3],908,910,911,[913,17],[931,9],975,[978,3],[984,12,2],1012,1015,1017,1018,[1021,51],[1120,17,2],[1162,28,2],[1217,7,2],[1232,48,2],[1329,38],[4256,38],4295,4301,[5024,86],[7312,43],[7357,3],[7680,75,2],[7838,49,2],[7944,8],[7960,6],[7976,8],[7992,8],[8008,6],[8025,4,2],[8040,8],[8120,4],[8136,4],[8152,4],[8168,5],[8184,4],8450,8455,[8459,3],[8464,3],8469,[8473,5],[8484,4,2],[8491,3],[8496,4],8510,8511,8517,8579,[11264,47],11360,[11362,3],[11367,4,2],[11374,3],11378,11381,[11390,3],[11394,49,2],11499,11501,11506,[42560,23,2],[42624,14,2],[42786,7,2],[42802,31,2],[42873,3,2],[42878,5,2],42891,42893,42896,42898,[42902,11,2],[42923,4],[42928,5],[42934,5,2],42946,[42948,4],42953,42997,[65313,26],[66560,40],[66736,36],[68736,51],[71840,32],[93760,32],[119808,26],[119860,26],[119912,26],119964,119966,[119967,3,3],119974,[119977,4],[119982,8],[120016,26],120068,120069,[120071,4],[120077,8],[120086,7],120120,120121,[120123,4],[120128,5],120134,[120138,7],[120172,26],[120224,26],[120276,26],[120328,26],[120380,26],[120432,26],[120488,25],[120546,25],[120604,25],[120662,25],[120720,25],120778,[125184,34]],Sk:[94,96,168,175,180,184,[706,4],[722,14],[741,7],749,[751,17],885,900,901,8125,[8127,3],[8141,3],[8157,3],[8173,3],8189,8190,12443,12444,[42752,23],42784,42785,42889,42890,43867,43882,43883,[64434,16],65342,65344,65507,[127995,5]],Pc:[95,8255,8256,8276,65075,65076,[65101,3],65343],Ll:[[97,26],181,[223,24],[248,8],[257,28,2],[312,9,2],[329,24,2],[378,3,2],383,384,387,389,392,396,397,402,405,[409,3],414,[417,3,2],424,426,427,429,432,436,438,441,442,[445,3],[454,3,3],[462,8,2],[477,10,2],496,499,501,[505,30,2],[564,6],572,575,576,578,[583,5,2],[592,68],[661,27],881,[883,3,4],892,893,912,[940,35],976,977,[981,3],[985,12,2],[1008,4],[1013,3,3],1020,[1072,48],[1121,17,2],[1163,27,2],[1218,7,2],[1231,49,2],[1376,41],[4304,43],[4349,3],[5112,6],[7296,9],[7424,44],[7531,13],[7545,34],[7681,75,2],[7830,8],[7839,49,2],[7936,8],[7952,6],[7968,8],[7984,8],[8e3,6],[8016,8],[8032,8],[8048,14],[8064,8],[8080,8],[8096,8],[8112,5],8118,8119,8126,[8130,3],8134,8135,[8144,4],8150,8151,[8160,8],[8178,3],8182,8183,8458,8462,8463,8467,[8495,3,5],8508,8509,[8518,4],8526,8580,[11312,47],11361,11365,[11366,4,2],11377,11379,11380,[11382,6],[11393,50,2],11492,11500,11502,11507,[11520,38],11559,11565,[42561,23,2],[42625,14,2],[42787,7,2],42800,[42801,33,2],[42866,7],42874,42876,[42879,5,2],42892,42894,42897,[42899,3],[42903,10,2],42927,[42933,6,2],42947,42952,42954,42998,43002,[43824,43],[43872,9],[43888,80],[64256,7],[64275,5],[65345,26],[66600,40],[66776,36],[68800,51],[71872,32],[93792,32],[119834,26],[119886,7],[119894,18],[119938,26],[119990,4],119995,[119997,7],[120005,11],[120042,26],[120094,26],[120146,26],[120198,26],[120250,26],[120302,26],[120354,26],[120406,26],[120458,28],[120514,25],[120540,6],[120572,25],[120598,6],[120630,25],[120656,6],[120688,25],[120714,6],[120746,25],[120772,6],120779,[125218,34]],So:[166,169,174,176,1154,1421,1422,1550,1551,1758,1769,1789,1790,2038,2554,2928,[3059,6],3066,3199,3407,3449,[3841,3],3859,[3861,3],[3866,6],[3892,3,2],[4030,8],[4039,6],4046,4047,[4053,4],4254,4255,[5008,10],5741,6464,[6622,34],[7009,10],[7028,9],8448,8449,[8451,4],8456,8457,8468,8470,8471,[8478,6],[8485,3,2],8494,8506,8507,8522,8524,8525,8527,8586,8587,[8597,5],[8604,4],8609,8610,8612,8613,[8615,7],[8623,31],8656,[8657,3,2],[8662,30],[8960,8],[8972,20],[8994,7],[9003,81],[9085,30],[9140,40],[9186,69],[9280,11],[9372,78],[9472,183],[9656,9],[9666,54],[9728,111],[9840,248],[10132,44],[10240,256],[11008,48],11077,11078,[11085,39],[11126,32],[11159,105],[11493,6],11856,11857,[11904,26],[11931,89],[12032,214],[12272,12],12292,12306,12307,12320,12342,12343,12350,12351,12688,12689,[12694,10],[12736,36],[12800,31],[12842,30],12880,[12896,32],[12938,39],[12992,320],[19904,64],[42128,55],[43048,4],43062,43063,43065,[43639,3],65021,65508,65512,65517,65518,65532,65533,[65847,9],[65913,17],[65932,3],[65936,13],65952,[66e3,45],67703,67704,68296,71487,[73685,8],[73697,17],[92988,4],92997,113820,[118784,246],[119040,39],[119081,60],[119146,3],119171,119172,[119180,30],[119214,59],[119296,66],119365,[119552,87],[120832,512],[121399,4],[121453,8],[121462,14],121477,121478,123215,126124,126254,[126976,44],[127024,100],[127136,15],[127153,15],[127169,15],[127185,37],[127245,161],[127462,29],[127504,44],[127552,9],127568,127569,[127584,6],[127744,251],[128e3,728],[128736,13],[128752,13],[128768,116],[128896,89],[128992,12],[129024,12],[129040,56],[129104,10],[129120,40],[129168,30],129200,129201,[129280,121],[129402,82],[129485,135],[129632,14],[129648,5],[129656,3],[129664,7],[129680,25],[129712,7],[129728,3],[129744,7],[129792,147],[129940,55]],Lo:[170,186,443,[448,4],660,[1488,27],[1519,4],[1568,32],[1601,10],1646,1647,[1649,99],1749,1774,1775,[1786,3],1791,1808,[1810,30],[1869,89],1969,[1994,33],[2048,22],[2112,25],[2144,11],[2208,21],[2230,18],[2308,54],2365,2384,[2392,10],[2418,15],[2437,8],2447,2448,[2451,22],[2474,7],2482,[2486,4],2493,2510,2524,2525,[2527,3],2544,2545,2556,[2565,6],2575,2576,[2579,22],[2602,7],2610,2611,2613,2614,2616,2617,[2649,4],2654,[2674,3],[2693,9],[2703,3],[2707,22],[2730,7],2738,2739,[2741,5],2749,2768,2784,2785,2809,[2821,8],2831,2832,[2835,22],[2858,7],2866,2867,[2869,5],2877,2908,2909,[2911,3],2929,2947,[2949,6],[2958,3],[2962,4],2969,[2970,3,2],2975,2979,2980,[2984,3],[2990,12],3024,[3077,8],[3086,3],[3090,23],[3114,16],3133,[3160,3],3168,3169,3200,[3205,8],[3214,3],[3218,23],[3242,10],[3253,5],3261,3294,3296,3297,3313,3314,[3332,9],[3342,3],[3346,41],3389,3406,[3412,3],[3423,3],[3450,6],[3461,18],[3482,24],[3507,9],3517,[3520,7],[3585,48],3634,3635,[3648,6],3713,[3714,3,2],[3719,4],[3724,24],3749,[3751,10],3762,3763,3773,[3776,5],[3804,4],3840,[3904,8],[3913,36],[3976,5],[4096,43],4159,[4176,6],[4186,4],4193,4197,4198,[4206,3],[4213,13],4238,[4352,329],[4682,4],[4688,7],4696,[4698,4],[4704,41],[4746,4],[4752,33],[4786,4],[4792,7],4800,[4802,4],[4808,15],[4824,57],[4882,4],[4888,67],[4992,16],[5121,620],[5743,17],[5761,26],[5792,75],[5873,8],[5888,13],[5902,4],[5920,18],[5952,18],[5984,13],[5998,3],[6016,52],6108,[6176,35],[6212,53],[6272,5],[6279,34],6314,[6320,70],[6400,31],[6480,30],[6512,5],[6528,44],[6576,26],[6656,23],[6688,53],[6917,47],[6981,7],[7043,30],7086,7087,[7098,44],[7168,36],[7245,3],[7258,30],[7401,4],[7406,6],7413,7414,7418,[8501,4],[11568,56],[11648,23],[11680,7],[11688,7],[11696,7],[11704,7],[11712,7],[11720,7],[11728,7],[11736,7],12294,12348,[12353,86],12447,[12449,90],12543,[12549,43],[12593,94],[12704,32],[12784,16],13312,19903,19968,40956,[40960,21],[40982,1143],[42192,40],[42240,268],[42512,16],42538,42539,42606,[42656,70],42895,42999,[43003,7],[43011,3],[43015,4],[43020,23],[43072,52],[43138,50],[43250,6],43259,43261,43262,[43274,28],[43312,23],[43360,29],[43396,47],[43488,5],[43495,9],[43514,5],[43520,41],[43584,3],[43588,8],[43616,16],[43633,6],43642,[43646,50],43697,43701,43702,[43705,5],43712,43714,43739,43740,[43744,11],43762,[43777,6],[43785,6],[43793,6],[43808,7],[43816,7],[43968,35],44032,55203,[55216,23],[55243,49],[63744,366],[64112,106],64285,[64287,10],[64298,13],[64312,5],64318,64320,64321,64323,64324,[64326,108],[64467,363],[64848,64],[64914,54],[65008,12],[65136,5],[65142,135],[65382,10],[65393,45],[65440,31],[65474,6],[65482,6],[65490,6],[65498,3],[65536,12],[65549,26],[65576,19],65596,65597,[65599,15],[65616,14],[65664,123],[66176,29],[66208,49],[66304,32],[66349,20],[66370,8],[66384,38],[66432,30],[66464,36],[66504,8],[66640,78],[66816,40],[66864,52],[67072,311],[67392,22],[67424,8],[67584,6],67592,[67594,44],67639,67640,67644,[67647,23],[67680,23],[67712,31],[67808,19],67828,67829,[67840,22],[67872,26],[67968,56],68030,68031,68096,[68112,4],[68117,3],[68121,29],[68192,29],[68224,29],[68288,8],[68297,28],[68352,54],[68416,22],[68448,19],[68480,18],[68608,73],[68864,36],[69248,42],69296,69297,[69376,29],69415,[69424,22],[69552,21],[69600,23],[69635,53],[69763,45],[69840,25],[69891,36],69956,69959,[69968,35],70006,[70019,48],[70081,4],70106,70108,[70144,18],[70163,25],[70272,7],70280,[70282,4],[70287,15],[70303,10],[70320,47],[70405,8],70415,70416,[70419,22],[70442,7],70450,70451,[70453,5],70461,70480,[70493,5],[70656,53],[70727,4],[70751,3],[70784,48],70852,70853,70855,[71040,47],[71128,4],[71168,48],71236,[71296,43],71352,[71424,27],[71680,44],[71935,8],71945,[71948,8],71957,71958,[71960,24],71999,72001,[72096,8],[72106,39],72161,72163,72192,[72203,40],72250,72272,[72284,46],72349,[72384,57],[72704,9],[72714,37],72768,[72818,30],[72960,7],72968,72969,[72971,38],73030,[73056,6],73063,73064,[73066,32],73112,[73440,19],73648,[73728,922],[74880,196],[77824,1071],[82944,583],[92160,569],[92736,31],[92880,30],[92928,48],[93027,21],[93053,19],[93952,75],94032,94208,100343,[100352,1238],101632,101640,[110592,287],[110928,3],[110948,4],[110960,396],[113664,107],[113776,13],[113792,9],[113808,10],[123136,45],123214,[123584,44],[124928,197],[126464,4],[126469,27],126497,126498,126500,126503,[126505,10],[126516,4],126521,126523,126530,[126535,4,2],126542,126543,126545,126546,126548,[126551,6,2],126562,126564,[126567,4],[126572,7],[126580,4],[126585,4],126590,[126592,10],[126603,17],[126625,3],[126629,5],[126635,17],131072,173789,173824,177972,177984,178205,178208,183969,183984,191456,[194560,542],196608,201546],Pi:[171,8216,8219,8220,8223,8249,11778,11780,11785,11788,11804,11808],Cf:[173,[1536,6],1564,1757,1807,2274,6158,[8203,5],[8234,5],[8288,5],[8294,10],65279,[65529,3],69821,69837,[78896,9],[113824,4],[119155,8],917505,[917536,96]],No:[178,179,185,[188,3],[2548,6],[2930,6],[3056,3],[3192,7],[3416,7],[3440,9],[3882,10],[4969,20],[6128,10],6618,8304,[8308,6],[8320,10],[8528,16],8585,[9312,60],[9450,22],[10102,30],11517,[12690,4],[12832,10],[12872,8],[12881,15],[12928,10],[12977,15],[43056,6],[65799,45],[65909,4],65930,65931,[66273,27],[66336,4],[67672,8],[67705,7],[67751,9],[67835,5],[67862,6],68028,68029,[68032,16],[68050,46],[68160,9],68221,68222,[68253,3],[68331,5],[68440,8],[68472,8],[68521,7],[68858,6],[69216,31],[69405,10],[69457,4],[69573,7],[69714,20],[70113,20],71482,71483,[71914,9],[72794,19],[73664,21],[93019,7],[93824,23],[119520,20],[119648,25],[125127,9],[126065,59],[126125,3],[126129,4],[126209,45],[126255,15],[127232,13]],Pf:[187,8217,8221,8250,11779,11781,11786,11789,11805,11809],Lt:[[453,3,3],498,[8072,8],[8088,8],[8104,8],8124,8140,8188],Lm:[[688,18],[710,12],[736,5],748,750,884,890,1369,1600,1765,1766,2036,2037,2042,2074,2084,2088,2417,3654,3782,4348,6103,6211,6823,[7288,6],[7468,63],7544,[7579,37],8305,8319,[8336,13],11388,11389,11631,11823,12293,[12337,5],12347,12445,12446,[12540,3],40981,[42232,6],42508,42623,42652,42653,[42775,9],42864,42888,43e3,43001,43471,43494,43632,43741,43763,43764,[43868,4],43881,65392,65438,65439,[92992,4],[94099,13],94176,94177,94179,[123191,7],125259],Mn:[[768,112],[1155,5],[1425,45],1471,1473,1474,1476,1477,1479,[1552,11],[1611,21],1648,[1750,7],[1759,6],1767,1768,[1770,4],1809,[1840,27],[1958,11],[2027,9],2045,[2070,4],[2075,9],[2085,3],[2089,5],[2137,3],[2259,15],[2275,32],2362,2364,[2369,8],2381,[2385,7],2402,2403,2433,2492,[2497,4],2509,2530,2531,2558,2561,2562,2620,2625,2626,2631,2632,[2635,3],2641,2672,2673,2677,2689,2690,2748,[2753,5],2759,2760,2765,2786,2787,[2810,6],2817,2876,2879,[2881,4],2893,2901,2902,2914,2915,2946,3008,3021,3072,3076,[3134,3],[3142,3],[3146,4],3157,3158,3170,3171,3201,3260,3263,3270,3276,3277,3298,3299,3328,3329,3387,3388,[3393,4],3405,3426,3427,3457,3530,[3538,3],3542,3633,[3636,7],[3655,8],3761,[3764,9],[3784,6],3864,3865,[3893,3,2],[3953,14],[3968,5],3974,3975,[3981,11],[3993,36],4038,[4141,4],[4146,6],4153,4154,4157,4158,4184,4185,[4190,3],[4209,4],4226,4229,4230,4237,4253,[4957,3],[5906,3],[5938,3],5970,5971,6002,6003,6068,6069,[6071,7],6086,[6089,11],6109,[6155,3],6277,6278,6313,[6432,3],6439,6440,6450,[6457,3],6679,6680,6683,6742,[6744,7],6752,6754,[6757,8],[6771,10],6783,[6832,14],6847,6848,[6912,4],6964,[6966,5],6972,6978,[7019,9],7040,7041,[7074,4],7080,7081,[7083,3],7142,7144,7145,7149,[7151,3],[7212,8],7222,7223,[7376,3],[7380,13],[7394,7],7405,7412,7416,7417,[7616,58],[7675,5],[8400,13],8417,[8421,12],[11503,3],11647,[11744,32],[12330,4],12441,12442,42607,[42612,10],42654,42655,42736,42737,43010,43014,43019,43045,43046,43052,43204,43205,[43232,18],43263,[43302,8],[43335,11],[43392,3],43443,[43446,4],43452,43453,43493,[43561,6],43569,43570,43573,43574,43587,43596,43644,43696,[43698,3],43703,43704,43710,43711,43713,43756,43757,43766,44005,44008,44013,64286,[65024,16],[65056,16],66045,66272,[66422,5],[68097,3],68101,68102,[68108,4],[68152,3],68159,68325,68326,[68900,4],69291,69292,[69446,11],69633,[69688,15],[69759,3],[69811,4],69817,69818,[69888,3],[69927,5],[69933,8],70003,70016,70017,[70070,9],[70089,4],70095,[70191,3],70196,70198,70199,70206,70367,[70371,8],70400,70401,70459,70460,70464,[70502,7],[70512,5],[70712,8],[70722,3],70726,70750,[70835,6],70842,70847,70848,70850,70851,[71090,4],71100,71101,71103,71104,71132,71133,[71219,8],71229,71231,71232,71339,71341,[71344,6],71351,[71453,3],[71458,4],[71463,5],[71727,9],71737,71738,71995,71996,71998,72003,[72148,4],72154,72155,72160,[72193,10],[72243,6],[72251,4],72263,[72273,6],[72281,3],[72330,13],72344,72345,[72752,7],[72760,6],72767,[72850,22],[72874,7],72882,72883,72885,72886,[73009,6],73018,73020,73021,[73023,7],73031,73104,73105,73109,73111,73459,73460,[92912,5],[92976,7],94031,[94095,4],94180,113821,113822,[119143,3],[119163,8],[119173,7],[119210,4],[119362,3],[121344,55],[121403,50],121461,121476,[121499,5],[121505,15],[122880,7],[122888,17],[122907,7],122915,122916,[122918,5],[123184,7],[123628,4],[125136,7],[125252,7],[917760,240]],Me:[1160,1161,6846,[8413,4],[8418,3],[42608,3]],Mc:[2307,2363,[2366,3],[2377,4],2382,2383,2434,2435,[2494,3],2503,2504,2507,2508,2519,2563,[2622,3],2691,[2750,3],2761,2763,2764,2818,2819,2878,2880,2887,2888,2891,2892,2903,3006,3007,3009,3010,[3014,3],[3018,3],3031,[3073,3],[3137,4],3202,3203,3262,[3264,5],3271,3272,3274,3275,3285,3286,3330,3331,[3390,3],[3398,3],[3402,3],3415,3458,3459,[3535,3],[3544,8],3570,3571,3902,3903,3967,4139,4140,4145,4152,4155,4156,4182,4183,[4194,3],[4199,7],4227,4228,[4231,6],4239,[4250,3],6070,[6078,8],6087,6088,[6435,4],[6441,3],6448,6449,[6451,6],6681,6682,6741,6743,6753,6755,6756,[6765,6],6916,6965,6971,[6973,5],6979,6980,7042,7073,7078,7079,7082,7143,[7146,3],7150,7154,7155,[7204,8],7220,7221,7393,7415,12334,12335,43043,43044,43047,43136,43137,[43188,16],43346,43347,43395,43444,43445,43450,43451,[43454,3],43567,43568,43571,43572,43597,43643,43645,43755,43758,43759,43765,44003,44004,44006,44007,44009,44010,44012,69632,69634,69762,[69808,3],69815,69816,69932,69957,69958,70018,[70067,3],70079,70080,70094,[70188,3],70194,70195,70197,[70368,3],70402,70403,70462,70463,[70465,4],70471,70472,[70475,3],70487,70498,70499,[70709,3],70720,70721,70725,[70832,3],70841,[70843,4],70849,[71087,3],[71096,4],71102,[71216,3],71227,71228,71230,71340,71342,71343,71350,71456,71457,71462,[71724,3],71736,[71984,6],71991,71992,71997,72e3,72002,[72145,3],[72156,4],72164,72249,72279,72280,72343,72751,72766,72873,72881,72884,[73098,5],73107,73108,73110,73461,73462,[94033,55],94192,94193,119141,119142,[119149,6]],Nl:[[5870,3],[8544,35],[8581,4],12295,[12321,9],[12344,3],[42726,10],[65856,53],66369,66378,[66513,5],[74752,111]],Zl:[8232],Zp:[8233],Cs:[55296,56191,56192,56319,56320,57343],Co:[57344,63743,983040,1048573,1048576,1114109],digits:[[48,10],178,179,185,[1632,10],[1776,10],[1984,10],[2406,10],[2534,10],[2662,10],[2790,10],[2918,10],[3046,10],[3174,10],[3302,10],[3430,10],[3558,10],[3664,10],[3792,10],[3872,10],[4160,10],[4240,10],[4969,9],[6112,10],[6160,10],[6470,10],[6608,11],[6784,10],[6800,10],[6992,10],[7088,10],[7232,10],[7248,10],8304,[8308,6],[8320,10],[9312,9],[9332,9],[9352,9],9450,[9461,9],9471,[10102,9],[10112,9],[10122,9],[42528,10],[43216,10],[43264,10],[43472,10],[43504,10],[43600,10],[44016,10],[65296,10],[66720,10],[68160,4],[68912,10],[69216,9],[69714,9],[69734,10],[69872,10],[69942,10],[70096,10],[70384,10],[70736,10],[70864,10],[71248,10],[71360,10],[71472,10],[71904,10],[72016,10],[72784,10],[73040,10],[73120,10],[92768,10],[93008,10],[120782,50],[123200,10],[123632,10],[125264,10],[127232,11],[130032,10]],numeric:[[48,10],178,179,185,[188,3],[1632,10],[1776,10],[1984,10],[2406,10],[2534,10],[2548,6],[2662,10],[2790,10],[2918,10],[2930,6],[3046,13],[3174,10],[3192,7],[3302,10],[3416,7],[3430,19],[3558,10],[3664,10],[3792,10],[3872,20],[4160,10],[4240,10],[4969,20],[5870,3],[6112,10],[6128,10],[6160,10],[6470,10],[6608,11],[6784,10],[6800,10],[6992,10],[7088,10],[7232,10],[7248,10],8304,[8308,6],[8320,10],[8528,51],[8581,5],[9312,60],[9450,22],[10102,30],11517,12295,[12321,9],[12344,3],[12690,4],[12832,10],[12872,8],[12881,15],[12928,10],[12977,15],13317,13443,14378,15181,19968,19971,19975,19977,20061,20108,20116,20118,20159,20160,20191,20200,20237,20336,20740,20806,[20841,3,2],21313,[21315,3],21324,[21441,4],22235,22769,22777,24186,24318,24319,[24332,3],24336,25342,25420,26578,28422,29590,30334,32902,33836,36014,36019,36144,38433,38470,38476,38520,38646,[42528,10],[42726,10],[43056,6],[43216,10],[43264,10],[43472,10],[43504,10],[43600,10],[44016,10],63851,63859,63864,63922,63953,63955,63997,[65296,10],[65799,45],[65856,57],65930,65931,[66273,27],[66336,4],66369,66378,[66513,5],[66720,10],[67672,8],[67705,7],[67751,9],[67835,5],[67862,6],68028,68029,[68032,16],[68050,46],[68160,9],68221,68222,[68253,3],[68331,5],[68440,8],[68472,8],[68521,7],[68858,6],[68912,10],[69216,31],[69405,10],[69457,4],[69573,7],[69714,30],[69872,10],[69942,10],[70096,10],[70113,20],[70384,10],[70736,10],[70864,10],[71248,10],[71360,10],[71472,12],[71904,19],[72016,10],[72784,29],[73040,10],[73120,10],[73664,21],[74752,111],[92768,10],[93008,10],[93019,7],[93824,23],[119520,20],[119648,25],[120782,50],[123200,10],[123632,10],[125127,9],[125264,10],[126065,59],[126125,3],[126129,4],[126209,45],[126255,15],[127232,13],[130032,10],131073,131172,131298,131361,133418,133507,133516,133532,133866,133885,133913,140176,141720,146203,156269,194704],Cn:[[888,2],[896,4],[907,1],[909,1],[930,1],[1328,1],[1367,2],[1419,2],[1424,1],[1480,8],[1515,4],[1525,11],[1565,1],[1806,1],[1867,2],[1970,14],[2043,2],[2094,2],[2111,1],[2140,2],[2143,1],[2155,53],[2229,1],[2248,11],[2436,1],[2445,2],[2449,2],[2473,1],[2481,1],[2483,3],[2490,2],[2501,2],[2505,2],[2511,8],[2520,4],[2526,1],[2532,2],[2559,2],[2564,1],[2571,4],[2577,2],[2601,1],[2609,1],[2612,1],[2615,1],[2618,2],[2621,1],[2627,4],[2633,2],[2638,3],[2642,7],[2653,1],[2655,7],[2679,10],[2692,1],[2702,1],[2706,1],[2729,1],[2737,1],[2740,1],[2746,2],[2758,1],[2762,1],[2766,2],[2769,15],[2788,2],[2802,7],[2816,1],[2820,1],[2829,2],[2833,2],[2857,1],[2865,1],[2868,1],[2874,2],[2885,2],[2889,2],[2894,7],[2904,4],[2910,1],[2916,2],[2936,10],[2948,1],[2955,3],[2961,1],[2966,3],[2971,1],[2973,1],[2976,3],[2981,3],[2987,3],[3002,4],[3011,3],[3017,1],[3022,2],[3025,6],[3032,14],[3067,5],[3085,1],[3089,1],[3113,1],[3130,3],[3141,1],[3145,1],[3150,7],[3159,1],[3163,5],[3172,2],[3184,7],[3213,1],[3217,1],[3241,1],[3252,1],[3258,2],[3269,1],[3273,1],[3278,7],[3287,7],[3295,1],[3300,2],[3312,1],[3315,13],[3341,1],[3345,1],[3397,1],[3401,1],[3408,4],[3428,2],[3456,1],[3460,1],[3479,3],[3506,1],[3516,1],[3518,2],[3527,3],[3531,4],[3541,1],[3543,1],[3552,6],[3568,2],[3573,12],[3643,4],[3676,37],[3715,1],[3717,1],[3723,1],[3748,1],[3750,1],[3774,2],[3781,1],[3783,1],[3790,2],[3802,2],[3808,32],[3912,1],[3949,4],[3992,1],[4029,1],[4045,1],[4059,37],[4294,1],[4296,5],[4302,2],[4681,1],[4686,2],[4695,1],[4697,1],[4702,2],[4745,1],[4750,2],[4785,1],[4790,2],[4799,1],[4801,1],[4806,2],[4823,1],[4881,1],[4886,2],[4955,2],[4989,3],[5018,6],[5110,2],[5118,2],[5789,3],[5881,7],[5901,1],[5909,11],[5943,9],[5972,12],[5997,1],[6001,1],[6004,12],[6110,2],[6122,6],[6138,6],[6159,1],[6170,6],[6265,7],[6315,5],[6390,10],[6431,1],[6444,4],[6460,4],[6465,3],[6510,2],[6517,11],[6572,4],[6602,6],[6619,3],[6684,2],[6751,1],[6781,2],[6794,6],[6810,6],[6830,2],[6849,63],[6988,4],[7037,3],[7156,8],[7224,3],[7242,3],[7305,7],[7355,2],[7368,8],[7419,5],[7674,1],[7958,2],[7966,2],[8006,2],[8014,2],[8024,1],[8026,1],[8028,1],[8030,1],[8062,2],[8117,1],[8133,1],[8148,2],[8156,1],[8176,2],[8181,1],[8191,1],[8293,1],[8306,2],[8335,1],[8349,3],[8384,16],[8433,15],[8588,4],[9255,25],[9291,21],[11124,2],[11158,1],[11311,1],[11359,1],[11508,5],[11558,1],[11560,5],[11566,2],[11624,7],[11633,14],[11671,9],[11687,1],[11695,1],[11703,1],[11711,1],[11719,1],[11727,1],[11735,1],[11743,1],[11859,45],[11930,1],[12020,12],[12246,26],[12284,4],[12352,1],[12439,2],[12544,5],[12592,1],[12687,1],[12772,12],[12831,1],[40957,3],[42125,3],[42183,9],[42540,20],[42744,8],[42944,2],[42955,42],[43053,3],[43066,6],[43128,8],[43206,8],[43226,6],[43348,11],[43389,3],[43470,1],[43482,4],[43519,1],[43575,9],[43598,2],[43610,2],[43715,24],[43767,10],[43783,2],[43791,2],[43799,9],[43815,1],[43823,1],[43884,4],[44014,2],[44026,6],[55204,12],[55239,4],[55292,4],[64110,2],[64218,38],[64263,12],[64280,5],[64311,1],[64317,1],[64319,1],[64322,1],[64325,1],[64450,17],[64832,16],[64912,2],[64968,40],[65022,2],[65050,6],[65107,1],[65127,1],[65132,4],[65141,1],[65277,2],[65280,1],[65471,3],[65480,2],[65488,2],[65496,2],[65501,3],[65511,1],[65519,10],[65534,2],[65548,1],[65575,1],[65595,1],[65598,1],[65614,2],[65630,34],[65787,5],[65795,4],[65844,3],[65935,1],[65949,3],[65953,47],[66046,130],[66205,3],[66257,15],[66300,4],[66340,9],[66379,5],[66427,5],[66462,1],[66500,4],[66518,42],[66718,2],[66730,6],[66772,4],[66812,4],[66856,8],[66916,11],[66928,144],[67383,9],[67414,10],[67432,152],[67590,2],[67593,1],[67638,1],[67641,3],[67645,2],[67670,1],[67743,8],[67760,48],[67827,1],[67830,5],[67868,3],[67898,5],[67904,64],[68024,4],[68048,2],[68100,1],[68103,5],[68116,1],[68120,1],[68150,2],[68155,4],[68169,7],[68185,7],[68256,32],[68327,4],[68343,9],[68406,3],[68438,2],[68467,5],[68498,7],[68509,12],[68528,80],[68681,55],[68787,13],[68851,7],[68904,8],[68922,294],[69247,1],[69290,1],[69294,2],[69298,78],[69416,8],[69466,86],[69580,20],[69623,9],[69710,4],[69744,15],[69826,11],[69838,2],[69865,7],[69882,6],[69941,1],[69960,8],[70007,9],[70112,1],[70133,11],[70162,1],[70207,65],[70279,1],[70281,1],[70286,1],[70302,1],[70314,6],[70379,5],[70394,6],[70404,1],[70413,2],[70417,2],[70441,1],[70449,1],[70452,1],[70458,1],[70469,2],[70473,2],[70478,2],[70481,6],[70488,5],[70500,2],[70509,3],[70517,139],[70748,1],[70754,30],[70856,8],[70874,166],[71094,2],[71134,34],[71237,11],[71258,6],[71277,19],[71353,7],[71370,54],[71451,2],[71468,4],[71488,192],[71740,100],[71923,12],[71943,2],[71946,2],[71956,1],[71959,1],[71990,1],[71993,2],[72007,9],[72026,70],[72104,2],[72152,2],[72165,27],[72264,8],[72355,29],[72441,263],[72713,1],[72759,1],[72774,10],[72813,3],[72848,2],[72872,1],[72887,73],[72967,1],[72970,1],[73015,3],[73019,1],[73022,1],[73032,8],[73050,6],[73062,1],[73065,1],[73103,1],[73106,1],[73113,7],[73130,310],[73465,183],[73649,15],[73714,13],[74650,102],[74863,1],[74869,11],[75076,2748],[78895,1],[78905,4039],[83527,8633],[92729,7],[92767,1],[92778,4],[92784,96],[92910,2],[92918,10],[92998,10],[93018,1],[93026,1],[93048,5],[93072,688],[93851,101],[94027,4],[94088,7],[94112,64],[94181,11],[94194,14],[100344,8],[101590,42],[101641,8951],[110879,49],[110931,17],[110952,8],[111356,2308],[113771,5],[113789,3],[113801,7],[113818,2],[113828,4956],[119030,10],[119079,2],[119273,23],[119366,154],[119540,12],[119639,9],[119673,135],[119893,1],[119965,1],[119968,2],[119971,2],[119975,2],[119981,1],[119994,1],[119996,1],[120004,1],[120070,1],[120075,2],[120085,1],[120093,1],[120122,1],[120127,1],[120133,1],[120135,3],[120145,1],[120486,2],[120780,2],[121484,15],[121504,1],[121520,1360],[122887,1],[122905,2],[122914,1],[122917,1],[122923,213],[123181,3],[123198,2],[123210,4],[123216,368],[123642,5],[123648,1280],[125125,2],[125143,41],[125260,4],[125274,4],[125280,785],[126133,76],[126270,194],[126468,1],[126496,1],[126499,1],[126501,2],[126504,1],[126515,1],[126520,1],[126522,1],[126524,6],[126531,4],[126536,1],[126538,1],[126540,1],[126544,1],[126547,1],[126549,2],[126552,1],[126554,1],[126556,1],[126558,1],[126560,1],[126563,1],[126565,2],[126571,1],[126579,1],[126584,1],[126589,1],[126591,1],[126602,1],[126620,5],[126628,1],[126634,1],[126652,52],[126706,270],[127020,4],[127124,12],[127151,2],[127168,1],[127184,1],[127222,10],[127406,56],[127491,13],[127548,4],[127561,7],[127570,14],[127590,154],[128728,8],[128749,3],[128765,3],[128884,12],[128985,7],[129004,20],[129036,4],[129096,8],[129114,6],[129160,8],[129198,2],[129202,78],[129401,1],[129484,1],[129620,12],[129646,2],[129653,3],[129659,5],[129671,9],[129705,7],[129719,9],[129731,13],[129751,41],[129939,1],[129995,37],[130042,1030],[173790,34],[177973,11],[178206,2],[183970,14],[191457,3103],[195102,1506],[201547,715958],[917506,30],[917632,128],[918e3,65040],[1048574,2]]},$B.unicode_casefold={223:[115,115],304:[105,775],329:[700,110],496:[106,780],912:[953,776,769],944:[965,776,769],1415:[1381,1410],7830:[104,817],7831:[116,776],7832:[119,778],7833:[121,778],7834:[97,702],7838:[223],8016:[965,787],8018:[965,787,768],8020:[965,787,769],8022:[965,787,834],8064:[7936,953],8065:[7937,953],8066:[7938,953],8067:[7939,953],8068:[7940,953],8069:[7941,953],8070:[7942,953],8071:[7943,953],8072:[8064],8073:[8065],8074:[8066],8075:[8067],8076:[8068],8077:[8069],8078:[8070],8079:[8071],8080:[7968,953],8081:[7969,953],8082:[7970,953],8083:[7971,953],8084:[7972,953],8085:[7973,953],8086:[7974,953],8087:[7975,953],8088:[8080],8089:[8081],8090:[8082],8091:[8083],8092:[8084],8093:[8085],8094:[8086],8095:[8087],8096:[8032,953],8097:[8033,953],8098:[8034,953],8099:[8035,953],8100:[8036,953],8101:[8037,953],8102:[8038,953],8103:[8039,953],8104:[8096],8105:[8097],8106:[8098],8107:[8099],8108:[8100],8109:[8101],8110:[8102],8111:[8103],8114:[8048,953],8115:[945,953],8116:[940,953],8118:[945,834],8119:[945,834,953],8124:[8115],8130:[8052,953],8131:[951,953],8132:[942,953],8134:[951,834],8135:[951,834,953],8140:[8131],8146:[953,776,768],8147:[953,776,769],8150:[953,834],8151:[953,776,834],8162:[965,776,768],8163:[965,776,769],8164:[961,787],8166:[965,834],8167:[965,776,834],8178:[8060,953],8179:[969,953],8180:[974,953],8182:[969,834],8183:[969,834,953],8188:[8179],64256:[102,102],64257:[102,105],64258:[102,108],64259:[102,102,105],64260:[102,102,108],64261:[115,116],64262:[115,116],64275:[1396,1398],64276:[1396,1381],64277:[1396,1387],64278:[1406,1398],64279:[1396,1389]},$B.unicode_bidi_whitespace=[9,10,11,12,13,28,29,30,31,32,133,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8287,12288],$B.unicode_identifiers={XID_Start:[95,[65,26],[97,26],170,181,186,[192,23],[216,31],[248,458],[710,12],[736,5],748,750,[880,5],[886,2],[891,3],895,902,[904,3],908,[910,20],[931,83],[1015,139],[1162,166],[1329,38],1369,[1376,41],[1488,27],[1519,4],[1568,43],[1646,2],[1649,99],1749,[1765,2],[1774,2],[1786,3],1791,1808,[1810,30],[1869,89],1969,[1994,33],[2036,2],2042,[2048,22],2074,2084,2088,[2112,25],[2144,11],[2208,21],[2230,18],[2308,54],2365,2384,[2392,10],2417,[2418,15],[2437,8],[2447,2],[2451,22],[2474,7],2482,[2486,4],2493,2510,[2524,2],[2527,3],[2544,2],2556,[2565,6],[2575,2],[2579,22],[2602,7],[2610,2],[2613,2],[2616,2],[2649,4],2654,[2674,3],[2693,9],[2703,3],[2707,22],[2730,7],[2738,2],[2741,5],2749,2768,[2784,2],2809,[2821,8],[2831,2],[2835,22],[2858,7],[2866,2],[2869,5],2877,[2908,2],[2911,3],2929,2947,[2949,6],[2958,3],[2962,4],[2969,2],2972,[2974,2],[2979,2],[2984,3],[2990,12],3024,[3077,8],[3086,3],[3090,23],[3114,16],3133,[3160,3],[3168,2],3200,[3205,8],[3214,3],[3218,23],[3242,10],[3253,5],3261,3294,[3296,2],[3313,2],[3332,9],[3342,3],[3346,41],3389,3406,[3412,3],[3423,3],[3450,6],[3461,18],[3482,24],[3507,9],3517,[3520,7],[3585,48],3634,[3648,7],[3713,2],3716,[3718,5],[3724,24],3749,[3751,10],3762,3773,[3776,5],3782,[3804,4],3840,[3904,8],[3913,36],[3976,5],[4096,43],4159,[4176,6],[4186,4],4193,[4197,2],[4206,3],[4213,13],4238,[4256,38],4295,4301,[4304,43],4348,[4349,332],[4682,4],[4688,7],4696,[4698,4],[4704,41],[4746,4],[4752,33],[4786,4],[4792,7],4800,[4802,4],[4808,15],[4824,57],[4882,4],[4888,67],[4992,16],[5024,86],[5112,6],[5121,620],[5743,17],[5761,26],[5792,75],[5870,11],[5888,13],[5902,4],[5920,18],[5952,18],[5984,13],[5998,3],[6016,52],6103,6108,[6176,89],[6272,41],6314,[6320,70],[6400,31],[6480,30],[6512,5],[6528,44],[6576,26],[6656,23],[6688,53],6823,[6917,47],[6981,7],[7043,30],[7086,2],[7098,44],[7168,36],[7245,3],[7258,36],[7296,9],[7312,43],[7357,3],[7401,4],[7406,6],[7413,2],7418,[7424,192],[7680,278],[7960,6],[7968,38],[8008,6],[8016,8],8025,8027,8029,[8031,31],[8064,53],[8118,7],8126,[8130,3],[8134,7],[8144,4],[8150,6],[8160,13],[8178,3],[8182,7],8305,8319,[8336,13],8450,8455,[8458,10],8469,8472,[8473,5],8484,8486,8488,[8490,16],[8508,4],[8517,5],8526,[8544,41],[11264,47],[11312,47],[11360,133],[11499,4],[11506,2],[11520,38],11559,11565,[11568,56],11631,[11648,23],[11680,7],[11688,7],[11696,7],[11704,7],[11712,7],[11720,7],[11728,7],[11736,7],12293,12294,12295,[12321,9],[12337,5],[12344,5],[12353,86],[12445,3],[12449,90],[12540,4],[12549,43],[12593,94],[12704,32],[12784,16],[13312,6592],[19968,20989],[40960,1165],[42192,46],[42240,269],[42512,16],[42538,2],[42560,47],42623,[42624,30],[42656,80],[42775,9],[42786,103],[42891,53],[42946,9],[42997,13],[43011,3],[43015,4],[43020,23],[43072,52],[43138,50],[43250,6],43259,[43261,2],[43274,28],[43312,23],[43360,29],[43396,47],43471,[43488,5],43494,[43495,9],[43514,5],[43520,41],[43584,3],[43588,8],[43616,23],43642,[43646,50],43697,[43701,2],[43705,5],43712,43714,[43739,3],[43744,11],43762,[43763,2],[43777,6],[43785,6],[43793,6],[43808,7],[43816,7],[43824,43],[43868,14],[43888,115],[44032,11172],[55216,23],[55243,49],[63744,366],[64112,106],[64256,7],[64275,5],64285,[64287,10],[64298,13],[64312,5],64318,[64320,2],[64323,2],[64326,108],[64467,139],[64612,218],[64848,64],[64914,54],[65008,10],65137,65139,65143,65145,65147,65149,[65151,126],[65313,26],[65345,26],[65382,56],[65440,31],[65474,6],[65482,6],[65490,6],[65498,3],[65536,12],[65549,26],[65576,19],[65596,2],[65599,15],[65616,14],[65664,123],[65856,53],[66176,29],[66208,49],[66304,32],[66349,30],[66384,38],[66432,30],[66464,36],[66504,8],[66513,5],[66560,158],[66736,36],[66776,36],[66816,40],[66864,52],[67072,311],[67392,22],[67424,8],[67584,6],67592,[67594,44],[67639,2],67644,[67647,23],[67680,23],[67712,31],[67808,19],[67828,2],[67840,22],[67872,26],[67968,56],[68030,2],68096,[68112,4],[68117,3],[68121,29],[68192,29],[68224,29],[68288,8],[68297,28],[68352,54],[68416,22],[68448,19],[68480,18],[68608,73],[68736,51],[68800,51],[68864,36],[69248,42],[69296,2],[69376,29],69415,[69424,22],[69552,21],[69600,23],[69635,53],[69763,45],[69840,25],[69891,36],69956,69959,[69968,35],70006,[70019,48],[70081,4],70106,70108,[70144,18],[70163,25],[70272,7],70280,[70282,4],[70287,15],[70303,10],[70320,47],[70405,8],[70415,2],[70419,22],[70442,7],[70450,2],[70453,5],70461,70480,[70493,5],[70656,53],[70727,4],[70751,3],[70784,48],[70852,2],70855,[71040,47],[71128,4],[71168,48],71236,[71296,43],71352,[71424,27],[71680,44],[71840,64],[71935,8],71945,[71948,8],[71957,2],[71960,24],71999,72001,[72096,8],[72106,39],72161,72163,72192,[72203,40],72250,72272,[72284,46],72349,[72384,57],[72704,9],[72714,37],72768,[72818,30],[72960,7],[72968,2],[72971,38],73030,[73056,6],[73063,2],[73066,32],73112,[73440,19],73648,[73728,922],[74752,111],[74880,196],[77824,1071],[82944,583],[92160,569],[92736,31],[92880,30],[92928,48],[92992,4],[93027,21],[93053,19],[93760,64],[93952,75],94032,[94099,13],[94176,2],94179,[94208,6136],[100352,1238],[101632,9],[110592,287],[110928,3],[110948,4],[110960,396],[113664,107],[113776,13],[113792,9],[113808,10],[119808,85],[119894,71],[119966,2],119970,[119973,2],[119977,4],[119982,12],119995,[119997,7],[120005,65],[120071,4],[120077,8],[120086,7],[120094,28],[120123,4],[120128,5],120134,[120138,7],[120146,340],[120488,25],[120514,25],[120540,31],[120572,25],[120598,31],[120630,25],[120656,31],[120688,25],[120714,31],[120746,25],[120772,8],[123136,45],[123191,7],123214,[123584,44],[124928,197],[125184,68],125259,[126464,4],[126469,27],[126497,2],126500,126503,[126505,10],[126516,4],126521,126523,126530,126535,126537,126539,[126541,3],[126545,2],126548,126551,126553,126555,126557,126559,[126561,2],126564,[126567,4],[126572,7],[126580,4],[126585,4],126590,[126592,10],[126603,17],[126625,3],[126629,5],[126635,17],[131072,42718],[173824,4149],[177984,222],[178208,5762],[183984,7473],[194560,542],[196608,4939]],XID_Continue:[[48,10],[65,26],95,[97,26],170,181,183,186,[192,23],[216,31],[248,458],[710,12],[736,5],748,750,[768,117],[886,2],[891,3],895,902,903,[904,3],908,[910,20],[931,83],[1015,139],[1155,5],[1162,166],[1329,38],1369,[1376,41],[1425,45],1471,[1473,2],[1476,2],1479,[1488,27],[1519,4],[1552,11],[1568,74],[1646,102],1749,[1750,7],[1759,10],[1770,19],1791,1808,1809,[1810,57],[1869,101],[1984,54],2042,2045,[2048,46],[2112,28],[2144,11],[2208,21],[2230,18],[2259,15],[2275,129],[2406,10],2417,[2418,18],[2437,8],[2447,2],[2451,22],[2474,7],2482,[2486,4],2492,2493,[2494,7],[2503,2],[2507,4],2519,[2524,2],[2527,5],[2534,12],2556,2558,[2561,3],[2565,6],[2575,2],[2579,22],[2602,7],[2610,2],[2613,2],[2616,2],2620,[2622,5],[2631,2],[2635,3],2641,[2649,4],2654,[2662,16],[2689,3],[2693,9],[2703,3],[2707,22],[2730,7],[2738,2],[2741,5],2748,2749,[2750,8],[2759,3],[2763,3],2768,[2784,4],[2790,10],2809,[2810,6],2817,[2818,2],[2821,8],[2831,2],[2835,22],[2858,7],[2866,2],[2869,5],2876,2877,2878,2879,2880,[2881,4],[2887,2],[2891,3],[2901,3],[2908,2],[2911,5],[2918,10],2929,2946,2947,[2949,6],[2958,3],[2962,4],[2969,2],2972,[2974,2],[2979,2],[2984,3],[2990,12],[3006,5],[3014,3],[3018,4],3024,3031,[3046,10],3072,[3073,12],[3086,3],[3090,23],[3114,16],3133,[3134,7],[3142,3],[3146,4],[3157,2],[3160,3],[3168,4],[3174,10],3200,3201,[3202,2],[3205,8],[3214,3],[3218,23],[3242,10],[3253,5],3260,3261,3262,3263,[3264,5],3270,[3271,2],[3274,4],[3285,2],3294,[3296,4],[3302,10],[3313,2],[3328,13],[3342,3],[3346,51],[3398,3],[3402,5],[3412,4],[3423,5],[3430,10],[3450,6],3457,[3458,2],[3461,18],[3482,24],[3507,9],3517,[3520,7],3530,[3535,6],3542,[3544,8],[3558,10],[3570,2],[3585,58],[3648,15],[3664,10],[3713,2],3716,[3718,5],[3724,24],3749,[3751,23],[3776,5],3782,[3784,6],[3792,10],[3804,4],3840,[3864,2],[3872,10],3893,3895,3897,[3902,10],[3913,36],[3953,20],[3974,18],[3993,36],4038,[4096,74],[4176,78],[4256,38],4295,4301,[4304,43],4348,[4349,332],[4682,4],[4688,7],4696,[4698,4],[4704,41],[4746,4],[4752,33],[4786,4],[4792,7],4800,[4802,4],[4808,15],[4824,57],[4882,4],[4888,67],[4957,3],[4969,9],[4992,16],[5024,86],[5112,6],[5121,620],[5743,17],[5761,26],[5792,75],[5870,11],[5888,13],[5902,7],[5920,21],[5952,20],[5984,13],[5998,3],[6002,2],[6016,84],6103,6108,6109,[6112,10],[6155,3],[6160,10],[6176,89],[6272,43],[6320,70],[6400,31],[6432,12],[6448,12],[6470,40],[6512,5],[6528,44],[6576,26],[6608,11],[6656,28],[6688,63],6752,6753,6754,[6755,26],6783,[6784,10],[6800,10],6823,[6832,14],[6847,2],[6912,76],[6992,10],[7019,9],[7040,116],[7168,56],[7232,10],[7245,49],[7296,9],[7312,43],[7357,3],[7376,3],[7380,39],[7424,250],[7675,283],[7960,6],[7968,38],[8008,6],[8016,8],8025,8027,8029,[8031,31],[8064,53],[8118,7],8126,[8130,3],[8134,7],[8144,4],[8150,6],[8160,13],[8178,3],[8182,7],[8255,2],8276,8305,8319,[8336,13],[8400,13],8417,[8421,12],8450,8455,[8458,10],8469,8472,[8473,5],8484,8486,8488,[8490,16],[8508,4],[8517,5],8526,[8544,41],[11264,47],[11312,47],[11360,133],[11499,9],[11520,38],11559,11565,[11568,56],11631,11647,[11648,23],[11680,7],[11688,7],[11696,7],[11704,7],[11712,7],[11720,7],[11728,7],[11736,7],[11744,32],12293,12294,12295,[12321,15],[12337,5],[12344,5],[12353,86],[12441,2],[12445,3],[12449,90],[12540,4],[12549,43],[12593,94],[12704,32],[12784,16],[13312,6592],[19968,20989],[40960,1165],[42192,46],[42240,269],[42512,28],[42560,48],[42612,10],42623,[42624,114],[42775,9],[42786,103],[42891,53],[42946,9],[42997,51],43052,[43072,52],[43136,70],[43216,10],[43232,24],43259,[43261,49],[43312,36],[43360,29],[43392,65],43471,[43472,10],[43488,31],[43520,55],[43584,14],[43600,10],[43616,23],43642,43643,43644,43645,[43646,69],[43739,3],[43744,16],43762,[43763,4],[43777,6],[43785,6],[43793,6],[43808,7],[43816,7],[43824,43],[43868,14],[43888,123],44012,44013,[44016,10],[44032,11172],[55216,23],[55243,49],[63744,366],[64112,106],[64256,7],[64275,5],64285,64286,[64287,10],[64298,13],[64312,5],64318,[64320,2],[64323,2],[64326,108],[64467,139],[64612,218],[64848,64],[64914,54],[65008,10],[65024,16],[65056,16],[65075,2],[65101,3],65137,65139,65143,65145,65147,65149,[65151,126],[65296,10],[65313,26],65343,[65345,26],[65382,89],[65474,6],[65482,6],[65490,6],[65498,3],[65536,12],[65549,26],[65576,19],[65596,2],[65599,15],[65616,14],[65664,123],[65856,53],66045,[66176,29],[66208,49],66272,[66304,32],[66349,30],[66384,43],[66432,30],[66464,36],[66504,8],[66513,5],[66560,158],[66720,10],[66736,36],[66776,36],[66816,40],[66864,52],[67072,311],[67392,22],[67424,8],[67584,6],67592,[67594,44],[67639,2],67644,[67647,23],[67680,23],[67712,31],[67808,19],[67828,2],[67840,22],[67872,26],[67968,56],[68030,2],68096,[68097,3],[68101,2],[68108,8],[68117,3],[68121,29],[68152,3],68159,[68192,29],[68224,29],[68288,8],[68297,30],[68352,54],[68416,22],[68448,19],[68480,18],[68608,73],[68736,51],[68800,51],[68864,40],[68912,10],[69248,42],[69291,2],[69296,2],[69376,29],69415,[69424,33],[69552,21],[69600,23],69632,69633,69634,[69635,68],[69734,10],[69759,60],[69840,25],[69872,10],[69888,53],[69942,10],69956,[69957,3],[69968,36],70006,[70016,69],[70089,4],70094,70095,[70096,11],70108,[70144,18],[70163,37],70206,[70272,7],70280,[70282,4],[70287,15],[70303,10],[70320,59],[70384,10],[70400,4],[70405,8],[70415,2],[70419,22],[70442,7],[70450,2],[70453,5],[70459,10],[70471,2],[70475,3],70480,70487,[70493,7],[70502,7],[70512,5],[70656,75],[70736,10],70750,[70751,3],[70784,70],70855,[70864,10],[71040,54],[71096,9],[71128,6],[71168,65],71236,[71248,10],[71296,57],[71360,10],[71424,27],[71453,15],[71472,10],[71680,59],[71840,74],[71935,8],71945,[71948,8],[71957,2],[71960,30],[71991,2],[71995,9],[72016,10],[72096,8],[72106,46],[72154,8],72163,72164,72192,[72193,62],72263,72272,[72273,73],72349,[72384,57],[72704,9],[72714,45],[72760,9],[72784,10],[72818,30],[72850,22],72873,[72874,13],[72960,7],[72968,2],[72971,44],73018,[73020,2],[73023,9],[73040,10],[73056,6],[73063,2],[73066,37],[73104,2],[73107,6],[73120,10],[73440,23],73648,[73728,922],[74752,111],[74880,196],[77824,1071],[82944,583],[92160,569],[92736,31],[92768,10],[92880,30],[92912,5],[92928,55],[92992,4],[93008,10],[93027,21],[93053,19],[93760,64],[93952,75],94031,94032,[94033,55],[94095,17],[94176,2],94179,94180,[94192,2],[94208,6136],[100352,1238],[101632,9],[110592,287],[110928,3],[110948,4],[110960,396],[113664,107],[113776,13],[113792,9],[113808,10],[113821,2],[119141,5],[119149,6],[119163,8],[119173,7],[119210,4],[119362,3],[119808,85],[119894,71],[119966,2],119970,[119973,2],[119977,4],[119982,12],119995,[119997,7],[120005,65],[120071,4],[120077,8],[120086,7],[120094,28],[120123,4],[120128,5],120134,[120138,7],[120146,340],[120488,25],[120514,25],[120540,31],[120572,25],[120598,31],[120630,25],[120656,31],[120688,25],[120714,31],[120746,25],[120772,8],[120782,50],[121344,55],[121403,50],121461,121476,[121499,5],[121505,15],[122880,7],[122888,17],[122907,7],[122915,2],[122918,5],[123136,45],[123184,14],[123200,10],123214,[123584,58],[124928,197],[125136,7],[125184,76],[125264,10],[126464,4],[126469,27],[126497,2],126500,126503,[126505,10],[126516,4],126521,126523,126530,126535,126537,126539,[126541,3],[126545,2],126548,126551,126553,126555,126557,126559,[126561,2],126564,[126567,4],[126572,7],[126580,4],[126585,4],126590,[126592,10],[126603,17],[126625,3],[126629,5],[126635,17],[130032,10],[131072,42718],[173824,4149],[177984,222],[178208,5762],[183984,7473],[194560,542],[196608,4939],[917760,240]]},$B.unicode_tables={},$B.unicode)$B.unicode_tables[gc]={},$B.unicode[gc].forEach(function(t){if(Array.isArray(t))for(var e=t[2]||1,r=0,n=t[1];r<n;r+=1)$B.unicode_tables[gc][t[0]+r*e]=!0;else $B.unicode_tables[gc][t]=!0});for(key in $B.unicode_identifiers){$B.unicode_tables[key]={};for(const item of $B.unicode_identifiers[key])if(Array.isArray(item))for(var i=0;i<item[1];i++)$B.unicode_tables[key][item[0]+i]=!0;else $B.unicode_tables[key][item]=!0}$B.is_unicode_cn=function(t){var e=$B.unicode.Cn,r=0;return r<e.length&&(t>=e[r][0]&&t<e[r][0]+e[r][1])},function($B){var _b_=$B.builtins,unicode_tables=$B.unicode_tables;function pypos2jspos(t,e){if(void 0===t.surrogates)return e;for(var r=0;t.surrogates[r]<e;)r++;return e+r}function jspos2pypos(t,e){if(void 0===t.surrogates)return e;for(var r=0;t.surrogates[r]+r<e;)r++;return e-r}$B.has_surrogate=function(t){for(var e=0;e<t.length;e++)if(code=t.charCodeAt(e),55296<=code&&code<=56319)return!0;return!1},$B.String=function(t){for(var e=[],r=0,n=0,o=t.length;n<o;n++)65536<=t.codePointAt(n)&&(e.push(r),n++),r++;if(0==e.length)return t;var s=new String(t);return s.__class__=str,s.surrogates=e,s};var str={__class__:_b_.type,__dir__:_b_.object.__dir__,$infos:{__module__:"builtins",__name__:"str"},$is_class:!0,$native:!0};function normalize_start_end(t){var e="string"==typeof t.self?t.self.length:str.__len__(t.self);if(null===t.start||t.start===_b_.None?t.start=0:t.start<0&&(t.start+=e,t.start=Math.max(0,t.start)),null===t.end||t.end===_b_.None?t.end=e:t.end<0&&(t.end+=e,t.end=Math.max(0,t.end)),!_b_.isinstance(t.start,_b_.int)||!_b_.isinstance(t.end,_b_.int))throw _b_.TypeError.$factory("slice indices must be integers or None or have an __index__ method");t.self.surrogates&&(t.js_start=pypos2jspos(t.self,t.start),t.js_end=pypos2jspos(t.self,t.end))}function reverse(t){return t.split("").reverse().join("")}function check_str(t,e){if(!(t instanceof String||"string"==typeof t||_b_.isinstance(t,str)))throw _b_.TypeError.$factory((e||"")+"must be str, not "+$B.class_name(t))}function to_chars(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t.charCodeAt(r);55296<=o&&o<=56319?(e.push(t.substr(r,2)),r++):e.push(t.charAt(r))}return e}function to_codepoints(t){if(t.codepoints)return t.codepoints;for(var e=[],r=0,n=t.length;r<n;r++){var o,s=t.charCodeAt(r);55296<=s&&s<=56319?(o=65536,o+=(1023&s)<<10,o+=1023&t.charCodeAt(r+1),e.push(o),r++):e.push(s)}return t.codepoints=e}function preformat(t,e){if(e.empty)return _b_.str.$factory(t);if(e.type&&"s"!=e.type)throw _b_.ValueError.$factory("Unknown format code '"+e.type+"' for object of type 'str'");return t}str.__add__=function(t,e){if(!_b_.isinstance(e,str))try{return $B.$getattr(e,"__radd__")(t)}catch(t){throw _b_.TypeError.$factory("Can't convert "+$B.class_name(e)+" to str implicitly")}return $B.String(t+e)},str.__contains__=function(t,e){if(!_b_.isinstance(e,str))throw _b_.TypeError.$factory("'in <string>' requires string as left operand, not "+e.__class__);var r;if(0==(r=e.__class__===str||_b_.isinstance(e,str)?e.length:_b_.len(e)))return!0;if(0==(o=t.length))return 0==r;for(var n=0,o=t.length;n<o;n++)if(t.substr(n,r)==e)return!0;return!1},str.__delitem__=function(){throw _b_.TypeError.$factory("'str' object doesn't support item deletion")},str.__dir__=_b_.object.__dir__,str.__eq__=function(t,e){return _b_.isinstance(e,_b_.str)?e.valueOf()==t.valueOf():_b_.NotImplemented},str.__format__=function(t,e){e=new $B.parse_format_spec(e);if(void 0!==e.sign)throw _b_.ValueError.$factory("Sign not allowed in string format specifier");return e.precision&&(t=t.substr(0,e.precision)),e.align=e.align||"<",$B.format_width(preformat(t,e),e)},str.__getitem__=function(t,e){var r=str.__len__(t);if(_b_.isinstance(e,_b_.int)){var n=e;if(e<0&&(n+=r),0<=n&&n<r){var o=pypos2jspos(t,n);return 65536<=t.codePointAt(o)?$B.String(t.substr(o,2)):t[o]}throw _b_.IndexError.$factory("string index out of range")}if(_b_.isinstance(e,_b_.slice)){var o=_b_.slice.$conv_for_seq(e,r),r=pypos2jspos(t,o.start),s=pypos2jspos(t,o.stop),a=o.step,_="",i=null;if(0<a){if(s<=r)return"";for(i=r;i<s;i+=a)_+=t[i]}else{if(r<=s)return"";for(i=r;s<i;i+=a)_+=t[i]}return $B.String(_)}if(_b_.isinstance(e,_b_.bool))return t.__getitem__(_b_.int.$factory(e));throw _b_.TypeError.$factory("string indices must be integers")};var prefix=2,suffix=3,mask=2**32-1,str_hash_cache={};function fnv(t){if(0==t.length)return 0;for(var e=((e=prefix)^t[0]<<7)&mask,r=0,n=t.length;r<n;r++)e=(1000003*e^t[r])&mask;return e=-1==(e=((e=(e^t.length)&mask)^suffix)&mask)?-2:e}str.$nb_str_hash_cache=0,str.__hash__=function(e){if(void 0!==str_hash_cache[e])return str_hash_cache[e];str.$nb_str_hash_cache++,1e5<str.$nb_str_hash_cache&&(str.$nb_str_hash_cache=0,str_hash_cache={});try{return str_hash_cache[e]=fnv(to_codepoints(e))}catch(t){throw console.log("error hash, cps",e,to_codepoints(e)),t}},str.__init__=function(t,e){return t.valueOf=function(){return e},t.toString=function(){return e},_b_.None};var str_iterator=$B.make_iterator_class("str_iterator");str.__iter__=function(t){return str_iterator.$factory(to_chars(t))},str.__len__=function(t){return void 0===t.surrogates?t.length:void 0!==t.len?t.len:t.len=t.valueOf().length-t.surrogates.length};var kwarg_key=new RegExp("([^\\)]*)\\)"),NotANumber=function(){this.name="NotANumber"},number_check=function(t){if(!_b_.isinstance(t,[_b_.int,_b_.float]))throw new NotANumber},get_char_array=function(t,e){return t<=0?"":new Array(t+1).join(e)},format_padding=function(t,e,r){var n=e.padding;return n?(t=t.toString(),n=parseInt(n,10),r&&--n,e.left?t+get_char_array(n-t.length,e.pad_char):get_char_array(n-t.length,e.pad_char)+t):t},format_int_precision=function(t,e){var r=e.precision;return r?(r=parseInt(r,10),"-"===(e=t.__class__===$B.long_int?$B.long_int.to_base(t,10):t.toString())[0]?"-"+get_char_array(r-e.length+1,"0")+e.slice(1):get_char_array(r-e.length,"0")+e):t.toString()},format_float_precision=function(t,e,r,n){var o=r.precision;return isFinite(t)?n(t,o,r,e):(t=t===1/0?"inf":t===-1/0?"-inf":"nan",e?t.toUpperCase():t)},format_sign=function(t,e){if(e.sign){if(0<=t)return"+"}else if(e.space&&0<=t)return" ";return""},str_format=function(t,e){return e.pad_char=" ",format_padding(str.$factory(t),e)},num_format=function(t,e){number_check(t),t=t.__class__===$B.long_int?$B.long_int.to_base(t,10):parseInt(t);var r=format_int_precision(t,e);if("0"===e.pad_char){if(t<0)return r=r.substring(1),"-"+format_padding(r,e,!0);var n=format_sign(t,e);if(""!==n)return n+format_padding(r,e,!0)}return format_padding(format_sign(t,e)+r,e)},repr_format=function(t,e){return e.pad_char=" ",format_padding(_b_.repr(t),e)},ascii_format=function(t,e){return e.pad_char=" ",format_padding(_b_.ascii(t),e)},_float_helper=function(t,e){return number_check(t),e.precision?(e.precision=parseInt(e.precision,10),validate_precision(e.precision)):e.decimal_point?e.precision=0:e.precision=6,parseFloat(t)},trailing_zeros=/(.*?)(0+)([eE].*)/,leading_zeros=/\.(0*)/,trailing_dot=/\.$/,validate_precision=function(t){},floating_point_format=function(t,e,r){if(t=_float_helper(t,r),v=t.toString(),v_len=v.length,dot_idx=v.indexOf("."),dot_idx<0&&(dot_idx=v_len),t<1&&-1<t){var n=leading_zeros.exec(v),o=n?n[1].length:0;return 4<=o?(t=format_sign(t,r)+format_float_precision(t,e,r,_floating_g_exp_helper),r.alternate?r.precision<=1&&(t=t[0]+"."+t.substring(1)):(s=trailing_zeros.exec(t))&&(t=s[1].replace(trailing_dot,"")+s[3]),format_padding(t,r)):(r.precision=(r.precision||0)+o,format_padding(format_sign(t,r)+format_float_precision(t,e,r,function(t,e){return t.toFixed(_b_.min(e,v_len-dot_idx)+o)}),r))}var s;return dot_idx>r.precision?(t=format_sign(t,r)+format_float_precision(t,e,r,_floating_g_exp_helper),r.alternate?r.precision<=1&&(t=t[0]+"."+t.substring(1)):(s=trailing_zeros.exec(t))&&(t=s[1].replace(trailing_dot,"")+s[3]),format_padding(t,r)):format_padding(format_sign(t,r)+format_float_precision(t,e,r,function(t,e){return r.decimal_point?e>v_len&&(r.alternate||(e=v_len)):e=_b_.min(v_len-1,6),e<dot_idx&&(e=dot_idx),t.toFixed(e-dot_idx)}),r)},_floating_g_exp_helper=function(t,e,r,n){e&&--e;e=(t=t.toExponential(e)).lastIndexOf("e");return e>t.length-4&&(t=t.substring(0,e+2)+"0"+t.substring(e+2)),n?t.toUpperCase():t},floating_point_decimal_format=function(t,e,r){return t=_float_helper(t,r),format_padding(format_sign(t,r)+format_float_precision(t,e,r,function(t,e,r){return t=t.toFixed(e),0===e&&r.alternate&&(t+="."),t}),r)},_floating_exp_helper=function(t,e,r,n){e=(t=t.toExponential(e)).lastIndexOf("e");return e>t.length-4&&(t=t.substring(0,e+2)+"0"+t.substring(e+2)),n?t.toUpperCase():t},floating_point_exponential_format=function(t,e,r){return t=_float_helper(t,r),format_padding(format_sign(t,r)+format_float_precision(t,e,r,_floating_exp_helper),r)},signed_hex_format=function(t,e,r){var n,o;return number_check(t),n=t.__class__===$B.long_int?$B.long_int.to_base(t,16):(n=parseInt(t)).toString(16),n=format_int_precision(n,r),e&&(n=n.toUpperCase()),"0"===r.pad_char&&(t<0&&(n=n.substring(1),n="-"+format_padding(n,r,!0)),""!==(o=format_sign(t,r))&&(n=o+format_padding(n,r,!0))),r.alternate&&(n="-"===n.charAt(0)?e?"-0X"+n.slice(1):"-0x"+n.slice(1):e?"0X"+n:"0x"+n),format_padding(format_sign(t,r)+n,r)},octal_format=function(t,e){var r;return number_check(t),r=t.__class__===$B.long_int?$B.long_int.to_base(8):(r=parseInt(t)).toString(8),r=format_int_precision(r,e),"0"===e.pad_char&&(t<0&&(r=r.substring(1),r="-"+format_padding(r,e,!0)),""!==(t=format_sign(t,e))&&(r=t+format_padding(r,e,!0))),e.alternate&&(r="-"===r.charAt(0)?"-0o"+r.slice(1):"0o"+r),format_padding(r,e)};function series_of_bytes(e,r){if(e.__class__&&e.__class__.$buffer_protocol)for(var t=_b_.iter(e),n=[];;)try{n.push(_b_.next(t))}catch(t){if(t.__class__!==_b_.StopIteration)throw t;var o=_b_.bytes.$factory(n);return format_padding(_b_.bytes.decode(o,"ascii"),r)}else try{return bytes_obj=$B.$getattr(e,"__bytes__"),format_padding(_b_.bytes.decode(bytes_obj),r)}catch(t){if(t.__class__===_b_.AttributeError)throw _b_.TypeError.$factory("%b does not accept '"+$B.class_name(e)+"'");throw t}}var single_char_format=function(t,e){if(_b_.isinstance(t,str)&&1==t.length)return t;if(_b_.isinstance(t,_b_.bytes)&&1==t.source.length)t=t.source[0];else try{t=_b_.int.$factory(t)}catch(t){throw _b_.TypeError.$factory("%c requires int or char")}return format_padding(_b_.chr(t),e)},num_flag=function(t,e){"0"!==t||e.padding||e.decimal_point||e.left?e.decimal_point?e.precision=(e.precision||"")+t:e.padding=(e.padding||"")+t:e.pad_char="0"},decimal_point_flag=function(t,e){if(e.decimal_point)throw new UnsupportedChar;e.decimal_point=!0},neg_flag=function(t,e){e.pad_char=" ",e.left=!0},space_flag=function(t,e){e.space=!0},sign_flag=function(t,e){e.sign=!0},alternate_flag=function(t,e){e.alternate=!0},char_mapping={b:series_of_bytes,s:str_format,d:num_format,i:num_format,u:num_format,o:octal_format,r:repr_format,a:ascii_format,g:function(t,e){return floating_point_format(t,!1,e)},G:function(t,e){return floating_point_format(t,!0,e)},f:function(t,e){return floating_point_decimal_format(t,!1,e)},F:function(t,e){return floating_point_decimal_format(t,!0,e)},e:function(t,e){return floating_point_exponential_format(t,!1,e)},E:function(t,e){return floating_point_exponential_format(t,!0,e)},x:function(t,e){return signed_hex_format(t,!1,e)},X:function(t,e){return signed_hex_format(t,!0,e)},c:single_char_format,0:function(t,e){return num_flag("0",e)},1:function(t,e){return num_flag("1",e)},2:function(t,e){return num_flag("2",e)},3:function(t,e){return num_flag("3",e)},4:function(t,e){return num_flag("4",e)},5:function(t,e){return num_flag("5",e)},6:function(t,e){return num_flag("6",e)},7:function(t,e){return num_flag("7",e)},8:function(t,e){return num_flag("8",e)},9:function(t,e){return num_flag("9",e)},"-":neg_flag," ":space_flag,"+":sign_flag,".":decimal_point_flag,"#":alternate_flag},UnsupportedChar=function(){this.name="UnsupportedChar"};function __newobj__(){var t=$B.args("__newobj__",0,{},[],arguments,{},"args",null).args,e=t[1];return e.__class__=t[0],e}str.__mod__=function(t,r){var o,e=t.length,s=0,n=null;_b_.isinstance(r,_b_.tuple)?n=0:o=$B.$getattr(r,"__getitem__",_b_.None);function a(e,r){for(var t={pad_char:" "};;){var n=char_mapping[e[l]];try{if(void 0===n)throw new UnsupportedChar;var o=n(r,t);if(void 0!==o)return o;++l}catch(t){if("UnsupportedChar"==t.name){if(invalid_char=e[l],void 0===invalid_char)throw _b_.ValueError.$factory("incomplete format");throw _b_.ValueError.$factory("unsupported format character '"+invalid_char+"' (0x"+invalid_char.charCodeAt(0).toString(16)+") at index "+l)}if("NotANumber"!==t.name)throw t;var s=e[l],n=(n=r.__class__)?n.$infos.__name__:"string"==typeof r?"str":typeof r;throw _b_.TypeError.$factory("%"+s+" format: a number is required, not "+n)}}}var _="",i=0;do{var l=t.indexOf("%",s);if(l<0){_+=t.substring(s);break}if(_+=t.substring(s,l),!(++l<e))throw _b_.ValueError.$factory("incomplete format");"%"===t[l]?_+="%":(i++,"("===t[l]?(++l,_+=function(t){++s;var e=kwarg_key.exec(t.substring(l));if(!e)throw _b_.ValueError.$factory("incomplete format key");var r=e[1];l+=e[0].length;try{var n=o(r)}catch(t){if(t.__class__===_b_.KeyError)throw t;throw _b_.TypeError.$factory("format requires a mapping")}return a(t,n)}(t)):_+=function(t){var e;if(null===n)e=r;else if(void 0===(e=r[n++]))throw _b_.TypeError.$factory("not enough arguments for format string");return a(t,e)}(t)),s=l+1}while(s<e);if(null!==n){if(r.length>n)throw _b_.TypeError.$factory("not enough arguments for format string");if(r.length<n)throw _b_.TypeError.$factory("not all arguments converted during string formatting")}else if(0==i)throw _b_.TypeError.$factory("not all arguments converted during string formatting");return _},str.__mro__=[_b_.object],str.__mul__=function(){var t=$B.args("__mul__",2,{self:null,other:null},["self","other"],arguments,{},null,null);if(!_b_.isinstance(t.other,_b_.int))throw _b_.TypeError.$factory("Can't multiply sequence by non-int of type '"+$B.class_name(t.other)+"'");return t.self.valueOf().repeat(t.other)},str.__ne__=function(t,e){return e.valueOf()!==t.valueOf()},str.__reduce_ex__=function(t){return $B.fast_tuple([__newobj__,$B.fast_tuple([t.__class__||_b_.str,t]),_b_.None,_b_.None])},str.__repr__=function(t){for(var e={8:"\\x08",9:"\\t",10:"\\n",11:"\\x0b",12:"\\x0c",13:"\\r",92:"\\\\"},r="",n=to_chars(t),o=0;o<n.length;o++){var s=_b_.ord(n[o]);if(void 0!==e[s])r+=e[s];else if($B.is_unicode_cn(s)){for(var a=s.toString(16);a.length<4;)a="0"+a;r+="\\u"+a}else r+=s<32||127<=s&&s<160?"\\x"+(s=(s=s.toString(16)).length<2?"0"+s:s):768<=s&&s<=879?"​"+n[o]:n[o]}var _=r;if(-1==_.search('"')&&-1==_.search("'"))return"'"+_+"'";if(-1==t.search('"'))return'"'+_+'"';t=new RegExp("'","g");return _="'"+_.replace(t,"\\'")+"'"},str.__rmul__=function(t,e){if(_b_.isinstance(e,_b_.int)){e=_b_.int.numerator(e);for(var r="";0<e;)r+=t,e--;return r}return _b_.NotImplemented},str.__setattr__=function(t,e,r){if("string"==typeof t)throw str.hasOwnProperty(e)?_b_.AttributeError.$factory("'str' object attribute '"+e+"' is read-only"):_b_.AttributeError.$factory("'str' object has no attribute '"+e+"'");return _b_.dict.$setitem(t.__dict__,e,r),$N},str.__setitem__=function(t,e,r){throw _b_.TypeError.$factory("'str' object does not support item assignment")};for(var combining=[],cp=768;cp<=879;cp++)combining.push(String.fromCharCode(cp));var combining_re=new RegExp("("+combining.join("|")+")","g");str.__str__=function(t){var e="",r=to_chars(t);if(r.length==t.length)return t.replace(combining_re,"​$1");for(var n=0;n<r.length;n++){var o=_b_.ord(r[n]);e+=768<=o&&o<=879?"​"+r[n]:r[n]}return e},str.toString=function(){return"string!"};var $comp_func=function(t,e){return"string"!=typeof e?_b_.NotImplemented:e<t};$comp_func+="";var $comps={">":"gt",">=":"ge","<":"lt","<=":"le"},$op;for($op in $comps)eval("str.__"+$comps[$op]+"__ = "+$comp_func.replace(/>/gm,$op));var $notimplemented=function(t,e){throw _b_.NotImplementedError.$factory("OPERATOR not implemented for class str")};str.capitalize=function(t){$B.args("capitalize",1,{self:t},["self"],arguments,{},null,null);return 0==t.length?"":t.charAt(0).toUpperCase()+t.substr(1)},str.casefold=function(t){for(var e,r,n=$B.args("casefold",1,{self:t},["self"],arguments,{},null,null),o="",s=to_chars(n.self),a=0,_=s.length;a<_;a++)e=s[a],(r=$B.unicode_casefold[e])?r.forEach(function(t){o+=String.fromCharCode(t)}):o+=e.toLowerCase();return o},str.center=function(){var t=$B.args("center",3,{self:null,width:null,fillchar:null},["self","width","fillchar"],arguments,{fillchar:" "},null,null),e=t.self;if(t.width<=e.length)return e;var r=parseInt((t.width-e.length)/2),r=t.fillchar.repeat(r);return(r+=e+r).length<t.width&&(r+=t.fillchar),r},str.count=function(){var t=$B.args("count",4,{self:null,sub:null,start:null,stop:null},["self","sub","start","stop"],arguments,{start:null,stop:null},null,null);if("string"!=typeof t.sub.valueOf())throw _b_.TypeError.$factory("Can't convert '"+$B.class_name(t.sub)+"' object to str implicitly");var e=t.self;if(null!==t.start)var r=null!==t.stop?_b_.slice.$factory(t.start,t.stop):_b_.slice.$factory(t.start,t.self.length),e=str.__getitem__.apply(null,[t.self].concat(r));else if(t.self.length+t.sub.length==0)return 1;if(0==t.sub.length)return t.start==t.self.length?1:0==e.length?0:e.length+1;for(var n=0,o=0;o<e.length&&0<=(o=e.indexOf(t.sub,o));)n++,o+=t.sub.length;return n},str.encode=function(){var t=$B.args("encode",3,{self:null,encoding:null,errors:null},["self","encoding","errors"],arguments,{encoding:"utf-8",errors:"strict"},null,null);if("rot13"!=t.encoding&&"rot_13"!=t.encoding)return _b_.bytes.__new__(_b_.bytes,t.self,t.encoding,t.errors);for(var e="",r=0,n=t.self.length;r<n;r++){var o=t.self.charAt(r);e+="a"<=o&&o<="m"||"A"<=o&&o<="M"?String.fromCharCode(String.charCodeAt(o)+13):"m"<o&&o<="z"||"M"<o&&o<="Z"?String.fromCharCode(String.charCodeAt(o)-13):o}return e},str.endswith=function(){var t=$B.args("endswith",4,{self:null,suffix:null,start:null,end:null},["self","suffix","start","end"],arguments,{start:0,end:null},null,null);normalize_start_end(t);var e=t.suffix;_b_.isinstance(e,_b_.tuple)||(e=[e]);for(var r=to_chars(t.self).slice(t.start,t.end),n=0,o=e.length;n<o;n++){var s=e[n];if(!_b_.isinstance(s,str))throw _b_.TypeError.$factory("endswith first arg must be str or a tuple of str, not int");if(s.length<=r.length&&r.slice(r.length-s.length).join("")==s)return!0}return!1},str.expandtabs=function(t,e){var r=$B.args("expandtabs",2,{self:null,tabsize:null},["self","tabsize"],arguments,{tabsize:8},null,null),n=$B.$GetInt(r.tabsize),o=0,s=0,a="",_=to_chars(t);if(1==n)return t.replace(/\t/g," ");for(;s<_.length;){var i=_[s];switch(i){case"\t":for(;0<o%n;)a+=" ",o++;break;case"\r":case"\n":a+=i,o=0;break;default:a+=i,o++}s++}return a},str.find=function(){var t=$B.args("str.find",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:null},null,null);check_str(t.sub),normalize_start_end(t);var e=str.__len__(t.self),r=str.__len__(t.sub);if(0==r&&t.start==e)return e;if(e+r==0)return-1;e=pypos2jspos(t.self,t.start),r=pypos2jspos(t.self,t.end),r=t.self.substring(e,r).indexOf(t.sub);return-1==r?-1:jspos2pypos(t.self,e+r)},$B.parse_format=function(t){var e,r,n,o=t.split(":"),s=[];return 1==o.length?n=t:(n=o[0],r=o.splice(1).join(":")),1<(o=n.split("!")).length&&(n=o[0],e=o[1]),void 0!==n&&(n=n.replace(/\.[_a-zA-Z][_a-zA-Z0-9]*|\[[_a-zA-Z][_a-zA-Z0-9]*\]|\[[0-9]+\]/g,function(t){return s.push(t),""})),{name:n,name_ext:s,conv:e,spec:r||"",string:t}},$B.split_format=function(t){for(var e,r=0,n=t.length,o="",s=[],a=0;r<n;)if("{"==(e=t.charAt(r))&&"{"==t.charAt(r+1))o+="{",r+=2;else if("}"==e&&"}"==t.charAt(r+1))o+="}",r+=2;else if("{"==e){s.push(o);for(var _=r+1,i=1;_<n;)if("{"==t.charAt(_))i++,_++;else if("}"==t.charAt(_)){if(_++,0==--i){var l=t.substring(r+1,_-1),l=$B.parse_format(l);function c(t,e){return""==e?"{"+a+++"}":"{"+e+"}"}l.raw_name=l.name,l.raw_spec=l.spec,l.name||(l.name=a+"",a++),void 0!==l.spec&&(l.spec=l.spec.replace(/\{(.*?)\}/g,c)),s.push(l),o="";break}}else _++;if(0<i)throw _b_.ValueError.$factory("wrong format "+t);r=_}else o+=e,r++;return o&&s.push(o),s},str.format=function(t){var e=$B.last(arguments);if("mapping"==e.$nat){for(var r=e.mapping,n=$B.$getattr(r,"__getitem__"),o=[],s=0,a=arguments.length-1;s<a;s++)o.push(arguments[s]);var _=$B.args("format",1,{self:null},["self"],o,{},"$args",null)}else r=(_=$B.args("format",1,{self:null},["self"],arguments,{},"$args","$kw")).$kw,n=function(t){return _b_.dict.$getitem(r,t)};for(var i,l,c,u=$B.split_format(_.self),f="",s=0;s<u.length;s++){if("string"!=typeof u[s]){void 0!==(c=u[s]).spec&&(c.spec=c.spec.replace(/\{(.*?)\}/g,d)),l=-1<c.name.charAt(0).search(/\d/)?(i=parseInt(c.name),_b_.tuple.__getitem__(_.$args,i)):n(c.name);for(var p=0;p<c.name_ext.length;p++){var $=c.name_ext[p];l="."==$.charAt(0)?$B.$getattr(l,$.substr(1)):(-1<($=$.substr(1,$.length-2)).charAt(0).search(/\d/)&&($=parseInt($)),$B.$getattr(l,"__getitem__")($))}"a"==c.conv?l=_b_.ascii(l):"r"==c.conv?l=_b_.repr(l):"s"==c.conv&&(l=_b_.str.$factory(l)),l.$is_class||l.$factory?f+=l.__class__.__format__(l,c.spec):f+=$B.$getattr(l,"__format__")(c.spec)}else f+=u[s];function d(t,e){return/\d+/.exec(e)?_b_.tuple.__getitem__(_.$args,parseInt(e)):_b_.dict.__getitem__(_.$kw,e)}}return f},str.format_map=function(t,e){$B.args("format_map",2,{self:null,mapping:null},["self","mapping"],arguments,{},null,null);return str.format(t,{$nat:"mapping",mapping:e})},str.index=function(t){var e=str.find.apply(null,arguments);if(-1===e)throw _b_.ValueError.$factory("substring not found");return e},str.isascii=function(t){for(var e=0,r=t.length;e<r;e++)if(127<t.charCodeAt(e))return!1;return!0},str.isalnum=function(t){var e,r;$B.args("isalnum",1,{self:null},["self"],arguments,{},null,null);for(r of to_chars(t))if(e=_b_.ord(r),!(unicode_tables.Ll[e]||unicode_tables.Lu[e]||unicode_tables.Lm[e]||unicode_tables.Lt[e]||unicode_tables.Lo[e]||unicode_tables.Nd[e]||unicode_tables.digits[e]||unicode_tables.numeric[e]))return!1;return!0},str.isalpha=function(t){var e,r;$B.args("isalpha",1,{self:null},["self"],arguments,{},null,null);for(r of to_chars(t))if(e=_b_.ord(r),!(unicode_tables.Ll[e]||unicode_tables.Lu[e]||unicode_tables.Lm[e]||unicode_tables.Lt[e]||unicode_tables.Lo[e]))return!1;return!0},str.isdecimal=function(t){var e,r;$B.args("isdecimal",1,{self:null},["self"],arguments,{},null,null);for(r of to_chars(t))if(e=_b_.ord(r),!unicode_tables.Nd[e])return!1;return 0<t.length},str.isdigit=function(t){var e,r;$B.args("isdigit",1,{self:null},["self"],arguments,{},null,null);for(r of to_chars(t))if(e=_b_.ord(r),!unicode_tables.digits[e])return!1;return 0<t.length},str.isidentifier=function(t){$B.args("isidentifier",1,{self:null},["self"],arguments,{},null,null);if(0==t.length)return!1;var e,r=to_chars(t);if(void 0===unicode_tables.XID_Start[_b_.ord(r[0])])return!1;for(e of r){var n=_b_.ord(e);if(void 0===unicode_tables.XID_Continue[n])return!1}return!0},str.islower=function(t){$B.args("islower",1,{self:null},["self"],arguments,{},null,null);var e,r,n=!1;for(r of to_chars(t))if(e=_b_.ord(r),unicode_tables.Ll[e])n=!0;else if(unicode_tables.Lu[e]||unicode_tables.Lt[e])return!1;return n},str.isnumeric=function(t){var e;$B.args("isnumeric",1,{self:null},["self"],arguments,{},null,null);for(e of to_chars(t))if(!unicode_tables.numeric[_b_.ord(e)])return!1;return 0<t.length};var unprintable={},unprintable_gc=["Cc","Cf","Co","Cs","Zl","Zp","Zs"];function $re_escape(t){for(var e="[.*+?|()$^",r=0,n=e.length;r<n;r++){var o=new RegExp("\\"+e.charAt(r),"g");t=t.replace(o,"\\"+e.charAt(r))}return t}str.isprintable=function(t){if(0==Object.keys(unprintable).length){for(var e,r=0;r<unprintable_gc.length;r++)for(e in unicode_tables[unprintable_gc[r]])unprintable[e]=!0;unprintable[32]=!0}var n;$B.args("isprintable",1,{self:null},["self"],arguments,{},null,null);for(n of to_chars(t))if(unprintable[_b_.ord(n)])return!1;return!0},str.isspace=function(t){var e,r;$B.args("isspace",1,{self:null},["self"],arguments,{},null,null);for(r of to_chars(t))if(e=_b_.ord(r),!unicode_tables.Zs[e]&&-1==$B.unicode_bidi_whitespace.indexOf(e))return!1;return 0<t.length},str.istitle=function(t){$B.args("istitle",1,{self:null},["self"],arguments,{},null,null);return 0<t.length&&str.title(t)==t},str.isupper=function(t){$B.args("islower",1,{self:null},["self"],arguments,{},null,null);var e,r,n=!1;for(r of to_chars(t))if(e=_b_.ord(r),unicode_tables.Lu[e])n=!0;else if(unicode_tables.Ll[e]||unicode_tables.Lt[e])return!1;return n},str.join=function(){for(var t=$B.args("join",2,{self:null,iterable:null},["self","iterable"],arguments,{},null,null),e=_b_.iter(t.iterable),r=[];;)try{var n=_b_.next(e);if(!_b_.isinstance(n,str))throw _b_.TypeError.$factory("sequence item 0: expected str instance, "+$B.class_name(n)+" found");r.push(n)}catch(t){if(_b_.isinstance(t,_b_.StopIteration))break;throw t}return r.join(t.self)},str.ljust=function(t){var e=$B.args("ljust",3,{self:null,width:null,fillchar:null},["self","width","fillchar"],arguments,{fillchar:" "},null,null),r=str.__len__(t);return e.width<=r?t:t+e.fillchar.repeat(e.width-r)},str.lower=function(t){$B.args("lower",1,{self:null},["self"],arguments,{},null,null);return t.toLowerCase()},str.lstrip=function(t,e){var r=$B.args("lstrip",2,{self:null,chars:null},["self","chars"],arguments,{chars:_b_.None},null,null),t=r.self,n=r.chars;if(n===_b_.None)return t.trimStart();for(;0<t.length;){var o,s=!1;for(o of n)if(t.startsWith(o)){t=t.substr(o.length),s=!0;break}if(!s)return r.self.surrogates?$B.String(t):t}return""},str.maketrans=function(){var t=$B.args("maketrans",3,{x:null,y:null,z:null},["x","y","z"],arguments,{y:null,z:null},null,null),e=$B.empty_dict();if(null===t.y&&null===t.z){if(!_b_.isinstance(t.x,_b_.dict))throw _b_.TypeError.$factory("maketrans only argument must be a dict");for(var r=_b_.list.$factory(_b_.dict.items(t.x)),n=0,o=r.length;n<o;n++){var s=r[n][0],a=r[n][1];if(!_b_.isinstance(s,_b_.int)){if(!_b_.isinstance(s,_b_.str)||1!=s.length)throw _b_.TypeError.$factory("dictionary key "+s+" is not int or 1-char string");s=_b_.ord(s)}if(a!==_b_.None&&!_b_.isinstance(a,[_b_.int,_b_.str]))throw _b_.TypeError.$factory("dictionary value "+a+" is not None, integer or string");_b_.dict.$setitem(e,s,a)}return e}if(_b_.isinstance(t.x,_b_.str)&&_b_.isinstance(t.y,_b_.str)){if(t.x.length!==t.y.length)throw _b_.TypeError.$factory("maketrans arguments must be strings or same length");var _={};if(null!==t.z){if(!_b_.isinstance(t.z,_b_.str))throw _b_.TypeError.$factory("maketrans third argument must be a string");for(n=0,o=t.z.length;n<o;n++)_[_b_.ord(t.z.charAt(n))]=!0}for(n=0,o=t.x.length;n<o;n++){var i=_b_.ord(t.x.charAt(n)),l=t.y.charCodeAt(n);_b_.dict.$setitem(e,i,l)}for(s in _)_b_.dict.$setitem(e,parseInt(s),_b_.None);return e}throw _b_.TypeError.$factory("maketrans arguments must be strings")},str.maketrans.$type="staticmethod",str.partition=function(){var t=$B.args("partition",2,{self:null,sep:null},["self","sep"],arguments,{},null,null);if(""==t.sep)throw _b_.ValueError.$factory("empty separator");check_str(t.sep);var e=to_chars(t.self),r=t.self.indexOf(t.sep);return-1==r?_b_.tuple.$factory([t.self,"",""]):_b_.tuple.$factory([e.slice(0,r).join(""),t.sep,e.slice(r+t.sep.length).join("")])},str.removeprefix=function(){var t=$B.args("removeprefix",2,{self:null,prefix:null},["self","prefix"],arguments,{},null,null);if(!_b_.isinstance(t.prefix,str))throw _b_.ValueError.$factory("prefix should be str, not "+`'${$B.class_name(t.prefix)}'`);return str.startswith(t.self,t.prefix)?t.self.substr(t.prefix.length):t.self.substr(0)},str.removesuffix=function(){var t=$B.args("removesuffix",2,{self:null,prefix:null},["self","suffix"],arguments,{},null,null);if(!_b_.isinstance(t.suffix,str))throw _b_.ValueError.$factory("suffix should be str, not "+`'${$B.class_name(t.prefix)}'`);return 0<t.suffix.length&&str.endswith(t.self,t.suffix)?t.self.substr(0,t.self.length-t.suffix.length):t.self.substr(0)},str.replace=function(t,e,r,n){var o=$B.args("replace",4,{self:null,old:null,new:null,count:null},["self","old","new","count"],arguments,{count:-1},null,null),n=o.count,t=o.self,e=o.old,r=o.new;if(check_str(e,"replace() argument 1 "),check_str(r,"replace() argument 2 "),!_b_.isinstance(n,[_b_.int,_b_.float]))throw _b_.TypeError.$factory("'"+$B.class_name(n)+"' object cannot be interpreted as an integer");if(_b_.isinstance(n,_b_.float))throw _b_.TypeError.$factory("integer argument expected, got float");if(0==n)return t;if(n.__class__==$B.long_int&&(n=parseInt(n.value)),""==e){if(""==r)return t;if(""==t)return r;var s=t.split("");if(-1<n&&s.length>=n){var a=s.slice(n).join("");return r+s.slice(0,n).join(r)+a}return r+s.join(r)+r}var s=str.split(t,e,n),_=t,i=-1;if(0==e.length){for(var _=r,l=0;l<s.length;l++)_+=s[l]+r;return _+a}for(n<0&&(n=_.length);0<n&&!((i=_.indexOf(e,i))<0);)_=_.substr(0,i)+r+_.substr(i+e.length),i+=r.length,n--;return _},str.rfind=function(t,e){var r=$B.args("rfind",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:null},null,null);normalize_start_end(r),check_str(r.sub);var n=str.__len__(r.self);if(0==str.__len__(r.sub))return r.js_start>n?-1:str.__len__(r.self);var o=pypos2jspos(r.self,r.start),n=pypos2jspos(r.self,r.end),n=r.self.substring(o,n).lastIndexOf(r.sub);return-1==n?-1:jspos2pypos(r.self,o+n)-r.start},str.rindex=function(){var t=str.rfind.apply(null,arguments);if(-1==t)throw _b_.ValueError.$factory("substring not found");return t},str.rjust=function(t){var e=$B.args("rjust",3,{self:null,width:null,fillchar:null},["self","width","fillchar"],arguments,{fillchar:" "},null,null),r=str.__len__(t);return e.width<=r?t:$B.String(e.fillchar.repeat(e.width-r)+t)},str.rpartition=function(t,e){var r=$B.args("rpartition",2,{self:null,sep:null},["self","sep"],arguments,{},null,null);check_str(r.sep);for(var t=reverse(r.self),e=reverse(r.sep),n=str.partition(t,e).reverse(),o=0;o<n.length;o++)n[o]=n[o].split("").reverse().join("");return n},str.rsplit=function(t){var e=$B.args("rsplit",3,{self:null,sep:null,maxsplit:null},["self","sep","maxsplit"],arguments,{sep:_b_.None,maxsplit:-1},null,null),r=e.sep,n=reverse(e.self),r=r===_b_.None?r:reverse(e.sep),o=str.split(n,r,e.maxsplit);o.reverse();for(var s=0;s<o.length;s++)o[s]=reverse(o[s]);return o},str.rstrip=function(t,e){var r=$B.args("rstrip",2,{self:null,chars:null},["self","chars"],arguments,{chars:_b_.None},null,null),t=r.self,n=r.chars;if(n===_b_.None)return t.trimEnd();for(;0<t.length;){var o,s=!1;for(o of n)if(t.endsWith(o)){t=t.substr(0,t.length-o.length),s=!0;break}if(!s)return r.self.surrogates?$B.String(t):t}return""},str.split=function(){var t=$B.args("split",3,{self:null,sep:null,maxsplit:null},["self","sep","maxsplit"],arguments,{sep:_b_.None,maxsplit:-1},null,null),e=t.sep,r=t.maxsplit,n=t.self,o=0;if(r.__class__===$B.long_int&&(r=parseInt(r.value)),""==e)throw _b_.ValueError.$factory("empty separator");if(e===_b_.None){for(var s=[];o<n.length&&-1<n.charAt(o).search(/\s/);)o++;if(o===n.length-1)return[n];for(var a="";;){if(-1==n.charAt(o).search(/\s/))""==a?a=n.charAt(o):a+=n.charAt(o);else if(""!==a){if(s.push(a),-1!==r&&s.length==r+1)return s.pop(),s.push(a+n.substr(o)),s;a=""}if(++o>n.length-1){a&&s.push(a);break}}return s.map($B.String)}var s=[],_="",i=e.length;if(0==r)return[n];for(;o<n.length;)if(n.substr(o,i)==e){if(s.push(_),o+=i,-1<r&&s.length>=r)return s.push(n.substr(o)),s.map($B.String);_=""}else _+=n.charAt(o),o++;return s.push(_),s.map($B.String)},str.splitlines=function(t){var e=$B.args("splitlines",2,{self:null,keepends:null},["self","keepends"],arguments,{keepends:!1},null,null);if(!_b_.isinstance(e.keepends,[_b_.bool,_b_.int]))throw _b_.TypeError("integer argument expected, got "+$B.get_class(e.keepends).__name);var r=_b_.int.$factory(e.keepends),n=[],t=e.self,o=0,s=0;if(!t.length)return n;for(;s<t.length;)"\r\n"==t.substr(s,2)?(n.push(t.slice(o,r?s+2:s)),o=s+=2):"\r"==t[s]||"\n"==t[s]?(n.push(t.slice(o,r?s+1:s)),o=s+=1):s++;return o<t.length&&n.push(t.slice(o)),n.map($B.String)},str.startswith=function(){var t=$B.args("startswith",4,{self:null,prefix:null,start:null,end:null},["self","prefix","start","end"],arguments,{start:0,end:null},null,null);normalize_start_end(t);var e=t.prefix;_b_.isinstance(e,_b_.tuple)||(e=[e]);var r,n=t.self.substring(t.js_start,t.js_end);for(r of e){if(!_b_.isinstance(r,str))throw _b_.TypeError.$factory("endswith first arg must be str or a tuple of str, not int");if(n.substr(0,r.length)==r)return!0}return!1},str.strip=function(){var t=$B.args("strip",2,{self:null,chars:null},["self","chars"],arguments,{chars:_b_.None},null,null);return t.chars===_b_.None?t.self.trim():str.rstrip(str.lstrip(t.self,t.chars),t.chars)},str.swapcase=function(t){$B.args("swapcase",1,{self:t},["self"],arguments,{},null,null);var e,r,n="";for(r of to_chars(t))e=_b_.ord(r),unicode_tables.Ll[e]?n+=r.toUpperCase():unicode_tables.Lu[e]?n+=r.toLowerCase():n+=r;return n},str.title=function(t){$B.args("title",1,{self:t},["self"],arguments,{},null,null);var e,r,n,o="";for(n of to_chars(t))r=_b_.ord(n),unicode_tables.Ll[r]?e?o+=n:(o+=n.toUpperCase(),e="word"):unicode_tables.Lu[r]||unicode_tables.Lt[r]?(o+=e?n.toLowerCase():n,e="word"):(e=null,o+=n);return o},str.translate=function(t,e){var r,n,o=[],s=$B.$getattr(e,"__getitem__");for(n of to_chars(t)){r=_b_.ord(n);try{var a=s(r);a!==_b_.None&&("string"==typeof a?o.push(a):"number"==typeof a&&o.push(String.fromCharCode(a)))}catch(t){o.push(n)}}return o.join("")},str.upper=function(t){$B.args("upper",1,{self:null},["self"],arguments,{},null,null);return t.toUpperCase()},str.zfill=function(t,e){var r=$B.args("zfill",2,{self:null,width:null},["self","width"],arguments,{},null,null),n=str.__len__(t);if(r.width<=n)return t;switch(t.charAt(0)){case"+":case"-":return t.charAt(0)+"0".repeat(r.width-n)+t.substr(1);default:return"0".repeat(r.width-n)+t}},str.$factory=function(e,t,r){if(0==arguments.length)return"";if(void 0===e)return $B.UndefinedClass.__str__();if(null===e)return"<Javascript null>";var n;if(void 0!==t&&(t=(n=$B.args("str",3,{arg:null,encoding:null,errors:null},["arg","encoding","errors"],arguments,{encoding:"utf-8",errors:"strict"},null,null)).encoding,r=n.errors),("string"==typeof e||e instanceof String||"number"==typeof e)&&isFinite(e))return e.toString();try{if(e.$is_class||e.$factory)return $B.$getattr(e.__class__,"__str__")(e);if(e.__class__&&e.__class__===_b_.bytes&&void 0!==t)return _b_.bytes.decode(e,n.encoding,n.errors);var o=e.__class__||$B.get_class(e);if(void 0===o)return $B.JSObj.__str__($B.JSObj.$factory(e));var s=$B.$getattr(o,"__str__",null);(null===s||e.__class__&&e.__class__!==_b_.object&&s.$infos&&s.$infos.__func__===_b_.object.__str__)&&(s=$B.$getattr(o,"__repr__"))}catch(t){throw console.log("no __str__ for",e),console.log("err ",t),1<$B.debug&&console.log(t),console.log("Warning - no method __str__ or __repr__, default to toString",e),t}return $B.$call(s)(e)},str.__new__=function(t){if(void 0===t)throw _b_.TypeError.$factory("str.__new__(): not enough arguments");return{__class__:t}},$B.set_func_names(str,"builtins");var StringSubclass=$B.StringSubclass={__class__:_b_.type,__mro__:[_b_.object],$infos:{__module__:"builtins",__name__:"str"},$is_class:!0},$attr;for($attr in str)"function"==typeof str[$attr]&&(StringSubclass[$attr]=function(o){return function(){var t=[],e=0;if(0<arguments.length)for(var t=[arguments[0].valueOf()],e=1,r=1,n=arguments.length;r<n;r++)t[e++]=arguments[r];return str[o].apply(null,t)}}($attr));function fstring_expression(){this.type="expression",this.expression="",this.conversion=null,this.fmt=null}function fstring_error(t,e){throw error=Error(t),error.position=e,error}StringSubclass.__new__=function(t){return{__class__:t}},$B.set_func_names(StringSubclass,"builtins"),_b_.str=str,$B.parse_format_spec=function(t){if(""==t)this.empty=!0;else{var e=0,r="<>=^",n="0123456789",o=r.indexOf(t.charAt(0));-1!=o?t.charAt(1)&&-1!=r.indexOf(t.charAt(1))?(this.fill=t.charAt(0),this.align=t.charAt(1),e=2):(this.align=r[o],this.fill=" ",e++):(o=r.indexOf(t.charAt(1)),t.charAt(1)&&-1!=o&&(this.align=r[o],this.fill=t.charAt(0),e=2));var s=t.charAt(e);for("+"!=s&&"-"!=s&&" "!=s||(this.sign=s,s=t.charAt(++e)),"#"==s&&(this.alternate=!0,s=t.charAt(++e)),"0"==s&&(this.fill="0",-1==o&&(this.align="="),s=t.charAt(++e));s&&-1<n.indexOf(s);)void 0===this.width?this.width=s:this.width+=s,s=t.charAt(++e);if(void 0!==this.width&&(this.width=parseInt(this.width)),void 0===this.width&&"{"==s&&(o=t.substr(e).search("}"),this.width=t.substring(e,o),console.log("width","["+this.width+"]"),e+=o+1),","==s&&(this.comma=!0,s=t.charAt(++e)),"."==s){if(-1==n.indexOf(t.charAt(e+1)))throw _b_.ValueError.$factory("Missing precision in format spec");for(this.precision=t.charAt(e+1),s=t.charAt(e+=2);s&&-1<n.indexOf(s);)this.precision+=s,s=t.charAt(++e);this.precision=parseInt(this.precision)}if(s&&-1<"bcdeEfFgGnosxX%".indexOf(s)&&(this.type=s,s=t.charAt(++e)),e!==t.length)throw _b_.ValueError.$factory("Invalid format specifier: "+t)}this.toString=function(){return(void 0===this.fill?"":_b_.str.$factory(this.fill))+(this.align||"")+(this.sign||"")+(this.alternate?"#":"")+(this.sign_aware?"0":"")+(this.width||"")+(this.comma?",":"")+(this.precision?"."+this.precision:"")+(this.type||"")}},$B.format_width=function(t,e){if(e.width&&t.length<e.width){var r=e.fill||" ",n=e.align||"<",o=e.width-t.length;switch(n){case"<":return t+r.repeat(o);case">":return r.repeat(o)+t;case"=":return-1<"+-".indexOf(t.charAt(0))?t.charAt(0)+r.repeat(o)+t.substr(1):r.repeat(o)+t;case"^":var s=parseInt(o/2);return r.repeat(s)+t+r.repeat(o-s)}}return t},$B.parse_fstring=function(t){for(var e,r,n=[],o=0,s="",a=null,_=0;o<t.length;)if(null===a)"{"==(e=t.charAt(o))?"{"==t.charAt(o+1)?(a="string",s="{",o+=2):(a="expression",_=1,o++):"}"==e?t.charAt(o+1)==e?(a="string",s="}",o+=2):fstring_error(" f-string: single '}' is not allowed",o):(a="string",s=e,o++);else if("string"==a){for(var i=o;i<t.length;)if("{"==(e=t.charAt(i))){if("{"!=t.charAt(i+1)){n.push(s),a="expression",o=i+1;break}s+="{",i+=2}else"}"==e?t.charAt(i+1)==e?(s+=e,i+=2):fstring_error(" f-string: single '}' is not allowed",o):(s+=e,i++);o=i+1}else if("debug"==a){for(;" "==t.charAt(i);)i++;"}"==t.charAt(i)&&(n.push(s),a=null,s="",o=i+1)}else{for(var l,i=o,_=1,c=0,s=new fstring_expression;i<t.length;)if("{"==(e=t.charAt(i))&&0==c)_++,s.expression+=e,i++;else if("}"==e&&0==c){if(0==--_){""==s.expression&&fstring_error("f-string: empty expression not allowed",o),n.push(s),a=null,s="",o=i+1;break}s.expression+=e,i++}else{if("\\"==e)throw Error("f-string expression part cannot include a backslash");if(0==c&&"!"==e&&null===s.fmt&&-1<":}".indexOf(t.charAt(i+2))){if(0==s.expression.length)throw Error("f-string: empty expression not allowed");if(-1=="ars".indexOf(t.charAt(i+1)))throw Error("f-string: invalid conversion character: expected 's', 'r', or 'a'");s.conversion=t.charAt(i+1),i+=2}else if("("==e)c++,s.expression+=e,i++;else if(")"==e)c--,s.expression+=e,i++;else if('"'==e)'"""'==t.substr(i,3)?-1==(l=t.indexOf('"""',i+3))?fstring_error("f-string: unterminated string",o):(h=(h=t.substring(i,l+3)).replace("\n","\\n\\"),s.expression+=h,i=l+3):-1==(l=t.indexOf('"',i+1))?fstring_error("f-string: unterminated string",o):(s.expression+=t.substring(i,l+1),i=l+1);else if(0==c&&":"==e){for(var u=0,f=!(s.fmt=!0),p=i+1;p<t.length;p++)if("{"==t[p])"{"==t[p+1]?p+=2:u++;else if("}"==t[p])if("}"==t[p+1])p+=2;else{if(0==u){var f=!0,$=t.substring(i+1,p);s.format=$B.parse_fstring($),i=p;break}u--}f||fstring_error("invalid format",o)}else if("="==e){var d=s.expression,h=d.charAt(d.length-1),h=(-1<"()".indexOf(h)?"\\":"")+h;if(0==d.length||0<c||"="==t.charAt(i+1)||-1<"=!<>:".search(h))s.expression+=e,i+=1;else{for(tail=e;t.charAt(i+1).match(/\s/);)tail+=t.charAt(i+1),i++;for(n.push(s.expression+tail);d.match(/\s$/);)d=d.substr(0,d.length-1);s.expression=d,a="debug",i++}}else s.expression+=e,i++}0<_&&fstring_error("f-string: expected '}'",o)}0<s.length&&n.push(s);for(r of n)if("object"==typeof r&&void 0!==r.fmt_pos&&":"!=r.expression.charAt(r.fmt_pos))throw console.log("mauvais format",t,n),Error();return n};var _chr=$B.codepoint2jsstring=function(t){if(65536<=t&&t<=1114111){var e=t-65536;return String.fromCodePoint(55296|e>>10)+String.fromCodePoint(56320|1023&e)}return String.fromCodePoint(t)},_ord=$B.jsstring2codepoint=function(t){if(1==t.length)return t.charCodeAt(0);var e=65536;return e+=(1023&t.charCodeAt(0))<<10,e+=1023&t.charCodeAt(1)}}(__BRYTHON__),function($B){var _b_=$B.builtins;function $err(t,e){e="unsupported operand type(s) for "+t+" : 'int' and '"+$B.class_name(e)+"'";throw _b_.TypeError.$factory(e)}function int_value(t){return"boolean"==typeof t?t?1:0:void 0!==t.$brython_value?t.$brython_value:t}var int={__class__:_b_.type,__dir__:_b_.object.__dir__,__mro__:[_b_.object],$infos:{__module__:"builtins",__name__:"int"},$is_class:!0,$native:!0,$descriptors:{numerator:!0,denominator:!0,imag:!0,real:!0}},attr;function preformat(t,e){if(e.empty)return _b_.str.$factory(t);if(e.type&&-1=="bcdoxXn".indexOf(e.type))throw _b_.ValueError.$factory("Unknown format code '"+e.type+"' for object of type 'int'");var r;switch(e.type){case void 0:case"d":r=t.toString();break;case"b":r=(e.alternate?"0b":"")+t.toString(2);break;case"c":r=_b_.chr(t);break;case"o":r=(e.alternate?"0o":"")+t.toString(8);break;case"x":r=(e.alternate?"0x":"")+t.toString(16);break;case"X":r=(e.alternate?"0X":"")+t.toString(16).toUpperCase();break;case"n":return t}return r=void 0!==e.sign&&(" "==e.sign||"+"==e.sign)&&0<=t?e.sign+r:r}function extended_euclidean(t,e){var r,n,o;return 0==e?[t,1,0]:([r,n,o]=extended_euclidean(e,t%e),[r,o,n-Math.floor(t/e)*o])}function __newobj__(){var t=$B.args("__newobj__",0,{},[],arguments,{},"args",null).args,e=t.slice(1);return e.__class__=t[0],e}int.as_integer_ratio=function(){var t=$B.args("as_integer_ratio",1,{self:null},["self"],arguments,{},null,null);return $B.$list([t.self,1])},int.from_bytes=function(){var t=$B.args("from_bytes",3,{bytes:null,byteorder:null,signed:null},["bytes","byteorder","signed"],arguments,{signed:!1},null,null),e=t.bytes,r=t.byteorder,t=t.signed;if(_b_.isinstance(e,[_b_.bytes,_b_.bytearray]))n=e.source,o=e.source.length;else for(var n,o=(n=_b_.list.$factory(e)).length,s=0;s<o;s++)_b_.bytes.$factory([n[s]]);if("big"==r)n.reverse();else if("little"!=r)throw _b_.ValueError.$factory("byteorder must be either 'little' or 'big'");var a=n[0];t&&128<=a&&(a-=256);for(var _=256,s=1;s<o;s++)a=$B.add($B.mul(_,n[s]),a),_=$B.mul(_,256);return!t||n[o-1]<128?a:$B.sub(a,_)},int.to_bytes=function(){var t=$B.args("to_bytes",3,{self:null,len:null,byteorder:null,signed:null},["self","len","byteorder","*","signed"],arguments,{signed:!1},null,null),e=t.self,r=t.len,n=t.byteorder,t=t.signed;if(!_b_.isinstance(r,_b_.int))throw _b_.TypeError.$factory("integer argument expected, got "+$B.class_name(r));if(-1==["little","big"].indexOf(n))throw _b_.ValueError.$factory("byteorder must be either 'little' or 'big'");if(_b_.isinstance(e,$B.long_int))return $B.long_int.to_bytes(e,r,n,t);if(e<0){if(!t)throw _b_.OverflowError.$factory("can't convert negative int to unsigned");e=Math.pow(256,r)+e}for(var o=[],s=e;0<s;){var a=Math.floor(s/256);if(o.push(s-256*a),o.length>r)throw _b_.OverflowError.$factory("int too big to convert");s=a}for(;o.length<r;)o.push(0);return"big"==n&&o.reverse(),{__class__:_b_.bytes,source:o}},int.__abs__=function(t){return _b_.abs(t)},int.__add__=function(t,e){if(t=int_value(t),_b_.isinstance(e,int)){if(e.__class__==$B.long_int)return $B.long_int.__add__($B.long_int.$factory(t),$B.long_int.$factory(e));var r=t+(e=int_value(e));return r>$B.min_int&&r<$B.max_int?r:$B.long_int.__add__($B.long_int.$factory(t),$B.long_int.$factory(e))}return _b_.NotImplemented},int.__bool__=function(t){return 0!=int_value(t).valueOf()},int.__ceil__=function(t){return Math.ceil(int_value(t))},int.__divmod__=function(t,e){return _b_.isinstance(e,int)?$B.fast_tuple([int.__floordiv__(t,e),int.__mod__(t,e)]):_b_.NotImplemented},int.__eq__=function(t,e){return _b_.isinstance(e,int)?t.valueOf()==int_value(e).valueOf():_b_.isinstance(e,_b_.float)?t.valueOf()==e.valueOf():_b_.isinstance(e,_b_.complex)?0!=e.$imag?_b_.False:t.valueOf()==e.$real:_b_.NotImplemented},int.__float__=function(t){return new Number(t)},int.__format__=function(t,e){var r=new $B.parse_format_spec(e);if(r.type&&-1!="eEfFgG%".indexOf(r.type))return _b_.float.__format__(t,e);r.align=r.align||">";e=preformat(t,r);if(r.comma){for(var t="-"==e[0]?"-":"",n=e.substr(t.length),o=n.length,s=Math.ceil(n.length/3),a=[],_=0;_<s;_++)a.push(n.substring(o-3*_-3,o-3*_));a.reverse(),e=t+a.join(",")}return $B.format_width(e,r)},int.__floordiv__=function(t,e){if(e.__class__===$B.long_int)return $B.long_int.__floordiv__($B.long_int.$factory(t),e);if(_b_.isinstance(e,int)){if(0==(e=int_value(e)))throw _b_.ZeroDivisionError.$factory("division by zero");return Math.floor(t/e)}return _b_.NotImplemented},int.__hash__=function(t){if(t.$brython_value){var e=$B.$getattr(t.__class__,"__hash__");return e===int.__hash__?"number"==typeof t.$brython_value?t.$brython_value:$B.long_int.__hash__(t.$brython_value):e(t)}return t.valueOf()},int.__index__=function(t){return int_value(t)},int.__init__=function(t,e){return void 0===e&&(e=0),t.toString=function(){return e},_b_.None},int.__int__=function(t){return t},int.__invert__=function(t){return~t},int.__lshift__=function(e,r){if(e=int_value(e),_b_.isinstance(r,int)){r=int_value(r);try{return int.$factory($B.long_int.__lshift__($B.long_int.$factory(e),$B.long_int.$factory(r)))}catch(t){throw console.log("err in lshift",e,r),t}}return _b_.NotImplemented},int.__mod__=function(t,e){if((e=_b_.isinstance(e,_b_.tuple)&&1==e.length?e[0]:e).__class__===$B.long_int)return $B.long_int.__mod__($B.long_int.$factory(t),e);if(_b_.isinstance(e,int)){if(!1===(e=int_value(e))?e=0:!0===e&&(e=1),0==e)throw _b_.ZeroDivisionError.$factory("integer division or modulo by zero");return(t%e+e)%e}return _b_.NotImplemented},int.__mul__=function(t,e){if(t=int_value(t),_b_.isinstance(e,int)){if(e.__class__==$B.long_int)return $B.long_int.__mul__($B.long_int.$factory(t),$B.long_int.$factory(e));var r=t*(e=int_value(e));return r>$B.min_int&&r<$B.max_int?r:int.$factory($B.long_int.__mul__($B.long_int.$factory(t),$B.long_int.$factory(e)))}return _b_.NotImplemented},int.__ne__=function(t,e){e=int.__eq__(t,e);return e===_b_.NotImplemented?e:!e},int.__neg__=function(t){return-t},int.__new__=function(t,e){if(void 0===t)throw _b_.TypeError.$factory("int.__new__(): not enough arguments");if(!_b_.isinstance(t,_b_.type))throw _b_.TypeError.$factory("int.__new__(X): X is not a type object");return t===int?int.$factory(e):{__class__:t,__dict__:$B.empty_dict(),$brython_value:e||0}},int.__pos__=function(t){return t},int.__pow__=function(t,e,r){if(!_b_.isinstance(e,int))return _b_.NotImplemented;if("number"==typeof e||_b_.isinstance(e,int)){switch((e=int_value(e)).valueOf()){case 0:return int.$factory(1);case 1:return int.$factory(t.valueOf())}if(void 0!==r&&r!==_b_.None){if(1==r)return 0;var n,o,s=1,a=t%r,_=e,i=$B.long_int;if(_<0){if([n,l,o]=extended_euclidean(t,r),1!==n)throw _b_.ValueError.$factory("not relative primes: "+t+" and "+r);return int.__pow__(l,-_,r)}for(;0<_;)_%2==1&&(s=s*a>$B.max_int?(s=i.__mul__(i.$factory(s),i.$factory(a)),i.__mod__(s,r)):s*a%r),_>>=1,a=a*a>$B.max_int?(a=i.__mul__(i.$factory(a),i.$factory(a)),i.__mod__(a,r)):a*a%r;return s}var l=Math.pow(t.valueOf(),e.valueOf());return l>$B.min_int&&l<$B.max_int?0<e?l:new Number(l):l===1/0||isFinite(l)?$B.BigInt?{__class__:$B.long_int,value:($B.BigInt(t)**$B.BigInt(e)).toString(),pos:!0}:$B.long_int.__pow__($B.long_int.$from_int(t),$B.long_int.$from_int(e)):l}if(_b_.isinstance(e,_b_.float))return e=_b_.float.numerator(e),0<=t?new Number(Math.pow(t,e)):_b_.complex.__pow__($B.make_complex(t,0),e);if(_b_.isinstance(e,_b_.complex)){var l=Math.pow(t,e.$real),c=Math.log(t);return $B.make_complex(l*Math.cos(c),l*Math.sin(c))}c=$B.$getattr(e,"__rpow__",_b_.None);if(c!==_b_.None)return c(t);$err("**",e)},int.__reduce_ex__=function(t){return $B.fast_tuple([__newobj__,$B.fast_tuple([t.__class__||int,int_value(t)]),_b_.None,_b_.None,_b_.None])},int.__repr__=function(t){return $B.builtins_repr_check(int,arguments),int_value(t).toString()},int.__rshift__=function(t,e){return t=int_value(t),"number"==typeof e||_b_.isinstance(e,int)?(e=int_value(e),int.$factory($B.long_int.__rshift__($B.long_int.$factory(t),$B.long_int.$factory(e)))):_b_.NotImplemented},int.__setattr__=function(t,e,r){if("number"!=typeof t&&"boolean"!=typeof t)return _b_.dict.$setitem(t.__dict__,e,r),_b_.None;r=$B.class_name(t);throw e=-1<_b_.dir(t).indexOf(e)?"attribute '"+e+`' of '${r}'`+"objects is not writable":`'${r}' object has no attribute '${e}'`,_b_.AttributeError.$factory(e)},int.__sub__=function(t,e){if(t=int_value(t),_b_.isinstance(e,int)){if(e.__class__==$B.long_int)return $B.long_int.__sub__($B.long_int.$factory(t),$B.long_int.$factory(e));var r=t-(e=int_value(e));return r>$B.min_int&&r<$B.max_int?r:$B.long_int.__sub__($B.long_int.$factory(t),$B.long_int.$factory(e))}return _b_.NotImplemented},int.__truediv__=function(t,e){if(_b_.isinstance(e,int)){if(0==(e=int_value(e)))throw _b_.ZeroDivisionError.$factory("division by zero");return e.__class__===$B.long_int?new Number(t/parseInt(e.value)):new Number(t/e)}return _b_.NotImplemented},int.bit_length=function(t){return s=_b_.bin(t),s=$B.$getattr(s,"lstrip")("-0b"),s.length},int.numerator=function(t){return int_value(t)},int.denominator=function(t){return int.$factory(1)},int.imag=function(t){return int.$factory(0)},int.real=function(t){return t};for(attr of["numerator","denominator","imag","real"])int[attr].setter=function(r){return function(t,e){throw _b_.AttributeError.$factory(`attribute '${r}' of `+`'${$B.class_name(t)}' objects is not writable`)}}(attr);$B.max_int32=2147483647,$B.min_int32=-$B.max_int32;var $op_func=function(t,e){return t=int_value(t),"number"==typeof e||_b_.isinstance(e,int)?e.__class__===$B.long_int?$B.long_int.__sub__($B.long_int.$factory(t),$B.long_int.$factory(e)):(e=int_value(e),t>$B.max_int32||t<$B.min_int32||e>$B.max_int32||e<$B.min_int32?$B.long_int.__sub__($B.long_int.$factory(t),$B.long_int.$factory(e)):t-e):_b_.NotImplemented};$op_func+="";var $ops={"&":"and","|":"or","^":"xor"},$op;for($op in $ops){var opf=$op_func.replace(/-/gm,$op),opf=opf.replace(new RegExp("sub","gm"),$ops[$op]);eval("int.__"+$ops[$op]+"__ = "+opf)}var $comp_func=function(t,e){return e.__class__===$B.long_int?$B.long_int.__lt__(e,$B.long_int.$factory(t)):_b_.isinstance(e,int)?(e=int_value(e),t.valueOf()>e.valueOf()):_b_.isinstance(e,_b_.float)?t.valueOf()>_b_.float.numerator(e):_b_.isinstance(e,_b_.bool)?t.valueOf()>_b_.bool.__hash__(e):_b_.hasattr(e,"__int__")||_b_.hasattr(e,"__index__")?int.__gt__(t,$B.$GetInt(e)):_b_.NotImplemented},$op;for($op in $comp_func+="",$B.$comps)eval("int.__"+$B.$comps[$op]+"__ = "+$comp_func.replace(/>/gm,$op).replace(/__gt__/gm,"__"+$B.$comps[$op]+"__").replace(/__lt__/,"__"+$B.$inv_comps[$op]+"__"));var r_opnames=["add","sub","mul","truediv","floordiv","mod","pow","lshift","rshift","and","xor","or","divmod"],r_opname;for(r_opname of r_opnames)void 0===int["__r"+r_opname+"__"]&&int["__"+r_opname+"__"]&&(int["__r"+r_opname+"__"]=function(r){return function(t,e){return _b_.isinstance(e,int)?(e=int_value(e),int["__"+r+"__"](e,t)):_b_.NotImplemented}}(r_opname));var $valid_digits=function(t){var e="";if(0===t)return"0";if(t<10){for(var r=0;r<t;r++)e+=String.fromCharCode(r+48);return e}for(e="0123456789",r=10;r<t;r++)e+=String.fromCharCode(r+55);return e};int.$factory=function(t,e){if(void 0===t)return 0;if("number"==typeof t&&(void 0===e||10==e))return parseInt(t);if(_b_.isinstance(t,_b_.complex))throw _b_.TypeError.$factory("can't convert complex to int");var r,n=$B.args("int",2,{x:null,base:null},["x","base"],arguments,{base:10},null,null),t=n.x,e=n.base;if(_b_.isinstance(t,_b_.float)&&10==e)return(t=_b_.float.numerator(t))<$B.min_int||t>$B.max_int?$B.long_int.$from_float(t):0<t?Math.floor(t):Math.ceil(t);if(!(2<=e&&e<=36)&&0!=e)throw _b_.ValueError.$factory("invalid base");if("number"==typeof t){if(10==e)return t<$B.min_int||t>$B.max_int?$B.long_int.$factory(t):t;if(-1<t.toString().search("e"))throw _b_.OverflowError.$factory("can't convert to base "+e);var o=parseInt(t,e);return t<$B.min_int||t>$B.max_int?$B.long_int.$factory(t,e):o}if(!0===t)return Number(1);if(!1===t)return Number(0);if(t.__class__===$B.long_int){n=parseInt(t.value);return n>$B.min_int&&n<$B.max_int?n:t}function s(t,e){throw _b_.ValueError.$factory("invalid literal for int() with base "+e+": '"+_b_.str.$factory(t)+"'")}if(e=$B.$GetInt(e),"string"==typeof(t=_b_.isinstance(t,_b_.str)?t.valueOf():t)){var a=t.trim();if(2==a.length&&0==e&&("0b"==a||"0o"==a||"0x"==a))throw _b_.ValueError.$factory("invalid value");if(2<a.length){var _=a.substr(0,2).toUpperCase();if(0==e?("0B"==_&&(e=2),"0O"==_&&(e=8),"0X"==_&&(e=16)):("0X"==_&&16!=e||"0O"==_&&8!=e)&&s(a,e),"0B"==_&&2==e||"0O"==_||"0X"==_)for(a=a.substr(2);a.startsWith("_");)a=a.substr(1)}else 0==e&&(e=10);_=$valid_digits(e);return null===new RegExp("^[+-]?["+_+"]["+_+"_]*$","i").exec(a)?s(t,e):t=a.replace(/_/g,""),e<=10&&!isFinite(t)&&s(a,e),(o=parseInt(t,e))<$B.min_int||o>$B.max_int?$B.long_int.$factory(t,e):o}if(_b_.isinstance(t,[_b_.bytes,_b_.bytearray]))return int.$factory($B.$getattr(t,"decode")("latin-1"),e);for(r of["__int__","__index__","__trunc__"]){var i=$B.$getattr(t.__class__||$B.get_class(t),r,_b_.None);if(i!==_b_.None)return $B.$call(i)(t)}throw _b_.TypeError.$factory("int() argument must be a string, a bytes-like object or a number, not '"+$B.class_name(t)+"'")},$B.set_func_names(int,"builtins"),_b_.int=int,$B.$bool=function(t){if(null==t)return!1;switch(typeof t){case"boolean":return t;case"number":case"string":return t?!0:!1;default:if(t.$is_class)return!0;var e=t.__class__||$B.get_class(t),r={},e=$B.$getattr(e,"__bool__",r);if(e!==r){e=$B.$call(e)(t);if(!0!==e&&!1!==e)throw _b_.TypeError.$factory("__bool__ should return bool, returned "+$B.class_name(e));return e}try{return 0<_b_.len(t)}catch(t){return!0}}};var bool={__bases__:[int],__class__:_b_.type,__mro__:[int,_b_.object],$infos:{__name__:"bool",__module__:"builtins"},$is_class:!0,$native:!0,$descriptors:{numerator:!0,denominator:!0,imag:!0,real:!0},__and__:function(t,e){return _b_.isinstance(e,bool)?t&&e:_b_.isinstance(e,int)?int.__and__(bool.__index__(t),int.__index__(e)):_b_.NotImplemented},__float__:function(t){return t?new Number(1):new Number(0)}};bool.__hash__=bool.__index__=bool.__int__=function(t){return t.valueOf()?1:0},bool.__neg__=function(t){return-$B.int_or_bool(t)},bool.__or__=function(t,e){return _b_.isinstance(e,bool)?t||e:_b_.isinstance(e,int)?int.__or__(bool.__index__(t),int.__index__(e)):_b_.NotImplemented},bool.__pos__=$B.int_or_bool,bool.__repr__=function(t){return $B.builtins_repr_check(bool,arguments),t?"True":"False"},bool.__xor__=function(t,e){return _b_.isinstance(e,bool)?!!(t^e):_b_.isinstance(e,int)?int.__xor__(bool.__index__(t),int.__index__(e)):_b_.NotImplemented},bool.$factory=function(){var t=$B.args("bool",1,{x:null},["x"],arguments,{x:!1},null,null);return $B.$bool(t.x)},bool.numerator=int.numerator,bool.denominator=int.denominator,bool.real=int.real,bool.imag=int.imag,_b_.bool=bool,$B.set_func_names(bool,"builtins")}(__BRYTHON__),function($B){var _b_=$B.builtins;try{eval("window")}catch(err){window=self}var long_int={__class__:_b_.type,__mro__:[_b_.int,_b_.object],$infos:{__module__:"builtins",__name__:"int"},$is_class:!0,$native:!0,$descriptors:{numerator:!0,denominator:!0,imag:!0,real:!0}},max_safe_divider=$B.max_int/9;function add_pos(t,e){if(window.BigInt)return{__class__:long_int,value:(BigInt(t)+BigInt(e)).toString(),pos:!0};for(var r,n="",o=0,s=t.length,a=e.length-1;0<=a;a--)o=2==(r=(o+(--s<0?0:parseInt(t.charAt(s)))+parseInt(e.charAt(a))).toString()).length?(n=r.charAt(1)+n,parseInt(r.charAt(0))):(n=r+n,0);for(;0<s;)s--,o=2==(r=(o+parseInt(t.charAt(s))).toString()).length?(n=r.charAt(1)+n,parseInt(r.charAt(0))):(n=r+n,0);return{__class__:long_int,value:n=o?o+n:n,pos:!0}}var len=(Math.pow(2,53)-1+"").length-1;function binary_pos(t){for(var e,r,n,o=Math.ceil(t.length/len),s=[],a=[],_=0;_<o;_++)e=t.length-(_+1)*len,r=Math.max(0,e),s.push(t.substr(r,len+(e-r)));(s=s.reverse()).forEach(function(t,e){s[e]=parseInt(t)});for(var i=Math.pow(10,15);0<s[s.length-1];)s.forEach(function(t,e){n=t%2,s[e]=Math.floor(t/2),n&&e<s.length-1&&(s[e+1]+=i)}),a.push(n),0==s[0]&&s.shift();return a=a.reverse().join("")}function binary(t){var e=binary_pos(t.value);if(t.pos)return e;for(var r="",n=0,o=e.length;n<o;n++)r+="0"==e.charAt(n)?"1":"0";t=add_pos(r,"1").value;return t=r.substr(0,r.length-t.length)+t}function check_shift(t){if(!_b_.isinstance(t,long_int))throw _b_.TypeError.$factory("shift must be int, not '"+$B.class_name(t)+"'");if(!t.pos)throw _b_.ValueError.$factory("negative shift count")}function clone(t){var e,r={};for(e in t)r[e]=t[e];return r}function comp_pos(t,e){return t.length>e.length?1:t.length<e.length?-1:e<t?1:t<e?-1:0}function divmod_by_safe_int(t,e){if(1==e)return[t,0];for(var r,n,o=t.toString(),t=e.toString().length,s=parseInt(o.substr(0,t)),a=t-1,_="";;){if(n=s-(r=Math.floor(s/e))*e,_+=r,++a>=o.length)return[_,n];s=10*n+parseInt(o[a])}}function divmod_pos(t,e){if($B.BigInt)return[{__class__:long_int,value:(BigInt(t)/BigInt(e)).toString(),pos:!0},{__class__:long_int,value:(BigInt(t)%BigInt(e)).toString(),pos:!0}];var r,n=parseInt(t),o=parseInt(e);if(n<$B.max_int&&o<$B.max_int){var s=n%o,n=Math.floor(n/o).toString();return[{__class__:long_int,value:n.toString(),pos:!0},{__class__:long_int,value:s.toString(),pos:!0}]}if(o<max_safe_divider){o=divmod_by_safe_int(t,o);return[long_int.$factory(o[0]),long_int.$factory(o[1])]}if(-1==comp_pos(t,e))a="0",r=long_int.$factory(t);else if(e==t)a="1",r=long_int.$factory("0");else{var a="",_=t.substr(0,e.length);t<e&&(_=t.substr(0,e.length+1));for(var i=t.substr(_.length),l={};;){var c=Math.floor(parseInt(_)/parseInt(e))+"";if(void 0===l[c="10"==c?"9":c]&&(l[c]=mul_pos(e,c).value),-1==comp_pos(_,l[c])&&void 0===l[--c]&&(l[c]=mul_pos(e,c).value),a+=c,_=sub_pos(_,l[c]).value,0==i.length)break;_+=i.charAt(0),i=i.substr(1)}r=sub_pos(t,mul_pos(a,e).value)}return[long_int.$factory(a),r]}function split_chunks(t,e){for(var r=Math.ceil(t.length/e),n=[],o=t.length,s=0;s<r;s++){var a=o-e*(s+1);a<0&&(e+=a,a=0),n.push(parseInt(t.substr(a,e)))}return n}function mul_pos(e,r){if($B.BigInt)return long_int.$factory(from_BigInt(BigInt(e)*BigInt(r)));var t=parseInt(e)*parseInt(r);if(t<$B.max_int)return{__class__:long_int,value:t.toString(),pos:!0};for(var n=split_chunks(e,6),o=split_chunks(r,6),s={},a=n.length+o.length,_=0;_<a-1;_++)s[_]=0;for(_=0;_<n.length;_++)for(var i=0;i<o.length;i++)s[_+i]+=n[_]*o[i];for(var l,_=0;_<a-1;_++){for(var c=split_chunks(s[_].toString(),6),i=1;i<c.length;i++)void 0===s[l=_+i]?(s[l]=parseInt(c[i]),0):s[l]+=parseInt(c[i]);s[_]=c[0]}for(var u,f="",_=0;void 0!==s[_];)u=s[_].toString(),f=(u=void 0!==s[_+1]?"0".repeat(6-u.length)+u:u)+f,_++;try{return long_int.$factory(f)}catch(t){throw console.log(e,r,s,f),t}}function sub_pos(t,e){if(window.BigInt)return{__class__:long_int,value:(BigInt(t)-BigInt(e)).toString(),pos:!0};for(var r,n,o="",s=0,a=t.length,_=e.length-1;0<=_;_--)a--,n=(r=parseInt(t.charAt(a)))-s-parseInt(e.charAt(_)),isNaN(n)&&console.log("x is NaN",t.length,e.length,_,a,r,s,_,e.charAt(_)),s=n<0?(o=10+n+o,1):(o=n+o,0);for(o.startsWith("NaN")&&alert(o);0<a;)a--,s=(n=parseInt(t.charAt(a))-s)<0?(o=10+n+o,1):(o=n+o,0);for(;"0"==o.charAt(0)&&1<o.length;)o=o.substr(1);return o.startsWith("NaN")&&console.log("hoho !!",t,e,e<=t,o),{__class__:long_int,value:o,pos:!0}}function to_BigInt(t){var e=$B.BigInt(t.value);return t.pos?e:-e}function to_int(t){return t.pos?parseInt(t.value):-parseInt(t.value)}function from_BigInt(t){var e=0<=t;return t=(t=(t=t.toString()).endsWith("n")?t.substr(0,t.length-1):t).startsWith("-")?t.substr(1):t,intOrLong({__class__:long_int,value:t,pos:e})}function preformat(t,e){if(e.empty)return _b_.str.$factory(t);if(e.type&&-1=="bcdoxXn".indexOf(e.type))throw _b_.ValueError.$factory("Unknown format code '"+e.type+"' for object of type 'int'");var r;switch(e.type){case void 0:case"d":r=t.toString();break;case"b":r=(e.alternate?"0b":"")+BigInt(t.value).toString(2);break;case"c":r=_b_.chr(t);break;case"o":r=(e.alternate?"0o":"")+BigInt(t.value).toString(8);break;case"x":r=(e.alternate?"0x":"")+BigInt(t.value).toString(16);break;case"X":r=(e.alternate?"0X":"")+BigInt(t.value).toString(16).toUpperCase();break;case"n":return t}return r=void 0!==e.sign&&(" "==e.sign||"+"==e.sign)&&0<=t?e.sign+r:r}function digits(t){for(var e={},r=0;r<t&&10!=r;r++)e[r]=!0;if(10<t)for(r=0;r<t-10;r++)e[String.fromCharCode(65+r)]=!0,e[String.fromCharCode(97+r)]=!0;return e}long_int.$from_float=function(t){var e,r,n,o=Math.abs(t).toString(),s=o;return-1<o.search("e")&&(e=(n=/-?(\d)(\.\d+)?e([+-])(\d*)/.exec(o))[1],r=n[2],o=n[3],n=n[4],"+"==o&&(s=void 0===r?e+"0".repeat(n-1):e+r+"0".repeat(n-1-r.length))),{__class__:long_int,value:s,pos:0<=t}},long_int.__format__=function(t,e){var r=new $B.parse_format_spec(e);if(r.type&&-1!="eEfFgG%".indexOf(r.type))return _b_.float.__format__(t,e);r.align=r.align||">";e=preformat(t,r);if(r.comma){for(var t="-"==e[0]?"-":"",n=e.substr(t.length),o=n.length,s=Math.ceil(n.length/3),a=[],_=0;_<s;_++)a.push(n.substring(o-3*_-3,o-3*_));a.reverse(),e=t+a.join(",")}return $B.format_width(e,r)},long_int.__abs__=function(t){return{__class__:long_int,value:t.value,pos:!0}},long_int.__add__=function(t,e){if(_b_.isinstance(e,_b_.float))return _b_.float.$factory(to_int(t)+e);if("number"==typeof e)e=long_int.$factory(_b_.str.$factory(e));else if(e.__class__!==long_int)if(_b_.isinstance(e,_b_.bool))e=long_int.$factory(e?1:0);else{if(!_b_.isinstance(e,_b_.int))return _b_.NotImplemented;e=long_int.$factory(_b_.str.$factory(_b_.int.__index__(e)))}if($B.BigInt)return from_BigInt(to_BigInt(t)+to_BigInt(e));var r;if(t.pos&&e.pos)return add_pos(t.value,e.value);if(t.pos||e.pos){if(t.pos&&!e.pos){switch(comp_pos(t.value,e.value)){case 1:r=sub_pos(t.value,e.value);break;case 0:r={__class__:long_int,value:0,pos:!0};break;case-1:(r=sub_pos(e.value,t.value)).pos=!1}return intOrLong(r)}switch(comp_pos(t.value,e.value)){case 1:(r=sub_pos(t.value,e.value)).pos=!1;break;case 0:r={__class__:long_int,value:0,pos:!0};break;case-1:r=sub_pos(e.value,t.value)}return intOrLong(r)}return(r=add_pos(t.value,e.value)).pos=!1,intOrLong(r)},long_int.__and__=function(t,e){if("number"==typeof e&&(e=long_int.$factory(_b_.str.$factory(e))),$B.BigInt)return from_BigInt(to_BigInt(t)&to_BigInt(e));t.value,e.value;var r="",n=!t.pos&&!e.pos;n&&(t=long_int.__neg__(t),e=long_int.__neg__(e));for(var o,s,a=binary(t),_=a.length,i=binary(e),l=i.length,c=1,r="";;){if(_<c&&l<c)break;o=_<c?t.pos?"0":"1":a.charAt(_-c),s=l<c?e.pos?"0":"1":i.charAt(l-c),r="1"==o&&"1"==s?"1"+r:"0"+r,c++}for(;"0"==r.charAt(0);)r=r.substr(1);return r=$B.long_int.$factory(r,2),n&&(r.pos=!1),intOrLong(r)},long_int.__divmod__=function(t,e){"number"==typeof e&&(e=long_int.$factory(_b_.str.$factory(e)));var r=divmod_pos(t.value,e.value);return t.pos!==e.pos&&("0"!=r[0].value&&(r[0].pos=!1),"0"!=r[1].value&&(r[0]=long_int.__sub__(r[0],long_int.$factory("1")),r[1]=long_int.__sub__(t,long_int.__mul__(e,long_int.$factory(r[0]))))),$B.fast_tuple([intOrLong(r[0]),intOrLong(r[1])])},long_int.__eq__=function(t,e){return"number"==typeof e&&(e=long_int.$factory(_b_.str.$factory(e))),t.value==e.value&&t.pos==e.pos},long_int.__float__=function(t){if(!isFinite(parseFloat(t.value)))throw _b_.OverflowError.$factory("int too big to convert to float");return new Number(parseFloat(t.value))},long_int.__floordiv__=function(t,e){if(_b_.isinstance(e,_b_.float))return _b_.float.$factory(to_int(t)/e);if("number"==typeof e&&Math.abs(e)<$B.max_safe_divider){var r=divmod_by_safe_int(t.value,e),n=0<e?t.pos:!t.pos;return{__class__:long_int,value:r[0],pos:n}}return r=intOrLong(long_int.__divmod__(t,e)[0])},long_int.__ge__=function(t,e){return"number"==typeof e&&(e=long_int.$factory(_b_.str.$factory(e))),t.pos!=e.pos?!e.pos:t.value.length>e.value.length?t.pos:t.value.length<e.value.length?!t.pos:t.pos?t.value>=e.value:t.value<=e.value},long_int.__gt__=function(t,e){return!long_int.__le__(t,e)},long_int.__hash__=function(t){var e=$B.fast_long_int("2305843009213693951",!0),r=$B.fast_long_int(t.value,!0),e=$B.long_int.__mod__(r,e);return"number"==typeof e?e=t.pos?e:-e:e.pos=t.pos,t.__hashvalue__=e},long_int.__index__=function(t){for(var e,r="",n=t.value;;)if(r=(e=divmod_pos(n,"2"))[1].value+r,"0"==(n=e[0].value))break;if(t.pos)r="0"+r;else{for(var o="",s=!1,a=r.length-1;0<=a;a--)o="0"==r.charAt(a)?s?"1"+o:"0"+o:s?"0"+o:(s=!0,"1"+o);r=o="1"+o}return intOrLong(r)},long_int.__invert__=function(t){return long_int.__sub__(long_int.$factory("-1"),t)},long_int.__le__=function(t,e){return"number"==typeof e&&(e=long_int.$factory(_b_.str.$factory(e))),t.pos!==e.pos||t.value.length>e.value.length?!t.pos:t.value.length<e.value.length?t.pos:t.pos?t.value<=e.value:t.value>=e.value},long_int.__lt__=function(t,e){return!long_int.__ge__(t,e)},long_int.__lshift__=function(t,e){if(window.BigInt)return e.__class__==long_int&&(e=e.value),intOrLong({__class__:long_int,value:(BigInt(t.value)<<BigInt(e)).toString(),pos:t.pos});var r;if(e.__class__===long_int){var n=parseInt(e.value);if(n<0)throw _b_.ValueError.$factory("negative shift count");n<$B.max_int&&(r=!0,e=n)}if(r){if(0==n)return t}else if("0"==(e=long_int.$factory(e)).value)return t;for(var o=t.value;;){for(var s,a=0,_="",i=o.length-1;0<=i;i--)a=2==(s=(a+2*parseInt(o.charAt(i))).toString()).length?(_=s.charAt(1)+_,parseInt(s.charAt(0))):(_=s+_,0);if(o=_=a?a+_:_,r){if(0==--e)break}else if("0"==(e=sub_pos(e.value,"1")).value)break}return intOrLong({__class__:long_int,value:o,pos:t.pos})},long_int.__mod__=function(t,e){return intOrLong(long_int.__divmod__(t,e)[1])},long_int.__mro__=[_b_.int,_b_.object],long_int.__mul__=function(t,e){switch(t){case Number.NEGATIVE_INFINITY:case Number.POSITIVE_INFINITY:return $B.rich_comp("__eq__",e,0)?NaN:_b_.getattr(e,"__gt__")(0)?t:-t}if(_b_.isinstance(e,_b_.float))return _b_.float.$factory(to_int(t)*e);if("number"==typeof e&&(e=long_int.$factory(e)),other_value=e.value,other_pos=e.pos,e.__class__!==long_int&&_b_.isinstance(e,_b_.int)&&(r=_b_.int.__index__(e),other_value=_b_.str.$factory(r),other_pos=0<r),$B.BigInt)return from_BigInt(to_BigInt(t)*to_BigInt(e));var r=mul_pos(t.value,other_value);return t.pos==other_pos||(r.pos=!1),intOrLong(r)},long_int.__ne__=function(t,e){e=long_int.__eq__(t,e);return e===_b_.NotImplemented?e:!e},long_int.__neg__=function(t){return{__class__:long_int,value:t.value,pos:!t.pos}},long_int.__or__=function(t,e){e=long_int.$factory(e);var r=long_int.__index__(t),n=long_int.__index__(e);r.length<n.length&&(e=n,n=r,r=e);for(var o=r.length-n.length,s=r.substr(0,o),a=0;a<n.length;a++)"1"==r.charAt(o+a)||"1"==n.charAt(a)?s+="1":s+="0";return intOrLong(long_int.$factory(s,2))},long_int.__pos__=function(t){return t},long_int.__pow__=function(t,e,r){if("number"==typeof e)e=long_int.$from_int(e);else if(_b_.isinstance(e,_b_.int))e=long_int.$factory(_b_.str.$factory(_b_.int.__index__(e)));else if(!_b_.isinstance(e,long_int))throw _b_.TypeError.$factory("power must be an integer, not '"+$B.class_name(e)+"'");if(!e.pos)return"1"==t.value?t:long_int.$factory("0");if("0"==e.value)return long_int.$factory("1");if($B.BigInt){var n=$B.BigInt(t.value),o=$B.BigInt(1),s=$B.BigInt(e.value);if(void 0===(r=void 0===r?r:"number"==typeof r?$B.BigInt(r):$B.BigInt(r.value)))return{__class__:long_int,value:(n**s).toString(),pos:!0};for(;0<s;)s%$B.BigInt(2)==1&&(o*=n),0<(s/=$B.BigInt(2))&&(n*=n),void 0!==r&&(o%=r);return{__class__:long_int,value:o.toString(),pos:!0}}for(var a,o={__class__:long_int,value:"1",pos:!0},n=t,_=e.value;;){if(0==(_="string"==typeof _&&parseInt(_)<$B.max_int?parseInt(_):_))break;0<(_="string"==typeof _?(parseInt(_.charAt(_.length-1))%2==1&&(o=long_int.__mul__(o,n)),long_int.__floordiv__(_,2)):(_%2==1&&(o="number"==typeof o&&"number"==typeof n&&(a=o*n)<$B.max_int?a:long_int.__mul__(long_int.$factory(o),long_int.$factory(n))),Math.floor(_/2)))&&(n="number"==typeof n&&(a=n*n)<$B.max_int?a:(n=long_int.$factory(n),long_int.__mul__(n,n))),void 0!==r&&(o=long_int.__mod__(o,r))}return intOrLong(o)},long_int.__rshift__=function(t,e){if(window.BigInt)return e.__class__===long_int&&(e=e.value),intOrLong({__class__:long_int,value:(BigInt(t.value)>>BigInt(e)).toString(),pos:t.pos});if("number"==typeof e){var r=Math.pow(2,e);if(r<$B.max_int){var n=divmod_by_safe_int(t.value,r);return intOrLong({__class__:long_int,value:n[0],pos:t.pos})}}if("0"==(e=long_int.$factory(e)).value)return t;for(n=t.value;;){if("0"==(n=divmod_pos(n,"2")[0].value).value)break;if("0"==(e=sub_pos(e.value,"1")).value)break}return intOrLong({__class__:long_int,value:n,pos:t.pos})},long_int.__str__=long_int.__repr__=function(t){var e="";return t.pos||(e+="-"),e+t.value},long_int.__sub__=function(t,e){if(_b_.isinstance(e,_b_.float))return e=e instanceof Number?e:e.$brython_value,_b_.float.$factory(to_int(t)-e);var r;if("number"==typeof e&&(e=long_int.$factory(_b_.str.$factory(e))),$B.BigInt,t.pos&&e.pos){switch(comp_pos(t.value,e.value)){case 1:r=sub_pos(t.value,e.value);break;case 0:r={__class__:long_int,value:"0",pos:!0};break;case-1:(r=sub_pos(e.value,t.value)).pos=!1}return intOrLong(r)}if(t.pos||e.pos)return t.pos&&!e.pos?intOrLong(add_pos(t.value,e.value)):((r=add_pos(t.value,e.value)).pos=!1,intOrLong(r));switch(comp_pos(t.value,e.value)){case 1:(r=sub_pos(t.value,e.value)).pos=!1;break;case 0:r={__class__:long_int,value:"0",pos:!0};break;case-1:r=sub_pos(e.value,t.value)}return intOrLong(r)},long_int.__truediv__=function(t,e){if(_b_.isinstance(e,long_int))return _b_.float.$factory(to_int(t)/to_int(e));if(_b_.isinstance(e,_b_.int))return _b_.float.$factory(to_int(t)/e);if(_b_.isinstance(e,_b_.float))return _b_.float.$factory(to_int(t)/e);throw _b_.TypeError.$factory("unsupported operand type(s) for /: 'int' and '"+$B.class_name(e)+"'")},long_int.__xor__=function(t,e){e=long_int.$factory(e);var r=long_int.__index__(t),n=long_int.__index__(e);r.length<n.length&&(e=n,n=r,r=e);for(var o=r.length-n.length,s=r.substr(0,o),a=0;a<n.length;a++)"1"==r.charAt(o+a)&&"0"==n.charAt(a)||"0"==r.charAt(o+a)&&"1"==n.charAt(a)?s+="1":s+="0";return intOrLong(long_int.$factory(s,2))},long_int.bit_length=function(t){return binary(t).length},long_int.numerator=function(t){return t},long_int.denominator=function(t){return _b_.int.$factory(1)},long_int.imag=function(t){return _b_.int.$factory(0)},long_int.real=function(t){return t},long_int.to_base=function(t,e){if(2==e)return binary_pos(t.value);for(var r="",n=t.value;0<n;){var o=divmod_pos(n,e.toString()),r=parseInt(o[1].value).toString(e)+r;if(0==(n=o[0].value))break}return r},long_int.to_bytes=function(t,e,r,n){var o=[],s=t.value;if(!$B.$bool(n)&&!t.pos)throw _b_.OverflowError.$factory("can't convert negative int to unsigned");for(;0<s;){var a=divmod_pos(s,256),s=parseInt(a[0].value);if(o.push(parseInt(a[1].value)),o.length>e)throw _b_.OverflowError.$factory("int too big to convert")}for(;o.length<e;)o.push(0);return"big"==r&&o.reverse(),_b_.bytes.$factory(o)};var MAX_SAFE_INTEGER=Math.pow(2,53)-1,MIN_SAFE_INTEGER=-MAX_SAFE_INTEGER;function isSafeInteger(t){return"number"==typeof t&&Math.round(t)===t&&MIN_SAFE_INTEGER<=t&&t<=MAX_SAFE_INTEGER}function intOrLong(t){var e=parseInt(t.value)*(t.pos?1:-1);return MIN_SAFE_INTEGER<e&&e<MAX_SAFE_INTEGER?e:t}function extended_euclidean_algorithm(t,e){for(var r,n,o=0,s=1,a=1,_=0,i=e,l=t;$B.rich_comp("__ne__",i,0);)r=$B.rich_op("floordiv",l,i),n=$B.rich_op("sub",l,$B.rich_op("mul",r,i)),l=i,i=n,n=$B.rich_op("sub",s,$B.rich_op("mul",r,o)),s=o,o=n,n=$B.rich_op("sub",_,$B.rich_op("mul",r,a)),_=a,a=n;return[l,s,_]}function inverse_of(t,e){var r,n,o;if([r,n,o]=extended_euclidean_algorithm(t,e),$B.rich_comp("__ne__",r,1))throw Error(`${t} has no multiplicative inverse '
            'modulo ${e}`);return $B.rich_op("mod",n,e)}long_int.$from_int=function(t){return{__class__:long_int,value:t.toString(),pos:0<t}},long_int.$factory=function(t,e){if(2<arguments.length)throw _b_.TypeError.$factory("long_int takes at most 2 arguments ("+arguments.length+" given)");if(void 0===e)e=10;else if(!_b_.isinstance(e,_b_.int))throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object cannot be interpreted as an integer");if(e<0||1==e||36<e)throw _b_.ValueError.$factory("long_int.$factory() base must be >= 2 and <= 36");if("number"==typeof t){var r=0<=t,t=Math.abs(t);if(isSafeInteger(t))a=long_int.$from_int(t);else{if(t.constructor!=Number)throw _b_.ValueError.$factory("argument of long_int is not a safe integer");var n,o=t.toString(),s=o.search("e");a=-1<s?(i=o.substr(0,s),n=parseInt(o.substr(s+1)),-1<(c=i.search(/\./))?(a=n<(s=i.substr(c+1).length)?i.substr(0,c)+i.substr(c+1).substr(0,n):i.substr(0,c)+i.substr(c+1)+"0".repeat(n-s),long_int.$from_int(a)):long_int.$from_int(i+"0".repeat(n))):-1<(c=o.search(/\./))?long_int.$from_int(o.substr(0,c)):long_int.$from_int(o)}return a.pos=r,a}if(_b_.isinstance(t,_b_.float)){if(t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)return t;t=0<=t?new Number(Math.round(t.value)):new Number(Math.ceil(t.value))}else{if(_b_.isinstance(t,_b_.bool))return t.valueOf()?_b_.int.$factory(1):_b_.int.$factory(0);if(t.__class__===long_int)return t;if(_b_.isinstance(t,_b_.int))t=t.$brython_value+"";else if(_b_.isinstance(t,_b_.bool))t=_b_.bool.__int__(t)+"";else if("string"!=typeof t)throw _b_.ValueError.$factory("argument of long_int must be a string, not "+$B.class_name(t))}for(var a=!1,r=!0,_=0;" "==t.charAt(0)&&t.length;)t=t.substr(1);for(;" "==t.charAt(t.length-1)&&t.length;)t=t.substr(0,t.length-1);if("+"==t.charAt(0)?a=!0:"-"==t.charAt(0)&&(r=!(a=!0)),a){if(1==t.length)throw _b_.ValueError.$factory('long_int argument is not a valid number: "'+t+'"');t=t.substr(1)}for(;_<t.length-1&&"0"==t.charAt(_);)_++;t=t.substr(_);for(var i,l=digits(e),c=-1,u=0;u<t.length;u++)if("."==t.charAt(u)&&-1==c)c=u;else if(0,!l[t.charAt(u)])throw _b_.ValueError.$factory('long_int argument is not a valid number: "'+t+'"');if(-1!=c&&(t=t.substr(0,c)),10==e)return{__class__:long_int,value:t,pos:r};for(var f="1",p=long_int.$factory(0),$=t.length;$--;)var d=mul_pos(f,parseInt(t.charAt($),e).toString()).value,p=add_pos(p.value,d),f=mul_pos(f,e.toString()).value;return p},$B.inverse_of=inverse_of,$B.set_func_names(long_int,"builtins"),$B.long_int=long_int,$B.fast_long_int=function(t,e){return{__class__:$B.long_int,value:t,pos:e}}}(__BRYTHON__),function($B){var _b_=$B.builtins,object=_b_.object;function $err(t,e){e="unsupported operand type(s) for "+t+": 'float' and '"+$B.class_name(e)+"'";throw _b_.TypeError.$factory(e)}function float_value(t){return void 0!==t.$brython_value?t.$brython_value:t}var float={__class__:_b_.type,__dir__:object.__dir__,$infos:{__module__:"builtins",__name__:"float"},$is_class:!0,$native:!0,$descriptors:{numerator:!0,denominator:!0,imag:!0,real:!0}};function preformat(t,e){if(e.empty)return _b_.str.$factory(t);if(e.type&&-1=="eEfFgGn%".indexOf(e.type))throw _b_.ValueError.$factory("Unknown format code '"+e.type+"' for object of type 'float'");if(isNaN(t))return"f"==e.type||"g"==e.type?"nan":"NAN";if(t==Number.POSITIVE_INFINITY)return"f"==e.type||"g"==e.type?"inf":"INF";if(void 0===e.precision&&void 0!==e.type&&(e.precision=6),"%"==e.type&&(t*=100),"e"==e.type){var r=t.toExponential(e.precision),n=parseInt(r.substr(r.search("e")+1));return r=Math.abs(n)<10?r.substr(0,r.length-1)+"0"+r.charAt(r.length-1):r}if(void 0!==e.precision){var o=e.precision;if(0==o)return Math.round(t)+"";o=(r=t.toFixed(o)).indexOf(".");if(void 0===e.type||"%"!=e.type&&"f"!=e.type.toLowerCase()){if(e.type&&"g"==e.type.toLowerCase()){var s=preformat(t,{type:"e"}).split("e"),s=(r=-4<=(n=parseInt(s[1]))&&n<e.precision?preformat(t,{type:"f",precision:e.precision-1-n}):preformat(t,{type:"e",precision:e.precision-1})).split("e");if(e.alternate)-1==s[0].search(/\./)&&(s[0]+=".");else if(s[1]){for(var a=s[0];a.endsWith("0");)a=a.substr(0,a.length-1);a.endsWith(".")&&(a=a.substr(0,a.length-1)),s[0]=a}return r=s.join("e"),r="G"==e.type?r.toUpperCase():r}if(void 0===e.type)e.type="g",r=preformat(t,e),e.type=void 0;else{s=t.toExponential(e.precision-1);if((n=parseInt(s.substr(s.search("e")+1)))<-4||n>=e.precision-1){for(var _=s.split("e");_[0].endsWith("0");)_[0]=_[0].substr(0,_[0].length-1);r=_.join("e")}}}else-1==o?r+="."+"0".repeat(e.precision):0<(o=e.precision-r.length+o+1)&&(r+="0".repeat(o))}else r=_b_.str.$factory(t);if(void 0===e.type||-1!="gGn".indexOf(e.type)){if(-1==r.search("e"))for(;"0"==r.charAt(r.length-1);)r=r.substr(0,r.length-1);"."==r.charAt(r.length-1)&&(void 0===e.type?r+="0":r=r.substr(0,r.length-1))}return void 0!==e.sign&&(" "==e.sign||"+"==e.sign)&&0<t&&(r=e.sign+r),"%"==e.type&&(r+="%"),r}function __newobj__(){var t=$B.args("__newobj__",0,{},[],arguments,{},"args",null).args,e=t.slice(1);return e.__class__=t[0],e}float.numerator=function(t){return float_value(t)},float.denominator=function(t){return _b_.int.$factory(1)},float.imag=function(t){return _b_.int.$factory(0)},float.real=function(t){return float_value(t)},float.__float__=function(t){return float_value(t)},$B.shift1_cache={},float.as_integer_ratio=function(t){if((t=float_value(t)).valueOf()==Number.POSITIVE_INFINITY||t.valueOf()==Number.NEGATIVE_INFINITY)throw _b_.OverflowError.$factory("Cannot pass infinity to float.as_integer_ratio.");if(!Number.isFinite(t.valueOf()))throw _b_.ValueError.$factory("Cannot pass NaN to float.as_integer_ratio.");for(var e,t=_b_.$frexp(t.valueOf()),r=t[0],n=t[1],o=0;o<300&&r!=Math.floor(r);o++)r*=2,n--;return numerator=_b_.int.$factory(r),py_exponent=_b_.abs(n),denominator=1,void 0!==$B.shift1_cache[py_exponent]?e=$B.shift1_cache[py_exponent]:(e=$B.$getattr(1,"__lshift__")(py_exponent),$B.shift1_cache[py_exponent]=e),py_exponent=e,0<n?numerator=$B.rich_op("mul",numerator,py_exponent):denominator=py_exponent,$B.fast_tuple([_b_.int.$factory(numerator),_b_.int.$factory(denominator)])},float.__abs__=function(t){return new Number(Math.abs(float_value(t)))},float.__bool__=function(t){return t=float_value(t),_b_.bool.$factory(t.valueOf())},float.__divmod__=function(t,e){return _b_.isinstance(e,[_b_.int,float])?$B.fast_tuple([float.__floordiv__(t,e),float.__mod__(t,e)]):_b_.NotImplemented},float.__eq__=function(t,e){return t=float_value(t),e=float_value(e),(!isNaN(t)||!isNaN(e))&&(_b_.isinstance(e,_b_.int)?t==e:_b_.isinstance(e,float)?t.valueOf()==e.valueOf():_b_.isinstance(e,_b_.complex)?0==e.$imag&&t==e.$real:_b_.NotImplemented)},float.__floordiv__=function(t,e){if(t=float_value(t),e=float_value(e),_b_.isinstance(e,[_b_.int,float])){if(0==e.valueOf())throw _b_.ZeroDivisionError.$factory("division by zero");return float.$factory(Math.floor(t/e))}return _b_.NotImplemented},float.fromhex=function(t){if(!_b_.isinstance(t,_b_.str))throw _b_.ValueError.$factory("argument must be a string");var e=t.trim();switch(e.toLowerCase()){case"+inf":case"inf":case"+infinity":case"infinity":return $FloatClass(1/0);case"-inf":case"-infinity":return $FloatClass(-1/0);case"+nan":case"nan":return $FloatClass(Number.NaN);case"-nan":return $FloatClass(-Number.NaN);case"":throw _b_.ValueError.$factory("could not convert string to float")}var r=/^(\d*)(\.?)(\d*)$/.exec(e);if(null!==r){var n=parseFloat(r[1]),o=16;if(r[2])for(var s of r[3])n+=parseInt(s,16)/o,o*=16;return $FloatClass(n)}t=/^(\+|-)?(0x)?([0-9A-F]+\.?)?(\.[0-9A-F]+)?(p(\+|-)?\d+)?$/i.exec(e);if(null==t)throw _b_.ValueError.$factory("invalid hexadecimal floating-point string");for(var r=t[1],e=parseInt(t[3]||"0",16),a=t[4]||".0",t=t[5]||"p0",r="-"==r?-1:1,_=e,i=1,l=a.length;i<l;i++)_+=parseInt(a.charAt(i),16)/Math.pow(16,i);return new Number(r*_*Math.pow(2,parseInt(t.substring(1))))},float.__getformat__=function(t){if("double"==t||"float"==t)return"IEEE, little-endian";throw _b_.ValueError.$factory("__getformat__() argument 1 must be 'double' or 'float'")},float.__format__=function(t,e){t=float_value(t);e=new $B.parse_format_spec(e);e.align=e.align||">";var t=preformat(t,e).split("."),r=t[0];if(e.comma){for(var n=r.length,o=Math.ceil(r.length/3),s=[],a=0;a<o;a++)s.push(r.substring(n-3*a-3,n-3*a));s.reverse(),t[0]=s.join(",")}return $B.format_width(t.join("."),e)},float.__hash__=function(t){if(void 0===t)return float.__hashvalue__||$B.$py_next_hash--;var e=t.valueOf();if(e===1/0)return 314159;if(e===-1/0)return-271828;if(isNaN(e))return 0;if(e==Math.round(e))return Math.round(e);t=_b_.$frexp(e);t[0]*=Math.pow(2,31);e=_b_.int.$factory(t[0]);return t[0]=(t[0]-e)*Math.pow(2,31),4294967295&e+_b_.int.$factory(t[0])+(t[1]<<15)},_b_.$isninf=function(t){var e=t;return(e=_b_.isinstance(t,float)?float.numerator(t):e)==-1/0||e==Number.NEGATIVE_INFINITY},_b_.$isinf=function(t){var e=t;return(e=!t instanceof Number&&_b_.isinstance(t,float)?float.numerator(t):e)==1/0||e==-1/0||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY},_b_.$isnan=function(t){var e=t;return _b_.isinstance(t,float)&&(e=float.numerator(t)),isNaN(e)},_b_.$fabs=function(t){return 0==t?new Number(0):0<t?float.$factory(t):float.$factory(-t)},_b_.$frexp=function(t){var e=t;if(_b_.isinstance(t,float)&&(e=t.valueOf()),isNaN(e)||_b_.$isinf(e))return[e,-1];if(0==e)return[0,0];var t=1,r=0,n=e;for(n<0&&(t=-t,n=-n);n<.5;)n*=2,r--;for(;1<=n;)n*=.5,r++;return[n*=t,r]},_b_.$ldexp=function(t,e){if(_b_.$isninf(t))return float.$factory("-inf");if(_b_.$isinf(t))return float.$factory("inf");var r=t;if(0==(r=_b_.isinstance(t,float)?t.valueOf():r))return r;t=e;return _b_.isinstance(e,float)&&(t=e.valueOf()),r*Math.pow(2,t)},float.hex=function(t){switch((t=float_value(t)).valueOf()){case 1/0:case-1/0:case Number.NaN:case-Number.NaN:return t;case-0:return"-0x0.0p0";case 0:return"0x0.0p0"}var e=_b_.$frexp(_b_.$fabs(t.valueOf())),r=e[0],n=e[1],e=1-Math.max(-1021-n,0),r=_b_.$ldexp(r,e);n-=e;var o="0123456789ABCDEF".split(""),s=o[Math.floor(r)];s+=".",r-=Math.floor(r);for(var a=0;a<13;a++)r*=16,s+=o[Math.floor(r)],r-=Math.floor(r);e="+";return n<0&&(e="-",n=-n),t.value<0?"-0x"+s+"p"+e+n:"0x"+s+"p"+e+n},float.__init__=function(t,e){return _b_.None},float.__int__=function(t){return parseInt(t)},float.is_integer=function(t){return _b_.int.$factory(t)==t},float.__mod__=function(t,e){if(t=float_value(t),0==(e=float_value(e)))throw _b_.ZeroDivisionError.$factory("float modulo");if(_b_.isinstance(e,_b_.int))return e=_b_.int.numerator(e),new Number((t%e+e)%e);if(_b_.isinstance(e,float)){var r=Math.floor(t/e);return new Number(t-e*r)}return _b_.NotImplemented},float.__mro__=[object],float.__mul__=function(t,e){return t=float_value(t),e=float_value(e),_b_.isinstance(e,_b_.int)?e.__class__==$B.long_int?new Number(t*parseFloat(e.value)):(e=_b_.int.numerator(e),new Number(t*e)):_b_.isinstance(e,float)?new Number(t*float_value(e)):_b_.NotImplemented},float.__ne__=function(t,e){e=float.__eq__(t,e);return e===_b_.NotImplemented?e:!e},float.__neg__=function(t){return new Number(-float_value(t))},float.__new__=function(t,e){if(void 0===t)throw _b_.TypeError.$factory("float.__new__(): not enough arguments");if(!_b_.isinstance(t,_b_.type))throw _b_.TypeError.$factory("float.__new__(X): X is not a type object");return t===float?float.$factory(e):{__class__:t,__dict__:$B.empty_dict(),$brython_value:e||0}},float.__pos__=function(t){return float_value(t)},float.__pow__=function(t,e){if(t=float_value(t),e=float_value(e),_b_.isinstance(e,_b_.int)||_b_.isinstance(e,float)){if(1==t)return t;if(0==e)return new Number(1);if(!(-1!=t||isFinite(e)&&e.__class__!==$B.long_int&&$B.is_safe_int(e)||isNaN(e)))return new Number(1);if(0==t&&isFinite(e)&&e<0)throw _b_.ZeroDivisionError.$factory("0.0 cannot be raised to a negative power");return t!=Number.NEGATIVE_INFINITY||isNaN(e)?t!=Number.POSITIVE_INFINITY||isNaN(e)?e!=Number.NEGATIVE_INFINITY||isNaN(t)?e!=Number.POSITIVE_INFINITY||isNaN(t)?t<0&&!$B.$getattr(e,"__eq__")(_b_.int.$factory(e))?_b_.complex.__pow__($B.make_complex(t,0),e):float.$factory(Math.pow(t,e)):Math.abs(t)<1?new Number(0):Number.POSITIVE_INFINITY:Math.abs(t)<1?Number.POSITIVE_INFINITY:new Number(0):0<e?t:new Number(0):e<0&&e%2==1?new Number(-0):e<0?new Number(0):0<e&&e%2==1?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY}return _b_.NotImplemented},float.__reduce_ex__=function(t){return $B.fast_tuple([__newobj__,$B.fast_tuple([t.__class__||_b_.int,float_value(t)]),_b_.None,_b_.None,_b_.None])},float.__repr__=function(t){if($B.builtins_repr_check(float,arguments),(t=float_value(t).valueOf())==1/0)return"inf";if(t==-1/0)return"-inf";if(isNaN(t))return"nan";if(0===t)return 1/t==-1/0?"-0.0":"0.0";var e=t+"";-1==e.indexOf(".")&&(e+=".0");var r,n,o=e.split(/e/i);if(2==o.length){var s=o[0];if((a=o[1]).startsWith("-"))return exp_str=parseInt(a.substr(1))+"",exp_str.length<2&&(exp_str="0"+exp_str),s+"e-"+exp_str}if([r,n]=e.split("."),16<r.length){for(var a=r.length-1,o=r[0],_=r.substr(1)+n;_.endsWith("0");)_=_.substr(0,_.length-1);s=o;return 0<_.length&&(s+="."+_),s+"e+"+a}if("0"==r){for(a=0;a<n.length&&"0"==n.charAt(a);)a++;if(3<a){for(var i=n.substr(a),a=(a+1).toString();i.endsWith("0");)i=i.substr(0,e.length-1);s=i[0];return 1<i.length&&(s+="."+i.substr(1)),s+"e-"+(a=1==a.length?"0"+a:a)}}return _b_.str.$factory(e)},float.__setattr__=function(t,e,r){if(t.constructor===Number)throw void 0===float[e]?_b_.AttributeError.$factory("'float' object has no attribute '"+e+"'"):_b_.AttributeError.$factory("'float' object attribute '"+e+"' is read-only");return t[e]=r,_b_.None},float.__truediv__=function(t,e){if(t=float_value(t),e=float_value(e),_b_.isinstance(e,[_b_.int,float])){if(0==e.valueOf())throw _b_.ZeroDivisionError.$factory("division by zero");return float.$factory(t/e)}return _b_.NotImplemented};var $op_func=function(t,e){return t=float_value(t),e=float_value(e),_b_.isinstance(e,_b_.int)?"boolean"==typeof e?e?t-1:t:e.__class__===$B.long_int?float.$factory(t-parseInt(e.value)):float.$factory(t-e):_b_.isinstance(e,float)?float.$factory(t-e):_b_.NotImplemented};$op_func+="";var $ops={"+":"add","-":"sub"},$op;for($op in $ops){var $opf=$op_func.replace(/-/gm,$op),$opf=$opf.replace(/__rsub__/gm,"__r"+$ops[$op]+"__");eval("float.__"+$ops[$op]+"__ = "+$opf)}var $comp_func=function(t,e){if(t=float_value(t),e=float_value(e),_b_.isinstance(e,_b_.int))return e.__class__===$B.long_int?t>parseInt(e.value):t>e.valueOf();if(_b_.isinstance(e,float))return e<t;if(_b_.isinstance(e,_b_.bool))return t.valueOf()>_b_.bool.__hash__(e);if(_b_.hasattr(e,"__int__")||_b_.hasattr(e,"__index__"))return _b_.int.__gt__(t,$B.$GetInt(e));var r=$B.$getattr(e,"__le__",_b_.None);if(r!==_b_.None)return r(t);throw _b_.TypeError.$factory("unorderable types: float() > "+$B.class_name(e)+"()")},$op;for($op in $comp_func+="",$B.$comps)eval("float.__"+$B.$comps[$op]+"__ = "+$comp_func.replace(/>/gm,$op).replace(/__gt__/gm,"__"+$B.$comps[$op]+"__").replace(/__le__/,"__"+$B.$inv_comps[$op]+"__"));var r_opnames=["add","sub","mul","truediv","floordiv","mod","pow","lshift","rshift","and","xor","or","divmod"],r_opname;for(r_opname of r_opnames)void 0===float["__r"+r_opname+"__"]&&float["__"+r_opname+"__"]&&(float["__r"+r_opname+"__"]=function(r){return function(t,e){return _b_.isinstance(e,_b_.int)?(e=float_value(_b_.int.numerator(e)),float["__"+r+"__"](e,t)):_b_.isinstance(e,float)?(e=float_value(e),float["__"+r+"__"](e,t)):_b_.NotImplemented}}(r_opname));function $FloatClass(t){return new Number(t)}function to_digits(t){for(var e="",r=0;r<t.length;r++){var n="٠١٢٣٤٥٦٧٨٩".indexOf(t[r]);e+=-1<n?n:t[r]}return e}float.$factory=function(value){switch(value){case void 0:return $FloatClass(0);case Number.MAX_VALUE:return $FloatClass(1/0);case-Number.MAX_VALUE:return $FloatClass(-1/0);case!0:return new Number(1);case!1:return new Number(0)}if("number"==typeof value)return new Number(value);if(_b_.isinstance(value,float))return float_value(value);if(_b_.isinstance(value,_b_.bytes)){var s=$B.$getattr(value,"decode")("latin-1");return float.$factory($B.$getattr(value,"decode")("latin-1"))}if("string"==typeof value)switch(value=value.trim(),value.toLowerCase()){case"+inf":case"inf":case"+infinity":case"infinity":return Number.POSITIVE_INFINITY;case"-inf":case"-infinity":return Number.NEGATIVE_INFINITY;case"+nan":case"nan":return Number.NaN;case"-nan":return-Number.NaN;case"":throw _b_.ValueError.$factory("count not convert string to float");default:if(value=value.charAt(0)+value.substr(1).replace(/_/g,""),value=to_digits(value),isFinite(value))return $FloatClass(eval(value));throw _b_.str.encode(value,"latin-1"),_b_.ValueError.$factory("Could not convert to float(): '"+_b_.str.$factory(value)+"'")}var klass=value.__class__||$B.get_class(value),num_value=$B.to_num(value,["__float__","__index__"]);if(value!==Number.POSITIVE_INFINITY&&!isFinite(num_value))throw _b_.OverflowError.$factory("int too large to convert to float");if(null!==num_value)return num_value;throw _b_.TypeError.$factory("float() argument must be a string or a number, not '"+$B.class_name(value)+"'")},$B.$FloatClass=$FloatClass,$B.set_func_names(float,"builtins");var FloatSubclass=$B.FloatSubclass={__class__:_b_.type,__mro__:[object],$infos:{__module__:"builtins",__name__:"float"},$is_class:!0},$attr;for($attr in float)"function"==typeof float[$attr]&&(FloatSubclass[$attr]=function(o){return function(){var t=[],e=0;if(0<arguments.length)for(var t=[arguments[0].valueOf()],e=1,r=1,n=arguments.length;r<n;r++)t[e++]=arguments[r];return float[o].apply(null,t)}}($attr));$B.set_func_names(FloatSubclass,"builtins"),_b_.float=float}(__BRYTHON__),function($B){var _b_=$B.builtins;function $UnsupportedOpType(t,e,r){throw _b_.TypeError.$factory("unsupported operand type(s) for "+t+": '"+e+"' and '"+r+"'")}var complex={__class__:_b_.type,__dir__:_b_.object.__dir__,$infos:{__module__:"builtins",__name__:"complex"},$is_class:!0,$native:!0,$descriptors:{real:!0,imag:!0}};function complex2expo(t){var e=Math.sqrt(t.$real*t.$real+t.$imag*t.$imag),r=t.$imag/e,t=t.$real/e,t=0==t?1==r?Math.PI/2:3*Math.PI/2:0==r?1==t?0:Math.PI:Math.atan(r/t);return{norm:e,angle:t}}complex.__abs__=function(t){var e=isFinite(t.$real),r=isFinite(t.$imag);if(e&&isNaN(t.$imag)||r&&isNaN(t.$real)||isNaN(t.$imag)&&isNaN(t.$real))return NaN;if(!e||!r)return 1/0;t=Math.sqrt(Math.pow(t.$real,2)+Math.pow(t.$imag,2));if(!isFinite(t)&&e&&r)throw _b_.OverflowError.$factory("absolute value too large");return t},complex.__add__=function(t,e){return _b_.isinstance(e,complex)?make_complex(t.$real+e.$real,t.$imag+e.$imag):_b_.isinstance(e,_b_.int)?(e=_b_.int.numerator(e),make_complex($B.add(t.$real,e.valueOf()),t.$imag)):_b_.isinstance(e,_b_.float)?make_complex(t.$real+e.valueOf(),t.$imag):_b_.NotImplemented},complex.__bool__=function(t){return 0!=t.$real||0!=t.$imag},complex.__complex__=function(t){return t},complex.__eq__=function(t,e){return _b_.isinstance(e,complex)?t.$real.valueOf()==e.$real.valueOf()&&t.$imag.valueOf()==e.$imag.valueOf():_b_.isinstance(e,_b_.int)||_b_.isinstance(e,_b_.float)?0==t.$imag&&t.$real==e.valueOf():_b_.NotImplemented},complex.__hash__=function(t){return 1000003*t.$imag+t.$real},complex.__init__=function(){return _b_.None},complex.__invert__=function(t){return~t},complex.__mro__=[_b_.object],complex.__mul__=function(t,e){return _b_.isinstance(e,complex)?make_complex(t.$real*e.$real-t.$imag*e.$imag,t.$imag*e.$real+t.$real*e.$imag):_b_.isinstance(e,_b_.int)?make_complex(t.$real*e.valueOf(),t.$imag*e.valueOf()):_b_.isinstance(e,_b_.float)?make_complex(t.$real*e,t.$imag*e):_b_.isinstance(e,_b_.bool)?e.valueOf()?t:make_complex(0,0):void $UnsupportedOpType("*",complex,e)},complex.__ne__=function(t,e){e=complex.__eq__(t,e);return e===_b_.NotImplemented?e:!e},complex.__neg__=function(t){return make_complex(-t.$real,-t.$imag)},complex.__new__=function(t){if(void 0===t)throw _b_.TypeError.$factory("complex.__new__(): not enough arguments");var e={},r=$B.args("complex",3,{cls:null,real:null,imag:null},["cls","real","imag"],arguments,{real:0,imag:e},null,null),n=r.real,r=r.imag;if("string"==typeof n){if(r!==e)throw _b_.TypeError.$factory("complex() can't take second arg if first is a string");var o=n;(n=n.trim()).startsWith("(")&&n.endsWith(")")&&(n=(n=n.substr(1)).substr(0,n.length-1));var s=/^\s*([\+\-]*[0-9_]*\.?[0-9_]*(e[\+\-]*[0-9_]*)?)([\+\-]?)([0-9_]*\.?[0-9_]*(e[\+\-]*[0-9_]*)?)(j?)\s*$/i.exec(n);function a(t){t=parseFloat(t.charAt(0)+t.substr(1).replace(/_/g,""));if(isNaN(t))throw _b_.ValueError.$factory("could not convert string to complex: '"+o+"'");return t}if(null===s)throw _b_.ValueError.$factory("complex() arg is a malformed string");if("."==s[_real]||"."==s[_imag]||".e"==s[_real]||".e"==s[_imag]||"e"==s[_real]||"e"==s[_imag])throw _b_.ValueError.$factory("complex() arg is a malformed string");return r=""!=s[_j]?""==s[_sign]?(n=0,"+"==s[_real]||""==s[_real]?1:"-"==s[_real]?-1:a(s[_real])):(n=a(s[_real]),r=""==s[_imag]?1:a(s[_imag]),"-"==s[_sign]?-r:r):(n=a(s[_real]),0),{__class__:complex,$real:n||0,$imag:r||0}}if(r=r===e?0:r,2==arguments.length&&n.__class__===complex&&0==r)return n;if(_b_.isinstance(n,[_b_.float,_b_.int])&&_b_.isinstance(r,[_b_.float,_b_.int]))return{__class__:complex,$real:n,$imag:r};s=$B.to_num(n,["__complex__","__float__","__index__"]);if(null===s)throw _b_.TypeError.$factory("complex() first argument must be a  string or a number, not '"+$B.class_name(n)+"'");if(n=s,r=_convert(r),!_b_.isinstance(n,_b_.float)&&!_b_.isinstance(n,_b_.int)&&!_b_.isinstance(n,_b_.complex))throw _b_.TypeError.$factory("complex() argument must be a string or a number");if("string"==typeof r)throw _b_.TypeError.$factory("complex() second arg can't be a string");if(!_b_.isinstance(r,_b_.float)&&!_b_.isinstance(r,_b_.int)&&!_b_.isinstance(r,_b_.complex)&&r!==e)throw _b_.TypeError.$factory("complex() argument must be a string or a number");return r=complex.__mul__(complex.$factory("1j"),r),complex.__add__(r,n)},complex.__pos__=function(t){return t},complex.__pow__=function(t,e){if(1==e)return t;var r=complex2expo(t),n=r.angle,o=Math.pow(r.norm,e);if(_b_.isinstance(e,[_b_.int,_b_.float]))return make_complex(o*Math.cos(n*e),o*Math.sin(n*e));if(_b_.isinstance(e,complex)){var s=e.$real,t=e.$imag,o=Math.pow(r.norm,s)*Math.pow(Math.E,-t*n),n=t*Math.log(r.norm)-s*n;return make_complex(o*Math.cos(n),o*Math.sin(n))}throw _b_.TypeError.$factory("unsupported operand type(s) for ** or pow(): 'complex' and '"+$B.class_name(e)+"'")},complex.__radd__=function(t,e){return _b_.isinstance(e,_b_.bool)&&(e=e?1:0),_b_.isinstance(e,[_b_.int,_b_.float])?make_complex(e+t.$real,t.$imag):_b_.NotImplemented},complex.__repr__=function(t){$B.builtins_repr_check(complex,arguments);var e=_b_.str.$factory(t.$real),r=_b_.str.$factory(t.$imag);return t.$real instanceof Number&&t.$real==parseInt(t.$real)&&(e=_b_.str.$factory(parseInt(t.$real))),t.$imag instanceof Number&&t.$imag==parseInt(t.$imag)&&(r=_b_.str.$factory(parseInt(t.$imag)),0==t.$imag&&1/t.$imag==-1/0&&(r="-0")),0==t.$real?1/t.$real<0?r.startsWith("-")?"-0"+r+"j":"-0+"+r+"j":r+"j":0<t.$imag||isNaN(t.$imag)?"("+e+"+"+r+"j)":0==t.$imag?1/t.$imag<0?"("+e+"-0j)":"("+e+"+0j)":"("+e+"-"+_b_.str.$factory(-t.$imag)+"j)"},complex.__rmul__=function(t,e){return _b_.isinstance(e,_b_.bool)&&(e=e?1:0),_b_.isinstance(e,[_b_.int,_b_.float])?make_complex(e*t.$real,e*t.$imag):_b_.NotImplemented},complex.__sqrt__=function(t){if(0==t.$imag)return complex(Math.sqrt(t.$real));var e=t.$real,r=t.$imag,t=Math.sqrt((e+sqrt)/2),e=Number.sign(r)*Math.sqrt((-e+sqrt)/2);return make_complex(t,e)},complex.__sub__=function(t,e){return _b_.isinstance(e,complex)?make_complex(t.$real-e.$real,t.$imag-e.$imag):_b_.isinstance(e,_b_.int)?(e=_b_.int.numerator(e),make_complex($B.sub(t.$real,e.valueOf()),t.$imag)):_b_.isinstance(e,_b_.float)?make_complex(t.$real-e.valueOf(),t.$imag):_b_.NotImplemented},complex.__truediv__=function(t,e){if(_b_.isinstance(e,complex)){if(0==e.$real&&0==e.$imag)throw _b_.ZeroDivisionError.$factory("division by zero");var r=t.$real*e.$real+t.$imag*e.$imag,n=e.$real*e.$real+e.$imag*e.$imag,o=t.$imag*e.$real-t.$real*e.$imag;return make_complex(r/n,o/n)}if(_b_.isinstance(e,_b_.int)){if(!e.valueOf())throw _b_.ZeroDivisionError.$factory("division by zero");return complex.__truediv__(t,complex.$factory(e.valueOf()))}if(_b_.isinstance(e,_b_.float)){if(!e.valueOf())throw _b_.ZeroDivisionError.$factory("division by zero");return complex.__truediv__(t,complex.$factory(e.valueOf()))}$UnsupportedOpType("//","complex",e.__class__)},complex.conjugate=function(t){return make_complex(t.$real,-t.$imag)},complex.__ior__=complex.__or__;var r_opnames=["add","sub","mul","truediv","floordiv","mod","pow","lshift","rshift","and","xor","or"],r_opname;for(r_opname of r_opnames)void 0===complex["__r"+r_opname+"__"]&&complex["__"+r_opname+"__"]&&(complex["__r"+r_opname+"__"]=function(r){return function(t,e){return _b_.isinstance(e,[_b_.int,_b_.float])?(e=make_complex(e,0),complex["__"+r+"__"](e,t)):_b_.isinstance(e,complex)?complex["__"+r+"__"](e,t):_b_.NotImplemented}}(r_opname));var $comp_func=function(t,e){if(void 0===e||e==_b_.None)return _b_.NotImplemented;throw _b_.TypeError.$factory("no ordering relation is defined for complex numbers")},$op;for($op in $comp_func+="",$B.$comps)eval("complex.__"+$B.$comps[$op]+"__ = "+$comp_func.replace(/>/gm,$op));complex.real=function(t){return new Number(t.$real)},complex.real.setter=function(){throw _b_.AttributeError.$factory("readonly attribute")},complex.imag=function(t){return new Number(t.$imag)},complex.imag.setter=function(){throw _b_.AttributeError.$factory("readonly attribute")};var _real=1,_real_mantissa=2,_sign=3,_imag=4,_imag_mantissa=5,_j=6,type_conversions=["__complex__","__float__","__index__"],_convert=function(t){for(var e=t.__class__||$B.get_class(t),r=0;r<type_conversions.length;r++){var n={},o=$B.$getattr(e,type_conversions[r],n);if(o!==n)return o(t)}return null},make_complex=$B.make_complex=function(t,e){return{__class__:complex,$real:t,$imag:e}};complex.$factory=function(){return complex.__new__(complex,...arguments)},$B.set_func_names(complex,"builtins"),_b_.complex=complex}(__BRYTHON__),function(d){var h=d.builtins,f=h.str.__hash__,p=h.None,s=["eq","le","lt","ge","gt","sub","rsub","and","or","xor"];function r(t,e){for(var r=0,n=t.length;r<n;r++){for(var o=t[r],s=!1,a=0,_=e.length;a<_;a++)if(d.rich_comp("__eq__",o,e[a])){e.splice(a,1),s=!0;break}if(!s)return!1}return!0}dict_view_op={__eq__:function(t,e){return t.length==e.length&&r(t,e)},__ne__:function(t,e){return!dict_view_op.__eq__(t,e)},__lt__:function(t,e){return t.length<e.length&&r(t,e)},__gt__:function(t,e){return dict_view_op.__lt__(e,t)},__le__:function(t,e){return t.length<=e.length&&r(t,e)},__ge__:function(t,e){return dict_view_op.__le__(e,t)},__and__:function(t,e){for(var r=[],n=0,o=t.length;n<o;n++){var s=t[n];flag=!1;for(var a=0,_=e.length;a<_;a++)if(d.rich_comp("__eq__",s,e[a])){e.splice(a,1),r.push(s);break}}return r},__or__:function(t,e){for(var r=t,n=0,o=e.length;n<o;n++){for(var s=e[n],a=!1,_=0,i=t.length;_<i;_++)if(d.rich_comp("__eq__",s,t[_])){e.splice(n,1),a=!0;break}a||r.push(s)}return r}},d.make_view=function(t){for(var n=d.make_class(t,function(t,e,r){return{__class__:n,__dict__:d.empty_dict(),counter:-1,dict:t,items:e,len:e.length,set_like:r}}),e=0,r=s.length;e<r;e++){var o="__"+s[e]+"__";n[o]=function(r){return function(t,e){if(t.set_like)return h.set[r](h.set.$factory(t),h.set.$factory(e));if(e.__class__!==n)return!1;e=h.list.$factory(e);return dict_view_op[r](t.items,e)}}(o)}return n.__iter__=function(t){var e=n.$iterator.$factory(t.items);return e.test_change=function(){return t.dict.$version!=t.dict_version},e},n.__len__=function(t){return t.len},n.__repr__=function(t){return n.$infos.__name__+"("+h.repr(t.items)+")"},d.set_func_names(n,"builtins"),n};var m={__class__:h.type,__mro__:[h.object],$infos:{__module__:"builtins",__name__:"dict"},$is_class:!0,$native:!0,$match_mapping_pattern:!0};function _(t,e){var r,n=[];if(t.$jsobj)for(var o in n=[],t.$jsobj)"$"!=o.charAt(0)&&(void 0===(r=t.$jsobj[o])?r=h.NotImplemented:null===r&&(r=p),n.push([o,r]));else if(h.isinstance(t,h.dict)){for(var s in t.$numeric_dict)n.push([parseFloat(s),t.$numeric_dict[s]]);for(var s in t.$string_dict)n.push([s,t.$string_dict[s]]);for(var s in t.$object_dict)t.$object_dict[s].forEach(function(t){n.push(t)});n.sort(function(t,e){return t[1][1]-e[1][1]}),n=n.map(function(t){return[t[0],t[1][0]]})}return void 0!==e?(res=n.map(function(t){return t[e]}),res):(n.__class__=h.tuple,n.map(function(t){return t.__class__=h.tuple,t}))}m.$to_obj=function(t){var e,r={};for(e in t.$string_dict)r[e]=t.$string_dict[e][0];return r},d.dict_to_list=_;function $(t,e){var r=_(e),n=m.$setitem;e.$version=e.$version||0;for(var o=e.$version||0,s=0,a=r.length;s<a;s++)if(n(t,r[s][0],r[s][1]),e.$version!=o)throw h.RuntimeError.$factory("dict mutated during update")}function u(t,e,r){var n=t.$object_dict[e];if(void 0!==n)for(var o=0,s=n.length;o<s;o++)if(d.rich_comp("__eq__",r,n[o][0]))return o;return-1}function g(t,e){for(var r=-1,n=e.length-1,o=m.__setitem__;r++<n;){var s=e[r];if(2!=s.length)throw h.ValueError.$factory("dictionary "+`update sequence element #${r} has length 1; 2 is required`);switch(typeof s[0]){case"string":t.$string_dict[s[0]]=[s[1],t.$order++],t.$str_hash[f(s[0])]=s[0],t.$version++;break;case"number":if(0!=s[0]&&1!=s[0]){t.$numeric_dict[s[0]]=[s[1],t.$order++],t.$version++;break}default:o(t,s[0],s[1])}}}function n(){var t=d.args("__newobj__",0,{},[],arguments,{},"args",null).args,e=d.empty_dict();return e.__class__=t[0],e}m.__bool__=function(){var t=d.args("__bool__",1,{self:null},["self"],arguments,{},null,null);return 0<m.__len__(t.self)},m.__class_getitem__=function(t,e){return Array.isArray(e)||(e=[e]),d.GenericAlias.$factory(t,e)},m.__contains__=function(){var t=d.args("__contains__",2,{self:null,key:null},["self","key"],arguments,{},null,null),e=t.self,r=t.key;if(e.$jsobj)return void 0!==e.$jsobj[r];switch(typeof r){case"string":return void 0!==e.$string_dict[r];case"number":return void 0!==e.$numeric_dict[r]}t=h.hash(r);return!(void 0===e.$str_hash[t]||!d.rich_comp("__eq__",r,e.$str_hash[t]))||(!(void 0===e.$numeric_dict[t]||!d.rich_comp("__eq__",r,t))||-1<u(e,t,r))},m.__delitem__=function(){var t=d.args("__eq__",2,{self:null,arg:null},["self","arg"],arguments,{},null,null),e=t.self,r=t.arg;if(e.$jsobj){if(void 0===e.$jsobj[r])throw h.KeyError.$factory(r);return delete e.$jsobj[r],p}switch(typeof r){case"string":if(void 0===e.$string_dict[r])throw h.KeyError.$factory(h.str.$factory(r));return delete e.$string_dict[r],delete e.$str_hash[f(r)],e.$version++,p;case"number":if(void 0===e.$numeric_dict[r])throw h.KeyError.$factory(h.str.$factory(r));return delete e.$numeric_dict[r],e.$version++,p}var n=h.hash(r);if(!(-1<(t=u(e,n,r))))throw h.KeyError.$factory(h.str.$factory(r));return e.$object_dict[n].splice(t,1),e.$version++,p},m.__eq__=function(){var t,e,r=d.args("__eq__",2,{self:null,other:null},["self","other"],arguments,{},null,null),n=r.self,o=r.other;if(!h.isinstance(o,m))return!1;if(n.$jsobj&&(n=b(n.$jsobj)),o.$jsobj&&(o=b(o.$jsobj)),m.__len__(n)!=m.__len__(o))return!1;if(n.$string_dict.length!=o.$string_dict.length)return!1;for(t in n.$numeric_dict)if(o.$numeric_dict.hasOwnProperty(t)){if(!d.rich_comp("__eq__",o.$numeric_dict[t][0],n.$numeric_dict[t][0]))return!1}else{if(!o.$object_dict.hasOwnProperty(t))return!1;for(var s=!1,a=0,_=(i=o.$object_dict[t]).length;a<_;a++)if(d.rich_comp("__eq__",t,i[a][0])&&d.rich_comp("__eq__",n.$numeric_dict[t],i[a][1])){s=!0;break}if(!s)return!1}for(t in n.$string_dict)if(!o.$string_dict.hasOwnProperty(t)||!d.rich_comp("__eq__",o.$string_dict[t][0],n.$string_dict[t][0]))return!1;for(e in n.$object_dict){var i=n.$object_dict[e],l=[];if(void 0!==o.$numeric_dict[e]&&l.push([e,o.$numeric_dict[e]]),0==(l=void 0!==o.$object_dict[e]?l.concat(o.$object_dict[e]):l).length)return!1;for(var a=0,c=i.length;a<c;a++){for(var s=!1,u=i[a][0],f=i[a][1][0],p=0,$=l.length;p<$;p++)if(d.rich_comp("__eq__",u,l[p][0])&&d.rich_comp("__eq__",f,l[p][1][0])){s=!0;break}if(!s)return!1}}return!0},m.__getitem__=function(){var t=d.args("__getitem__",2,{self:null,arg:null},["self","arg"],arguments,{},null,null),e=t.self,t=t.arg;return m.$getitem(e,t)},m.$getitem=function(t,e,r){if(t.$jsobj){if(void 0!==t.$jsobj[e])return t.$jsobj[e];if(t.$jsobj.hasOwnProperty&&t.$jsobj.hasOwnProperty(e))return d.Undefined;throw h.KeyError.$factory(e)}switch(typeof e){case"string":var n=t.$string_dict[e];if(void 0!==n)return n[0];break;case"number":if(void 0!==t.$numeric_dict[e])return t.$numeric_dict[e][0]}function o(t){return d.rich_comp("__eq__",e,t)}var s=h.hash(e);"object"==typeof e&&(e.$hash=s);var a=t.$str_hash[s];if(void 0!==a&&o(a))return t.$string_dict[a][0];if(void 0!==t.$numeric_dict[s]&&o(s))return t.$numeric_dict[s][0];if(h.isinstance(e,h.str)){var _=t.$string_dict[e.valueOf()];if(void 0!==_)return _[0]}_=u(t,s,e);if(-1<_)return t.$object_dict[s][_][1][0];if(!r&&t.__class__!==m&&!r){try{var i=d.$getattr(t.__class__,"__missing__",h.None)}catch(t){console.log(t)}if(i!==h.None)return i(t,e)}throw h.KeyError.$factory(e)},m.__hash__=h.None,m.__init__=function(e,t,r){if(void 0===t)return p;if(void 0===r){if("kw"!=t.$nat&&d.get_class(t)===d.JSObj){for(var n in t)e.$string_dict[n]=[t[n],e.$order++];return h.None}if(t.$jsobj){for(var o in e.$jsobj={},t.$jsobj)e.$jsobj[o]=t.$jsobj[o];return p}if(Array.isArray(t))return g(e,t),p}var s=d.args("dict",1,{self:null},["self"],arguments,{},"first","second"),a=s.first;if(1<a.length)throw h.TypeError.$factory("dict expected at most 1 argument, got 2");if(1==a.length)if((a=a[0]).__class__===m)["$string_dict","$str_hash","$numeric_dict","$object_dict"].forEach(function(t){for(n in a[t])e[t][n]=a[t][n]});else if(h.isinstance(a,m))$(e,a);else{var _=d.$getattr(a,"keys",null);if(null!==_)if(null!==(i=d.$getattr(a,"__getitem__",null))){for(var i=d.$call(i),l=h.iter(d.$call(_)());;)try{var c=i(n=h.next(l));m.__setitem__(e,n,c)}catch(t){if(t.__class__===h.StopIteration)break;throw t}return p}Array.isArray(a)||(a=h.list.$factory(a)),g(e,a)}var u=s.second.$string_dict;for(o in u)switch(typeof o){case"string":e.$string_dict[o]=[u[o][0],e.$order++],e.$str_hash[f(o)]=o;break;case"number":e.$numeric_dict[o]=[u[o][0],e.$order++];break;default:si(e,o,u[o][0])}return p},m.__iter__=function(t){return h.iter(m.keys(t))},m.__ior__=function(t,e){return m.update(t,e),t},m.__len__=function(t){var e,r,n=0;if(t.$jsobj){for(var o in t.$jsobj)"$"!=o.charAt(0)&&n++;return n}for(e in t.$numeric_dict)n++;for(e in t.$string_dict)n++;for(r in t.$object_dict)n+=t.$object_dict[r].length;return n},m.__ne__=function(t,e){return!m.__eq__(t,e)},m.__new__=function(t){if(void 0===t)throw h.TypeError.$factory("int.__new__(): not enough arguments");var e={__class__:t,$numeric_dict:{},$object_dict:{},$string_dict:{},$str_hash:{},$version:0,$order:0};return t!==m&&(e.__dict__=d.empty_dict()),e},m.__or__=function(t,e){if(!h.isinstance(e,m))return h.NotImplemented;t=m.copy(t);return m.update(t,e),t},m.__reduce_ex__=function(t,e){return d.fast_tuple([n,d.fast_tuple([t.__class__]),h.None,h.None,m.items(t)])},m.__repr__=function(t){if(d.builtins_repr_check(m,arguments),t.$jsobj)return m.__repr__(b(t.$jsobj));if(d.repr.enter(t))return"{...}";var e=[];return _(t).forEach(function(t){try{e.push(h.repr(t[0])+": "+h.repr(t[1]))}catch(t){throw t}}),d.repr.leave(t),"{"+e.join(", ")+"}"},m.__ror__=function(t,e){if(!h.isinstance(e,m))return h.NotImplemented;e=m.copy(e);return m.update(e,t),e},m.__setitem__=function(t,e,r){var n=d.args("__setitem__",3,{self:null,key:null,value:null},["self","key","value"],arguments,{},null,null);return m.$setitem(n.self,n.key,n.value)},m.$setitem=function(t,e,r,n){if(t.$jsobj)return t.$from_js&&(r=d.pyobj2jsobj(r)),t.$jsobj.__class__===h.type?(t.$jsobj[e]=r,"__init__"!=e&&"__new__"!=e||(t.$jsobj.$factory=d.$instance_creator(t.$jsobj))):t.$jsobj[e]=r,p;switch(typeof(e=e instanceof String?e.valueOf():e)){case"string":return void 0===t.$string_dict&&console.log("pas de string dict",t,e,r),void 0!==t.$string_dict[e]?t.$string_dict[e][0]=r:(t.$string_dict[e]=[r,t.$order++],t.$str_hash[f(e)]=e,t.$version++),p;case"number":if(void 0!==t.$numeric_dict[e])t.$numeric_dict[e][0]=r;else{var o=!1;if((0==e||1==e)&&void 0!==t.$object_dict[e])for(const c of t.$object_dict[e])(0==e&&!1===c[0]||1==e&&!0===c[0])&&(c[1][0]=r,o=!0);o||(t.$numeric_dict[e]=[r,t.$order++]),t.$version++}return p;case"boolean":var s=e?1:0;if(void 0!==t.$numeric_dict[s]){var a=t.$numeric_dict[s][1];return void(t.$numeric_dict[s]=[r,a])}void 0!==t.$object_dict[s]?t.$object_dict[s].push([e,[r,t.$order++]]):t.$object_dict[s]=[[e,[r,t.$order++]]]}function _(t){return d.rich_comp("__eq__",e,t)}var i=void 0===n?h.hash(e):n;if(void 0!==t.$numeric_dict[i]&&_(i))return t.$numeric_dict[i]=[r,t.$numeric_dict[i][1]],t.$version++,p;var l=t.$str_hash[i];if(void 0!==l&&_(l))return t.$string_dict[l]=[r,t.$string_dict[l][1]],t.$version++,p;if(n)return void 0!==t.$object_dict[n]?t.$object_dict[n].push([e,[r,t.$order++]]):t.$object_dict[n]=[[e,[r,t.$order++]]],t.$version++,p;n=u(t,i,e);return-1<n?t.$object_dict[i][n][1]=[r,t.$object_dict[i][n][1][1]]:(t.$object_dict.hasOwnProperty(i)?t.$object_dict[i].push([e,[r,t.$order++]]):t.$object_dict[i]=[[e,[r,t.$order++]]],t.$version++),p},d.make_rmethods(m),m.clear=function(){var t=d.args("clear",1,{self:null},["self"],arguments,{},null,null).self;if(t.$numeric_dict={},t.$string_dict={},t.$str_hash={},t.$object_dict={},t.$jsobj)for(var e in t.$jsobj)"$"!==e.charAt(0)&&"__class__"!==e&&delete t.$jsobj[e];return t.$version++,t.$order=0,p},m.copy=function(t){var t=d.args("copy",1,{self:null},["self"],arguments,{},null,null).self,e=d.empty_dict();return $(e,t),e},m.fromkeys=function(){for(var t=d.args("fromkeys",3,{cls:null,keys:null,value:null},["cls","keys","value"],arguments,{value:h.None},null,null),e=t.keys,r=t.value,n=t.cls,o=d.$call(n)(),s=d.$iter(e);;)try{var a=h.next(s);n===m?m.$setitem(o,a,r):d.$getattr(o,"__setitem__")(a,r)}catch(t){if(d.is_exc(t,[h.StopIteration]))return o;throw t}},m.get=function(){var e=d.args("get",3,{self:null,key:null,_default:null},["self","key","_default"],arguments,{_default:p},null,null);try{return m.$getitem(e.self,e.key,!0)}catch(t){if(h.isinstance(t,h.KeyError))return e._default;throw t}};var a=d.make_view("dict_items",!0);a.$iterator=d.make_iterator_class("dict_itemiterator"),m.items=function(t){if(1<arguments.length)throw h.TypeError.$factory("items() takes no arguments ("+(arguments.length-1)+" given)");for(var e=_(t),r=!0,n=0,o=e.length;n<o;n++)try{h.hash(e[n][1])}catch(t){r=!1;break}var s=_(t),s=a.$factory(t,s,r);return s.dict_version=t.$version,s};var o=d.make_view("dict_keys");o.$iterator=d.make_iterator_class("dict_keyiterator"),m.keys=function(t){if(1<arguments.length)throw h.TypeError.$factory("keys() takes no arguments ("+(arguments.length-1)+" given)");var e=o.$factory(t,_(t,0),!0);return e.dict_version=t.$version,e},m.pop=function(){var e={},r=d.args("pop",3,{self:null,key:null,_default:null},["self","key","_default"],arguments,{_default:e},null,null),t=r.self,n=r.key,r=r._default;try{var o=m.__getitem__(t,n);return m.__delitem__(t,n),o}catch(t){if(t.__class__!==h.KeyError)throw t;if(r!==e)return r;throw t}},m.popitem=function(t){try{var e=h.next(h.iter(m.items(t)));return m.__delitem__(t,e[0]),h.tuple.$factory(e)}catch(t){if(t.__class__==h.StopIteration)throw h.KeyError.$factory("'popitem(): dictionary is empty'")}},m.setdefault=function(){var e=d.args("setdefault",3,{self:null,key:null,_default:null},["self","key","_default"],arguments,{_default:p},null,null),r=e.self,n=e.key,o=e._default;try{return m.$getitem(r,n,!0)}catch(t){if(t.__class__!==h.KeyError)throw t;void 0===o&&(o=p);e=n.$hash;return n.$hash=void 0,m.$setitem(r,n,o,e),o}},m.update=function(t){var e=d.args("update",1,{self:null},["self"],arguments,{},"args","kw"),t=e.self,r=e.args,e=e.kw;if(0<r.length){var n=r[0];if(h.isinstance(n,m))n.$jsobj&&(n=b(n.$jsobj)),$(t,n);else if(h.hasattr(n,"keys"))for(var o=h.list.$factory(d.$call(d.$getattr(n,"keys"))()),s=0,a=o.length;s<a;s++){var _=d.$getattr(n,"__getitem__")(o[s]);m.$setitem(t,o[s],_)}else for(var i=h.iter(n),s=0;;){try{var l=h.next(i)}catch(t){if(t.__class__===h.StopIteration)break;throw t}try{key_value=h.list.$factory(l)}catch(t){throw h.TypeError.$factory("cannot convert dictionary update sequence element #"+s+" to a sequence")}if(2!==key_value.length)throw h.ValueError.$factory("dictionary update sequence element #"+s+" has length "+key_value.length+"; 2 is required");m.$setitem(t,key_value[0],key_value[1]),s++}}return $(t,e),t.$version++,p};var i=d.make_view("dict_values");i.$iterator=d.make_iterator_class("dict_valueiterator"),m.values=function(t){if(1<arguments.length)throw h.TypeError.$factory("values() takes no arguments ("+(arguments.length-1)+" given)");var e=_(t,1),e=i.$factory(t,e,!1);return e.dict_version=t.$version,e},m.$factory=function(){for(var t=m.__new__(m),e=[t],r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return m.__init__.apply(null,e),t},h.dict=m,d.set_func_names(m,"builtins"),m.__class_getitem__=h.classmethod.$factory(m.__class_getitem__),d.empty_dict=function(){return{__class__:m,$numeric_dict:{},$object_dict:{},$string_dict:{},$str_hash:{},$version:0,$order:0}},m.fromkeys=h.classmethod.$factory(m.fromkeys),d.getset_descriptor=d.make_class("getset_descriptor",function(t,e){return{__class__:d.getset_descriptor,__doc__:h.None,cls:t,attr:e}}),d.getset_descriptor.__repr__=d.getset_descriptor.__str__=function(t){return`<attribute '${t.attr}' of '${t.cls.$infos.__name__}' objects>`},d.set_func_names(d.getset_descriptor,"builtins");var t,e=d.mappingproxy=d.make_class("mappingproxy",function(t){return(t=h.isinstance(t,m)?d.obj_dict(m.$to_obj(t)):d.obj_dict(t)).__class__=e,t});for(t in e.$match_mapping_pattern=!0,e.__setitem__=function(){throw h.TypeError.$factory("'mappingproxy' object does not support item assignment")},m)void 0!==e[t]||-1<["__class__","__mro__","__new__","__init__","__delitem__","clear","fromkeys","pop","popitem","setdefault","update"].indexOf(t)||("function"==typeof m[t]?e[t]=function(t){return function(){return m[t].apply(null,arguments)}}(t):e[t]=m[t]);function b(t){var e,r=d.empty_dict();for(e in t)"$"!=e.charAt(0)&&"__class__"!==e&&(null===t[e]?r.$string_dict[e]=[h.None,r.$order++]:void 0!==t[e]&&(t[e].$jsobj===t?r.$string_dict[e]=[r,r.$order++]:r.$string_dict[e]=[d.$JS2Py(t[e]),r.$order++]));return r}d.set_func_names(e,"builtins"),d.obj_dict=function(t,e){var r=t.__class__||d.get_class(t);if(void 0!==r&&r.$native)throw h.AttributeError.$factory("'"+d.class_name(t)+"' object has no attribute '__dict__'");r=d.empty_dict();return r.$jsobj=t,r.$from_js=e,r}}(__BRYTHON__),function(f){var p=f.builtins,t=p.object,$=(f.$getattr,p.isinstance),i=p.None;function _(t,e){if(t.__class__===c)throw p.AttributeError.$factory("'tuple' object has no attribute '"+e+"'")}var l={__class__:p.type,__mro__:[t],$infos:{__module__:"builtins",__name__:"list"},$is_class:!0,$native:!0,$match_sequence_pattern:!0,__dir__:t.__dir__,__add__:function(t,e){if(f.get_class(t)!==f.get_class(e)){var r=f.class_name(t);if(null===f.$getattr(e,"__radd__",null))throw p.TypeError.$factory("can only concatenate "+r+' (not "'+f.class_name(e)+'") to '+r);return p.NotImplemented}var n=t.slice(),o="js"==e.$brython_class;for(const s of e)n.push(o?f.$JS2Py(s):s);return n.__brython__=!0,n=$(t,c)?c.$factory(n):n},__class_getitem__:function(t,e){return Array.isArray(e)||(e=[e]),f.GenericAlias.$factory(t,e)}};l.__contains__=function(t,e){for(var r,n=f.args("__contains__",2,{self:null,item:null},["self","item"],arguments,{},null,null),t=n.self,e=n.item,o=0;o<t.length;){if(r=t[o],f.rich_comp("__eq__",e,r))return!0;o++}return!1},l.__delitem__=function(t,e){if($(e,p.int)){var r=e;if(0<=(r=e<0?t.length+r:r)&&r<t.length)return t.splice(r,1),i;throw p.IndexError.$factory(f.class_name(t)+" index out of range")}if($(e,p.slice)){var n=e.step;n===i&&(n=1);var o=e.start;o===i&&(o=0<n?0:t.length);var s=e.stop;s===i&&(s=0<n?t.length:0),o<0&&(o=t.length+o),s<0&&(s=t.length+s);var a=[],_=null,r=0;if(0<n){if(o<s)for(_=o;_<s;_+=n)void 0!==t[_]&&(a[r++]=_)}else if(s<o){for(_=o;s<_;_+=n)void 0!==t[_]&&(a[r++]=_);a.reverse()}for(_=a.length;_--;)t.splice(a[_],1);return i}if(p.hasattr(e,"__int__")||p.hasattr(e,"__index__"))return l.__delitem__(t,p.int.$factory(e)),i;throw p.TypeError.$factory(f.class_name(t)+" indices must be integer, not "+f.class_name(e))},l.__eq__=function(t,e){var r;if(r=$(t,l)?l:c,$(e,r)&&e.length==t.length){for(var n=t.length;n--;)if(!f.rich_comp("__eq__",t[n],e[n]))return!1;return!0}return p.NotImplemented},l.__getitem__=function(t,e){return f.check_no_kw("__getitem__",t,e),f.check_nb_args("__getitem__",2,arguments),l.$getitem(t,e)},l.$getitem=function(t,e){function r(t){return t.__class__=n,t}var n=t.__class__||f.get_class(t);try{l=f.PyNumber_Index(e)}catch(t){}if(void 0!==l){var o=t.valueOf(),s=l;if(0<=(s=l<0?o.length+s:s)&&s<o.length)return o[s];throw p.IndexError.$factory(f.class_name(t)+" index out of range")}if(e.__class__===p.slice||$(e,p.slice)){if(e.start===p.None&&e.stop===p.None&&e.step===p.None)return t.slice();var a=p.slice.$conv_for_seq(e,t.length),_=[],i=null,o=t.valueOf(),s=0,l=a.start,c=a.stop,u=a.step;if(0<u){if(c<=l)return r(_);for(i=l;i<c;i+=u)_[s++]=o[i];return r(_)}if(l<c)return r(_);for(i=l;c<i;i+=u)_[s++]=o[i];return r(_)}throw p.TypeError.$factory(f.class_name(t)+" indices must be integer, not "+f.class_name(e))},l.__ge__=function(t,e){if(!$(e,[l,p.tuple]))return p.NotImplemented;for(var r=0;r<t.length;){if(r>=e.length)return!0;if(!f.rich_comp("__eq__",t[r],e[r])){if(res=f.$getattr(t[r],"__ge__")(e[r]),res===p.NotImplemented)throw p.TypeError.$factory("unorderable types: "+f.class_name(t[r])+"() >= "+f.class_name(e[r])+"()");return res}r++}return e.length==t.length},l.__gt__=function(t,e){if(!$(e,[l,p.tuple]))return p.NotImplemented;for(var r=0;r<t.length;){if(r>=e.length)return!0;if(!f.rich_comp("__eq__",t[r],e[r])){if(res=f.$getattr(t[r],"__gt__")(e[r]),res===p.NotImplemented)throw p.TypeError.$factory("unorderable types: "+f.class_name(t[r])+"() > "+f.class_name(e[r])+"()");return res}r++}return!1},l.__hash__=i,l.__iadd__=function(){for(var t=f.args("__iadd__",2,{self:null,x:null},["self","x"],arguments,{},null,null),e=l.$factory(f.$iter(t.x)),r=0;r<e.length;r++)t.self.push(e[r]);return t.self},l.__imul__=function(){var t=f.args("__imul__",2,{self:null,x:null},["self","x"],arguments,{},null,null),e=f.$GetInt(t.x),r=t.self.length,n=r;if(0==e)return l.clear(t.self),t.self;for(var o=1;o<e;o++)for(j=0;j<r;j++)t.self[n++]=t.self[j];return t.self},l.__init__=function(t,e){var r=f.args("__init__",1,{self:null},["self"],arguments,{},"args",null),t=r.self,r=r.args;if(1<r.length)throw p.TypeError.$factory("expected at most 1 argument, got "+r.length);var e=r[0],n=f.$call(f.$getattr(t,"__len__")),o=f.$getattr(t,"pop",i);if(o!==i)for(o=f.$call(o);n();)o();if(void 0===e)return i;for(var e=f.$iter(e),s=f.$call(f.$getattr(e,"__next__")),a=n();;)try{var _=s();t[a++]=_}catch(t){if(t.__class__===p.StopIteration)break;throw t}return i};var e=f.make_iterator_class("list_iterator");function r(){var t=f.args("__newobj__",0,{},[],arguments,{},"args",null).args,e=t.slice(1);return e.__class__=t[0],e}function n(t){if(f.repr.enter(t))return"[...]";for(var e,r=[],n=0;n<t.length;n++)r.push(p.repr(t[n]));return e=p.isinstance(t,c)?1==t.length?"("+r[0]+",)":"("+r.join(", ")+")":"["+r.join(", ")+"]",f.repr.leave(t),e}e.__reduce__=e.__reduce_ex__=function(t){return f.fast_tuple([p.iter,f.fast_tuple([l.$factory(t)]),0])},l.__iter__=function(t){return e.$factory(t)},l.__le__=function(t,e){e=l.__ge__(t,e);return e===p.NotImplemented?e:!e},l.__len__=function(t){return t.length},l.__lt__=function(t,e){if(!$(e,[l,p.tuple]))return p.NotImplemented;for(var r=0;r<t.length;){if(r>=e.length)return!1;if(!f.rich_comp("__eq__",t[r],e[r])){if(res=f.$getattr(t[r],"__lt__")(e[r]),res===p.NotImplemented)throw p.TypeError.$factory("unorderable types: "+f.class_name(t[r])+"() >= "+f.class_name(e[r])+"()");return res}r++}return e.length>t.length},l.__mul__=function(t,e){if($(e,p.int)){e=p.int.numerator(e);for(var r=[],n=t.slice(),o=n.length,s=0;s<e;s++)for(var a=0;a<o;a++)r.push(n[a]);return r.__class__=t.__class__,r}if(p.hasattr(e,"__int__")||p.hasattr(e,"__index__"))return l.__mul__(t,p.int.$factory(e));if(null===f.$getattr(e,"__rmul__",null))throw p.TypeError.$factory("can't multiply sequence by non-int "+`of type '${f.class_name(e)}'`);return p.NotImplemented},l.__new__=function(t){if(void 0===t)throw p.TypeError.$factory("list.__new__(): not enough arguments");var e=[];return e.__class__=t,e.__brython__=!0,e.__dict__=f.empty_dict(),e},l.__reduce_ex__=function(t){return f.fast_tuple([r,f.fast_tuple([t.__class__]),p.None,p.iter(t)])},l.__repr__=function(t){return f.builtins_repr_check(l,arguments),n(t)},l.__rmul__=function(t,e){return l.__mul__(t,e)},l.__setattr__=function(t,e,r){if(t.__class__!==l&&t.__class__!==c)return p.dict.$setitem(t.__dict__,e,r),i;t=f.class_name(t);throw l.hasOwnProperty(e)?p.AttributeError.$factory("'"+t+"' object attribute '"+e+"' is read-only"):p.AttributeError.$factory("'"+t+" object has no attribute '"+e+"'")},l.__setitem__=function(){var t=f.args("__setitem__",3,{self:null,key:null,value:null},["self","key","value"],arguments,{},null,null),e=t.self,r=t.key,t=t.value;l.$setitem(e,r,t)},l.$setitem=function(t,e,r){if("number"==typeof e||$(e,p.int)){var n=e;if(!(0<=(n=e<0?t.length+n:n)&&n<t.length))throw p.IndexError.$factory("list index out of range");return t[n]=r,i}if($(e,p.slice)){n=p.slice.$conv_for_seq(e,t.length);return null===e.step?f.set_list_slice(t,n.start,n.stop,r):f.set_list_slice_step(t,n.start,n.stop,n.step,r),i}if(p.hasattr(e,"__int__")||p.hasattr(e,"__index__"))return l.__setitem__(t,p.int.$factory(e),r),i;throw p.TypeError.$factory("list indices must be integer, not "+f.class_name(e))},l.append=function(t,e){return f.check_no_kw("append",t,e),f.check_nb_args("append",2,arguments),t.push(e),i},l.clear=function(){for(var t=f.args("clear",1,{self:null},["self"],arguments,{},null,null);t.self.length;)t.self.pop();return i},l.copy=function(){return f.args("copy",1,{self:null},["self"],arguments,{},null,null).self.slice()},l.count=function(){for(var t,e=f.args("count",2,{self:null,x:null},["self","x"],arguments,{},null,null),r=0,n=e.self.length;n--;)t=e.self[n],f.rich_comp("__eq__",e.x,t)&&r++;return r},l.extend=function(){for(var t=f.args("extend",2,{self:null,t:null},["self","t"],arguments,{},null,null),e=l.$factory(f.$iter(t.t)),r=0;r<e.length;r++)t.self.push(e[r]);return i},l.index=function(){var t={},e=f.args("index",4,{self:null,x:null,start:null,stop:null},["self","x","start","stop"],arguments,{start:0,stop:t},null,null),r=e.self,n=e.start,o=e.stop;(n=n.__class__===f.long_int?parseInt(n.value)*(n.pos?1:-1):n)<0&&(n=Math.max(0,n+r.length));for(var s,o=o===t?r.length:((o=o.__class__===f.long_int?parseInt(o.value)*(o.pos?1:-1):o)<0&&(o=Math.min(r.length,o+r.length)),Math.min(o,r.length)),a=n;a<o;a++)if(s=r[a],f.rich_comp("__eq__",e.x,s))return a;throw p.ValueError.$factory(p.repr(e.x)+" is not in "+f.class_name(r))},l.insert=function(){var t=f.args("insert",3,{self:null,i:null,item:null},["self","i","item"],arguments,{},null,null);return t.self.splice(t.i,0,t.item),i},l.pop=function(){var t={},e=f.args("pop",2,{self:null,pos:null},["self","pos"],arguments,{pos:t},null,null),r=e.self,e=e.pos;_(r,"pop"),e===t&&(e=r.length-1),(e=f.$GetInt(e))<0&&(e+=r.length);t=r[e];if(void 0===t)throw p.IndexError.$factory("pop index out of range");return r.splice(e,1),t},l.remove=function(){for(var t=f.args("remove",2,{self:null,x:null},["self","x"],arguments,{},null,null),e=0,r=t.self.length;e<r;e++)if(f.rich_comp("__eq__",t.self[e],t.x))return t.self.splice(e,1),i;throw p.ValueError.$factory(p.str.$factory(t.x)+" is not in list")},l.reverse=function(t){for(var e=f.args("reverse",1,{self:null},["self"],arguments,{},null,null),r=e.self.length-1,n=parseInt(e.self.length/2);n--;){var o=e.self[n];e.self[n]=e.self[r-n],e.self[r-n]=o}return i},l.sort=function(t){var e=f.args("sort",1,{self:null},["self"],arguments,{},null,"kw");_(t,"sort");for(var o=i,r=!1,n=e.kw,s=p.list.$factory(p.dict.keys(n)),a=0;a<s.length;a++)if("key"==s[a])o=n.$string_dict[s[a]][0];else{if("reverse"!=s[a])throw p.TypeError.$factory("'"+s[a]+"' is an invalid keyword argument for this function");r=n.$string_dict[s[a]][0]}if(0!=t.length){o!==i&&(o=f.$call(o)),t.$cl=function(t){if(0==t.length)return null;for(var e=f.get_class(t[0]),r=t.length;r--;)if(f.get_class(t[r])!==e)return!1;return e}(t);e=null,e=o===i&&t.$cl===p.str?r?function(t,e){return f.$AlphabeticalCompare(e,t)}:function(t,e){return f.$AlphabeticalCompare(t,e)}:o===i&&t.$cl===p.int?r?function(t,e){return e-t}:function(t,e){return t-e}:o===i?r?function(t,e){if(res=f.$getattr(e,"__lt__")(t),res===p.NotImplemented)throw p.TypeError.$factory("unorderable types: "+f.class_name(t)+"() < "+f.class_name(e)+"()");return res?e==t?0:-1:1}:function(t,e){if(res=f.$getattr(t,"__lt__")(e),res===p.NotImplemented)throw p.TypeError.$factory("unorderable types: "+f.class_name(t)+"() < "+f.class_name(e)+"()");return res?t==e?0:-1:1}:r?function(t,e){var r=o(e),n=o(t);if(res=f.$getattr(r,"__lt__")(n),res===p.NotImplemented)throw p.TypeError.$factory("unorderable types: "+f.class_name(t)+"() < "+f.class_name(e)+"()");return res?r==n?0:-1:1}:function(t,e){var r=o(t),n=o(e);if(res=f.$getattr(r,"__lt__")(n),res===p.NotImplemented)throw p.TypeError.$factory("unorderable types: "+f.class_name(t)+"() < "+f.class_name(e)+"()");return res?r==n?0:-1:1};return f.$TimSort(t,e),t.__brython__?i:t}},f.$list=function(t){return t.__brython__=!0,t.__class__=p.list,t},l.$factory=function(){if(0==arguments.length)return[];var t=f.args("list",1,{obj:null},["obj"],arguments,{},null,null).obj;if(Array.isArray(t))return(t=t.slice()).__brython__=!0,t.__class__!=c?t:((e=t.slice()).__class__=l,e);for(var e=[],r=0,t=f.$iter(t),n=f.$call(f.$getattr(t,"__next__"));;)try{e[r++]=n()}catch(t){if(!$(t,p.StopIteration))throw t;break}return e.__brython__=!0,e},f.set_func_names(l,"builtins"),l.__class_getitem__=p.classmethod.$factory(l.__class_getitem__);var o=f.JSArray=f.make_class("JSArray",function(t){return{__class__:o,js:t}});for(a in o.__repr__=o.__str__=function(){return"<JSArray object>"},l)void 0===f.JSArray[a]&&"function"==typeof l[a]&&(f.JSArray[a]=function(t){return function(){return f.$JS2Py(l[t].apply(null,function(t){for(var e=[t[0].js],r=1,n=t.length;r<n;r++)e.push(t[r]);return e}(arguments)))}}(a));f.set_func_names(f.JSArray,"builtins");var a,c={__class__:p.type,__mro__:[t],$infos:{__module__:"builtins",__name__:"tuple"},$is_class:!0,$native:!0,$match_sequence_pattern:!0},u=f.make_iterator_class("tuple_iterator");for(a in c.__iter__=function(t){return u.$factory(t)},c.$factory=function(){var t=l.$factory(...arguments);return t.__class__=c,t},f.fast_tuple=function(t){return t.__class__=c,t.__brython__=!0,t.__dict__=f.empty_dict(),t},l)switch(a){case"__delitem__":case"__iadd__":case"__imul__":case"__setitem__":case"append":case"extend":case"insert":case"remove":case"reverse":break;default:void 0===c[a]&&"function"==typeof l[a]&&(c[a]=function(t){return function(){return l[t].apply(null,arguments)}}(a))}c.__eq__=function(t,e){return void 0===e?t===c:l.__eq__(t,e)},c.__hash__=function(t){for(var e,r=54880137,n=0,o=t.length;n<o;n++){var a=p.hash(t[n]);e=r,s=(parseInt(1000003)*e&4294967295).toString(16),r=parseInt(s.substr(0,s.length-1),16)^4294967295&a}return r},c.__init__=function(){return i},c.__new__=function(t,...e){if(void 0===t)throw p.TypeError.$factory("list.__new__(): not enough arguments");var r=[];r.__class__=t,r.__brython__=!0,r.__dict__=f.empty_dict();for(var e=f.$iter(e[0]),n=f.$call(f.$getattr(e,"__next__"));;)try{var o=n();r.push(o)}catch(t){if(t.__class__===p.StopIteration)break;throw t}return r},c.__reduce_ex__=function(t){return f.fast_tuple([r,f.fast_tuple([t.__class__].concat(t.slice())),p.None,p.None])},c.__repr__=function(t){return f.builtins_repr_check(c,arguments),n(t)},f.set_func_names(c,"builtins"),p.list=l,p.tuple=c,p.object.__bases__=c.$factory(),p.type.__bases__=f.fast_tuple([p.object])}(__BRYTHON__),function(s){var a=s.builtins,n={};s.generator_return=function(t){return{__class__:n,value:t}},s.generator=s.make_class("generator",function(r,n){function t(){var t,e=r.apply(null,arguments);return e.$name=n||"generator",e.$func=r,e.$has_run=!1,r.$has_yield_in_cm&&((t=s.last(s.frames_stack)[1]).$close_generators=t.$close_generators||[],t.$close_generators.push(e)),{__class__:s.generator,js_gen:e}}return t.$infos=r.$infos,t.$is_genfunc=!0,t.$name=n,t}),s.generator.__iter__=function(t){return t},s.generator.__next__=function(t){return s.generator.send(t,a.None)},s.generator.__str__=function(t){return"<"+t.$name+" object>"},s.generator.close=function(t){try{s.generator.throw(t,a.GeneratorExit.$factory())}catch(t){if(!s.is_exc(t,[a.GeneratorExit,a.StopIteration]))throw a.RuntimeError.$factory("generator ignored GeneratorExit")}},s.generator.send=function(e,t){e=e.js_gen;if(e.$has_run=!0,e.$finished)throw a.StopIteration.$factory(t);if(!0===e.gi_running)throw a.ValueError.$factory("generator already executing");e.gi_running=!0;try{var r=e.next(t)}catch(t){throw e.$finished=!0,t}if(r.value&&r.value.__class__===n)throw e.$finished=!0,a.StopIteration.$factory(r.value.value);if(e.gi_running=!1,r.done)throw a.StopIteration.$factory(r.value);return r.value},s.generator.throw=function(t,e,r,n){var o=t.js_gen,t=e;if(t.$is_class){if(!a.issubclass(e,a.BaseException))throw a.TypeError.$factory("exception value must be an instance of BaseException");void 0===r?t=s.$call(t)():a.isinstance(r,e)&&(t=r)}else void 0===r?r=t:t=s.$call(t)(r);void 0!==n&&(t.$traceback=n);t=o.throw(t);if(t.done)throw a.StopIteration.$factory("StopIteration");return t.value},s.set_func_names(s.generator,"builtins"),s.async_generator=s.make_class("async_generator",function(r){return function(){var t=r.apply(null,arguments),e=Object.create(null);return e.__class__=s.async_generator,e.js_gen=t,e}});s.async_generator.__aiter__=function(t){return t},s.async_generator.__anext__=function(t){return s.async_generator.asend(t,a.None)},s.async_generator.aclose=function(t){return t.js_gen.$finished=!0,a.None},s.async_generator.asend=async function(e,t){e=e.js_gen;if(e.$finished)throw a.StopAsyncIteration.$factory(t);if(!0===e.ag_running)throw a.ValueError.$factory("generator already executing");e.ag_running=!0;try{var r=await e.next(t)}catch(t){throw e.$finished=!0,t}if(r.done)throw a.StopAsyncIteration.$factory(t);if(r.value.__class__===n)throw e.$finished=!0,a.StopAsyncIteration.$factory(r.value.value);return e.ag_running=!1,r.value},s.async_generator.athrow=async function(t,e,r,n){var o=t.js_gen,t=e;if(t.$is_class){if(!a.issubclass(e,a.BaseException))throw a.TypeError.$factory("exception value must be an instance of BaseException");void 0===r&&(r=s.$call(t)())}else void 0===r?r=t:t=s.$call(t)(r);void 0!==n&&(t.$traceback=n),await o.throw(r)},s.set_func_names(s.async_generator,"builtins")}(__BRYTHON__),function(b){var y=b.builtins,v=y.object,o=self;function x(t){var e,r=0,n=0,o=t.width||t.offsetWidth,s=t.height||t.offsetHeight;for(document.scrollingElement.scrollTop;t.offsetParent;)r+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return r+=t.offsetLeft||0,n+=t.offsetTop||0,t.parentElement&&(r+=(e=x(t.parentElement)).left,n+=e.top),{left:r,top:n,width:o,height:s}}function e(t){if(t.type.startsWith("touch"))return(e={}).x=y.int.$factory(t.touches[0].screenX),e.y=y.int.$factory(t.touches[0].screenY),e.__getattr__=function(t){return this[t]},e.__class__="MouseCoords",e;var e,r=0,n=0;return(t=t||o.event).pageX||t.pageY?(r=t.pageX,n=t.pageY):(t.clientX||t.clientY)&&(r=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),(e={}).x=y.int.$factory(r),e.y=y.int.$factory(n),e.__getattr__=function(t){return this[t]},e.__class__="MouseCoords",e}b.$isNode=function(t){return"object"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},b.$isNodeList=function(t){try{var e=Object.prototype.toString.call(t),r=new RegExp("^\\[object (HTMLCollection|NodeList)\\]$");return"object"==typeof t&&null!==r.exec(e)&&void 0!==t.length&&(0==t.length||"object"==typeof t[0]&&0<t[0].nodeType)}catch(t){return!1}};var n=["NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","type","target","currentTarget","eventPhase","bubbles","cancelable","timeStamp","stopPropagation","preventDefault","initEvent"],s=["altKey","altLeft","button","cancelBubble","clientX","clientY","contentOverflow","ctrlKey","ctrlLeft","data","dataFld","dataTransfer","fromElement","keyCode","nextPage","offsetX","offsetY","origin","propertyName","reason","recordset","repeat","screenX","screenY","shiftKey","shiftLeft","source","srcElement","srcFilter","srcUrn","toElement","type","url","wheelDelta","x","y"];b.$isEvent=function(t){for(var e=!0,r=0;r<n.length;r++)if(void 0===t[n[r]]){e=!1;break}if(e)return!0;for(r=0;r<s.length;r++)if(void 0===t[s[r]])return!1;return!0};var a={1:"ELEMENT",2:"ATTRIBUTE",3:"TEXT",4:"CDATA_SECTION",5:"ENTITY_REFERENCE",6:"ENTITY",7:"PROCESSING_INSTRUCTION",8:"COMMENT",9:"DOCUMENT",10:"DOCUMENT_TYPE",11:"DOCUMENT_FRAGMENT",12:"NOTATION"},B=b.make_class("Attributes",function(t){return{__class__:B,elt:t}});B.__contains__=function(){var t=b.args("__getitem__",2,{self:null,key:null},["self","key"],arguments,{},null,null);return t.self.elt instanceof SVGElement?t.self.elt.hasAttributeNS(null,t.key):"function"==typeof t.self.elt.hasAttribute&&t.self.elt.hasAttribute(t.key)},B.__delitem__=function(){var t=b.args("__getitem__",2,{self:null,key:null},["self","key"],arguments,{},null,null);if(!B.__contains__(t.self,t.key))throw y.KeyError.$factory(t.key);return t.self.elt instanceof SVGElement?(t.self.elt.removeAttributeNS(null,t.key),y.None):"function"==typeof t.self.elt.hasAttribute?(t.self.elt.removeAttribute(t.key),y.None):void 0},B.__getitem__=function(){var t=b.args("__getitem__",2,{self:null,key:null},["self","key"],arguments,{},null,null);if(t.self.elt instanceof SVGElement&&t.self.elt.hasAttributeNS(null,t.key))return t.self.elt.getAttributeNS(null,t.key);if("function"==typeof t.self.elt.hasAttribute&&t.self.elt.hasAttribute(t.key))return t.self.elt.getAttribute(t.key);throw y.KeyError.$factory(t.key)},B.__iter__=function(t){t.$counter=0;for(var e=t.elt.attributes,r=[],n=0;n<e.length;n++)r.push(e[n].name);return t.$items=r,t},B.__next__=function(){var t=b.args("__next__",1,{self:null},["self"],arguments,{},null,null);if(t.self.$counter<t.self.$items.length){var e=t.self.$items[t.self.$counter];return t.self.$counter++,e}throw y.StopIteration.$factory("")},B.__setitem__=function(){var t=b.args("__setitem__",3,{self:null,key:null,value:null},["self","key","value"],arguments,{},null,null);if(t.self.elt instanceof SVGElement&&"function"==typeof t.self.elt.setAttributeNS)return t.self.elt.setAttributeNS(null,t.key,t.value),y.None;if("function"==typeof t.self.elt.setAttribute)return t.self.elt.setAttribute(t.key,t.value),y.None;throw y.TypeError.$factory("Can't set attributes on element")},B.__repr__=B.__str__=function(t){for(var e=t.elt.attributes,r=[],n=0;n<e.length;n++)r.push(e[n].name+': "'+t.elt.getAttributeNS(null,e[n].name)+'"');return"{"+r.join(", ")+"}"},B.get=function(){var e=b.args("get",3,{self:null,key:null,deflt:null},["self","key","deflt"],arguments,{deflt:y.None},null,null);try{return B.__getitem__(e.self,e.key)}catch(t){if(t.__class__===y.KeyError)return e.deflt;throw t}},B.keys=function(){return B.__iter__.apply(null,arguments)},B.items=function(){for(var t=b.args("values",1,{self:null},["self"],arguments,{},null,null).self.elt.attributes,e=[],r=0;r<t.length;r++)e.push([t[r].name,t[r].value]);return y.list.__iter__(e)},B.values=function(){for(var t=b.args("values",1,{self:null},["self"],arguments,{},null,null).self.elt.attributes,e=[],r=0;r<t.length;r++)e.push(t[r].value);return y.list.__iter__(e)},b.set_func_names(B,"<dom>");var _=b.DOMEvent={__class__:y.type,__mro__:[v],$infos:{__name__:"DOMEvent"}};function i(t,e){var r=t.createSVGPoint();return r.x=e.x,r.y=e.y,r.matrixTransform(t.getScreenCTM().inverse())}_.__new__=function(t,e){var r=new Event(e);return r.__class__=_,void 0===r.preventDefault&&(r.preventDefault=function(){r.returnValue=!1}),void 0===r.stopPropagation&&(r.stopPropagation=function(){r.cancelBubble=!0}),r},_.__getattribute__=function(r,t){switch(t){case"__repr__":case"__str__":return function(){return"<DOMEvent object>"};case"x":return e(r).x;case"y":return e(r).y;case"data":return null!==r.dataTransfer?c.$factory(r.dataTransfer):b.$JS2Py(r.data);case"target":if(void 0!==r.target)return k.$factory(r.target);case"char":return String.fromCharCode(r.which);case"svgX":if(r.target instanceof SVGSVGElement)return Math.floor(i(r.target,e(r)).x);throw y.AttributeError.$factory("event target is not an SVG element");case"svgY":if(r.target instanceof SVGSVGElement)return Math.floor(i(r.target,e(r)).y);throw y.AttributeError.$factory("event target is not an SVG element")}var n=r[t];if(void 0===n)throw y.AttributeError.$factory("object DOMEvent has no attribute '"+t+"'");if("function"!=typeof n)return b.$JS2Py(n);t=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(b.pyobj2jsobj(arguments[e]));return n.apply(r,arguments)};return t.$infos={__name__:n.name,__qualname__:n.name},t},_.$factory=function(t){return _.__new__(_,t)};var l=b.$DOMEvent=function(t){return t.__class__=_,t.$no_dict=!0,void 0===t.preventDefault&&(t.preventDefault=function(){t.returnValue=!1}),void 0===t.stopPropagation&&(t.stopPropagation=function(){t.cancelBubble=!0}),t};b.set_func_names(_,"browser");var c={__class__:y.type,$infos:{__module__:"browser",__name__:"Clipboard"}};c.__getitem__=function(t,e){return t.data.getData(e)},c.__mro__=[v],c.__setitem__=function(t,e,r){t.data.setData(e,r)},c.$factory=function(t){return{__class__:c,__dict__:b.empty_dict(),data:t}},b.set_func_names(c,"<dom>");var t=b.OpenFile={__class__:y.type,__mro__:[v],$infos:{__module__:"<pydom>",__name__:"OpenFile"}};t.$factory=function(t,e,r){var n={__class__:$OpenFileDict,file:t,reader:new FileReader};return"r"===e?n.reader.readAsText(t,r):"rb"===e&&n.reader.readAsBinaryString(t),n},t.__getattr__=function(t,e){return void 0!==t["get_"+e]?t["get_"+e]:t.reader[e]},t.__setattr__=function(t,e,r){t=t.reader;if("on"==e.substr(0,2))t.addEventListener(e.substr(2),function(t){return r(l(t))});else{if("set_"+e in t)return t["set_"+e](r);e in t?t[e]=r:y.setattr(t,e,r)}},b.set_func_names(t,"<dom>");t={File:function(){},FileReader:function(){}};t.File.__class__=y.type,t.File.__str__=function(){return"<class 'File'>"},t.FileReader.__class__=y.type,t.FileReader.__str__=function(){return"<class 'FileReader'>"};var w={__class__:y.type,__delitem__:function(t,e){if((e=b.PyNumber_Index(e))<0&&(e+=t.parent.options.length),!t.parent.options[e])throw y.KeyError.$factory(e);t.parent.options.remove(e)},__getitem__:function(t,e){if((e=b.PyNumber_Index(e))<0&&(e+=t.parent.options.length),!t.parent.options[e])throw y.KeyError.$factory(e);return k.$factory(t.parent.options[e])},__len__:function(t){return t.parent.options.length},__mro__:[v],__setattr__:function(t,e,r){t.parent.options[e]=r},__setitem__:function(t,e,r){t.parent.options[e]=b.$JS2Py(r)},__str__:function(t){return"<object Options wraps "+t.parent.options+">"},append:function(t,e){t.parent.options.add(e)},insert:function(t,e,r){void 0===e?t.parent.options.add(r):t.parent.options.add(r,e)},item:function(t,e){return t.parent.options.item(e)},namedItem:function(t,e){return t.parent.options.namedItem(e)},remove:function(t,e){t.parent.options.remove(e.index)},$infos:{__module__:"<pydom>",__name__:"Options"},$factory:function(t){return{__class__:w,parent:t}}};b.set_func_names(w,"<dom>");var k={__class__:y.type,__mro__:[v],$infos:{__module__:"browser",__name__:"DOMNode"}};function u(t){for(var e=[],r=0;r<t.length;r++)e.push(k.$factory(t[r]));return e}k.$factory=function(t){return t},k.__add__=function(t,e){var r=f.$factory();if(r.children=[t],pos=1,y.isinstance(e,f))r.children=r.children.concat(e.children);else if(y.isinstance(e,[y.str,y.int,y.float,y.list,y.dict,y.set,y.tuple]))r.children[pos++]=k.$factory(document.createTextNode(y.str.$factory(e)));else if(y.isinstance(e,k))r.children[pos++]=e;else try{r.children=r.children.concat(y.list.$factory(e))}catch(t){throw y.TypeError.$factory("can't add '"+b.class_name(e)+"' object to DOMNode instance")}return r},k.__bool__=function(t){return!0},k.__contains__=function(t,e){if(9==t.nodeType&&"string"==typeof e)return null!==document.getElementById(e);if(void 0!==t.length&&"function"==typeof t.item)for(var r=0,n=t.length;r<n;r++)if(t.item(r)===e)return!0;return!1},k.__del__=function(t){if(!t.parentNode)throw y.ValueError.$factory("can't delete "+y.str.$factory(t));t.parentNode.removeChild(t)},k.__delattr__=function(t,e){if(void 0===t[e])throw y.AttributeError.$factory(`cannot delete DOMNode attribute '${e}'`);return delete t[e],y.None},k.__delitem__=function(t,e){if(9==t.nodeType){var r=t.getElementById(e);if(!r)throw y.KeyError.$factory(e);r.parentNode.removeChild(r)}else t.parentNode.removeChild(t)},k.__dir__=function(t){var e,r=[];for(e in t)"$"!=e.charAt(0)&&r.push(e);return r.sort(),r},k.__eq__=function(t,e){return t==e},k.__getattribute__=function(e,t){switch(t){case"attrs":return B.$factory(e);case"children":case"child_nodes":case"class_name":case"html":case"parent":case"text":return k[t](e);case"height":case"left":case"top":case"width":if("CANVAS"==e.tagName&&e[t])return e[t];if(e instanceof SVGElement)return e[t].baseVal.value;if(e.style[t])return parseInt(e.style[t]);var r=window.getComputedStyle(e).getPropertyValue(t);if(void 0===r)throw y.AttributeError.$factory("style."+t+" is not set for "+y.str.$factory(e));var n=Math.floor(parseFloat(r)+.5);return isNaN(n)?r:n;case"x":case"y":if(!(e instanceof SVGElement)){var o=x(e);return"x"==t?o.left:o.top}case"clear":case"closest":return function(){return k[t].call(null,e,...arguments)};case"headers":if(9!=e.nodeType)break;n=new XMLHttpRequest;n.open("GET",document.location,!1),n.send(null);for(var s=(s=n.getAllResponseHeaders()).split("\r\n"),a=b.empty_dict(),_=0;_<s.length;_++){var i=s[_];0!=i.strip().length&&(o=i.search(":"),a.__setitem__(i.substr(0,o),i.substr(o+1).lstrip()))}return a;case"location":t="location"}if("select"==t&&1==e.nodeType&&-1<["INPUT","TEXTAREA"].indexOf(e.tagName.toUpperCase()))return function(t){return void 0===t?(e.select(),y.None):k.select(e,t)};if("query"==t&&9==e.nodeType){var a={__class__:E,_keys:[],_values:{}},l=location.search.substr(1).split("&");if(""!=location.search)for(_=0;_<l.length;_++){var o=l[_].search("="),c=[l[_].substr(0,o),l[_].substr(o+1)],u=decodeURIComponent(c[0]),c=decodeURIComponent(c[1]);-1<a._keys.indexOf(u)?a._values[u].push(c):(a._keys.push(u),a._values[u]=[c])}return a}var f,p,$=e[t];if(void 0!==$&&e.__class__&&"browser.html"!=e.__class__.__module__&&"browser.svg"!=e.__class__.__module__){var d,h=!0;for(d of e.__class__.__bases__)if("browser.html"==d.__module__){h=!1;break}h&&b.$getattr(e.__class__,t,y.None)!==y.None&&(g=b.last(b.frames_stack)[1].$line_info.split(",")[0],console.info("Warning: line "+g+", "+e.tagName+" element has instance attribute '"+t+"' set. Attribute of class "+b.class_name(e)+" is ignored."))}if(void 0===$){if(e.tagName){var m=customElements.get(e.tagName.toLowerCase());if(void 0!==m&&void 0!==m.$cls){var g=e.__class__;e.__class__=m.$cls;try{a=y.object.__getattribute__(e,t);return e.__class__=g,a}catch(t){if(e.__class__=g,!b.is_exc(t,[y.AttributeError]))throw t}}}return v.__getattribute__(e,t)}if(void 0===(a=$))return v.__getattribute__(e,t);if(null===a)return y.None;if("function"!=typeof a)return"options"==t?w.$factory(e):"style"==t?b.JSObj.$factory(e[t]):Array.isArray(a)?a:b.$JS2Py(a);f=a,p=e,$=function(){for(var t=[],e=0,r=0;r<arguments.length;r++){var n,o=arguments[r];"function"==typeof o?(o.$cache?n=o.$cache:(n=function(t){return function(){try{return t.apply(null,arguments)}catch(t){b.handle_error(t)}}}(o),o.$cache=n),t[e++]=n):y.isinstance(o,k)?t[e++]=o:o===y.None?t[e++]=null:o.__class__==y.dict?t[e++]=y.dict.$to_obj(o):t[e++]=o}var s=f.apply(p,t);return b.$JS2Py(s)};return $.$infos={__name__:t,__qualname__:t},$.$is_func=!0,$},k.__getitem__=function(t,e){if(9==t.nodeType){if("string"==typeof e.valueOf()){if(n=t.getElementById(e))return k.$factory(n);throw y.KeyError.$factory(e)}try{for(var r=t.getElementsByTagName(e.$infos.__name__),n=[],o=0;o<r.length;o++)n.push(k.$factory(r[o]));return n}catch(t){throw y.KeyError.$factory(y.str.$factory(e))}}else{if(("number"==typeof e||"boolean"==typeof e)&&"function"==typeof t.item){var s=y.int.$factory(e);if(s<0&&(s+=t.length),void 0===(n=k.$factory(t.item(s))))throw y.KeyError.$factory(e);return n}if("string"==typeof e&&t.attributes&&"function"==typeof t.attributes.getNamedItem){t=t.attributes.getNamedItem(e);if(t)return t.value;throw y.KeyError.$factory(e)}}},k.__hash__=function(t){return void 0===t.__hashvalue__?t.__hashvalue__=b.$py_next_hash--:t.__hashvalue__},k.__iter__=function(t){if(void 0!==t.length&&"function"==typeof t.item)for(var e=[],r=0,n=t.length;r<n;r++)e.push(k.$factory(t.item(r)));else if(void 0!==t.childNodes)for(e=[],r=0,n=t.childNodes.length;r<n;r++)e.push(k.$factory(t.childNodes[r]));return b.$iter(e)},k.__le__=function(e,r){if(9==e.nodeType&&(e=e.body),y.isinstance(r,f))for(var t=0;t<r.children.length;t++)e.appendChild(r.children[t]);else if("string"==typeof r||"number"==typeof r){var n=document.createTextNode(r.toString());e.appendChild(n)}else if(r instanceof Node)e.appendChild(r);else try{y.list.$factory(r).forEach(function(t){k.__le__(e,t)})}catch(t){throw y.TypeError.$factory("can't add '"+b.class_name(r)+"' object to DOMNode instance")}return e},k.__len__=function(t){return t.length},k.__mul__=function(t,e){if(y.isinstance(e,y.int)&&0<e.valueOf()){for(var r=f.$factory(),n=r.children.length,o=0;o<e.valueOf();o++)r.children[n++]=k.clone(t)();return r}throw y.ValueError.$factory("can't multiply "+t.__class__+"by "+e)},k.__ne__=function(t,e){return!k.__eq__(t,e)},k.__next__=function(t){if(t.$counter++,t.$counter<t.childNodes.length)return k.$factory(t.childNodes[t.$counter]);throw y.StopIteration.$factory("StopIteration")},k.__radd__=function(t,e){var r=f.$factory(),e=k.$factory(document.createTextNode(e));return r.children=[e,t],r},k.__str__=k.__repr__=function(t){var e=t.attributes,r=[];if(void 0!==e)for(var r=[],n=0;n<e.length;n++)r.push(e[n].name+'="'+t.getAttributeNS(null,e[n].name)+'"');var o=Object.getPrototypeOf(t);if(o){var s=o.constructor.name;return void 0===s&&(s=(o=o.constructor.toString()).substring(8,o.length-1)),r.splice(0,0,s),"<"+r.join(" ")+">"}return"<DOMNode object type '"+a[t.nodeType]+"' name '"+t.nodeName+"'>"},k.__setattr__=function(t,e,r){if(!("on"==e.substr(0,2)&&2<e.length)){switch(e){case"left":case"top":case"width":case"height":if(y.isinstance(r,y.int)&&1==t.nodeType)return t.style[e]=r+"px",y.None;throw y.ValueError.$factory(e+" value should be an integer, not "+b.class_name(r))}if(void 0!==k["set_"+e])return k["set_"+e](t,r);function n(t){console.log(t);var e,r=b.last(b.frames_stack);0<b.debug?(e=r[1].$line_info.split(","),console.log("module",e[1],"line",e[0]),b.$py_src.hasOwnProperty(e[1])&&(t=b.$py_src[e[1]],console.log(t.split("\n")[parseInt(e[0])-1]))):console.log("module",r[2])}for(var o=Object.getPrototypeOf(t),s=0;o&&o!==Object.prototype&&s++<10;){var a=Object.getOwnPropertyDescriptors(o);if(!a||"function"!=typeof a.hasOwnProperty)break;if(a.hasOwnProperty(e)){a[e].writable||void 0!==a[e].set||n("Warning: property '"+e+"' is not writable. Use element.attrs['"+e+"'] instead.");break}o=Object.getPrototypeOf(o)}return t.style&&void 0!==t.style[e]&&n("Warning: '"+e+"' is a property of element.style"),t[e]=r,y.None}b.$bool(r)?k.bind(t,e.substr(2),r):k.unbind(t,e.substr(2))},k.__setitem__=function(t,e,r){"number"==typeof e?t.childNodes[e]=r:"string"==typeof e&&t.attributes&&(t instanceof SVGElement?t.setAttributeNS(null,e,r):"function"==typeof t.setAttribute&&t.setAttribute(e,r))},k.abs_left={__get__:function(t){return x(t).left},__set__:function(){throw y.AttributeError.$factory("'DOMNode' objectattribute 'abs_left' is read-only")}},k.abs_top={__get__:function(t){return x(t).top},__set__:function(){throw y.AttributeError.$factory("'DOMNode' objectattribute 'abs_top' is read-only")}},k.attach=k.__le__,k.bind=function(e,r){var t=b.args("bind",4,{self:null,event:null,func:null,options:null},["self","event","func","options"],arguments,{func:y.None,options:y.None},null,null),e=t.self,r=t.event,n=t.func,o=t.options;if(n===y.None)return function(t){return k.bind(e,r,t)};var s,t=(s=n,function(t){try{return s(l(t))}catch(e){if(void 0!==e.__class__)b.handle_error(e);else try{b.$getattr(b.stderr,"write")(e)}catch(t){console.log(e)}}});return t.$infos=n.$infos,t.$attrs=n.$attrs||{},t.$func=n,"boolean"==typeof o?e.addEventListener(r,t,o):o.__class__===y.dict?e.addEventListener(r,t,y.dict.$to_obj(o)):o===y.None&&e.addEventListener(r,t,!1),e.$events=e.$events||{},e.$events[r]=e.$events[r]||[],e.$events[r].push([n,t]),e},k.children=function(t){var e,r=[];for(e of(t=9==t.nodeType?t.body:t).children)r.push(k.$factory(e));return r},k.child_nodes=function(t){var e=[];for(child of(t=9==t.nodeType?t.body:t).childNodes)e.push(k.$factory(child));return e},k.clear=function(t){b.args("clear",1,{self:null},["self"],arguments,{},null,null);for(9==t.nodeType&&(t=t.body);t.firstChild;)t.removeChild(t.firstChild)},k.Class=function(t){return void 0!==t.className?t.className:y.None},k.class_name=function(t){return k.Class(t)},k.clone=function(t){var e,r=k.$factory(t.cloneNode(!0)),n=t.$events||{};for(e in n)n[e].forEach(function(t){t=t[0];k.bind(r,e,t)});return r},k.closest=function(t,e){b.args("closest",2,{self:null,selector:null},["self","selector"],arguments,{},null,null);var r=t.closest(e);if(null===r)throw y.KeyError.$factory("no parent with selector "+e);return k.$factory(r)},k.events=function(t,e){t.$events=t.$events||{};var e=t.$events[e]=t.$events[e]||[],r=[];return e.forEach(function(t){r.push(t[1])}),r},k.get=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=b.args("get",0,{},[],e,{},null,"kw"),o={};if(y.list.$factory(y.dict.items(n.kw)).forEach(function(t){o[t[0]]=t[1]}),void 0!==o.name){if(void 0===t.getElementsByName)throw y.TypeError.$factory("DOMNode object doesn't support selection by name");return u(t.getElementsByName(o.name))}if(void 0!==o.tag){if(void 0===t.getElementsByTagName)throw y.TypeError.$factory("DOMNode object doesn't support selection by tag name");return u(t.getElementsByTagName(o.tag))}if(void 0!==o.classname){if(void 0===t.getElementsByClassName)throw y.TypeError.$factory("DOMNode object doesn't support selection by class name");return u(t.getElementsByClassName(o.classname))}if(void 0!==o.id){if(void 0===t.getElementById)throw y.TypeError.$factory("DOMNode object doesn't support selection by id");n=document.getElementById(o.id);return n?[k.$factory(n)]:[]}if(void 0===o.selector)return res;if(void 0===t.querySelectorAll)throw y.TypeError.$factory("DOMNode object doesn't support selection by selector");return u(t.querySelectorAll(o.selector))},k.getContext=function(e){if(!("getContext"in e))throw y.AttributeError.$factory("object has no attribute 'getContext'");return function(t){return b.JSObj.$factory(e.getContext(t))}},k.getSelectionRange=function(t){if(void 0!==t.getSelectionRange)return t.getSelectionRange.apply(null,arguments)},k.html=function(t){var e=t.innerHTML;return e=void 0===e?9==t.nodeType&&t.body?t.body.innerHTML:y.None:e},k.index=function(t,e){for(var r=void 0===e?t.parentElement.childNodes:t.parentElement.querySelectorAll(e),n=-1,o=0;o<r.length;o++)if(r[o]===t){n=o;break}return n},k.inside=function(t,e){for(var r=t;;){if(e===r)return!0;if(!(r=r.parentNode))return!1}},k.options=function(t){return new $OptionsClass(t)},k.parent=function(t){return t.parentElement?k.$factory(t.parentElement):y.None},k.reset=function(t){return function(){t.reset()}},k.scrolled_left={__get__:function(t){return x(t).left-document.scrollingElement.scrollLeft},__set__:function(){throw y.AttributeError.$factory("'DOMNode' objectattribute 'scrolled_left' is read-only")}},k.scrolled_top={__get__:function(t){return x(t).top-document.scrollingElement.scrollTop},__set__:function(){throw y.AttributeError.$factory("'DOMNode' objectattribute 'scrolled_top' is read-only")}},k.select=function(t,e){if(void 0===t.querySelectorAll)throw y.TypeError.$factory("DOMNode object doesn't support selection by selector");return u(t.querySelectorAll(e))},k.select_one=function(t,e){if(void 0===t.querySelector)throw y.TypeError.$factory("DOMNode object doesn't support selection by selector");e=t.querySelector(e);return null===e?y.None:k.$factory(e)},k.setSelectionRange=function(t){return void 0!==this.setSelectionRange?(e=this,function(){return e.setSelectionRange.apply(e,arguments)}):void 0!==this.createTextRange?(n=this,function(t,e){null==e&&(e=t);var r=n.createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",e),r.select()}):void 0;var n,e},k.set_class_name=function(t,e){t.setAttribute("class",e)},k.set_html=function(t,e){(t=9==t.nodeType?t.body:t).innerHTML=y.str.$factory(e)},k.set_style=function(t,e){if(!y.isinstance(e,y.dict))throw y.TypeError.$factory("style must be dict, not "+b.class_name(e));for(var r=y.list.$factory(y.dict.items(e)),n=0;n<r.length;n++){var o=r[n][0],s=r[n][1];if("float"==o.toLowerCase())t.style.cssFloat=s,t.style.styleFloat=s;else{switch(o){case"top":case"left":case"width":case"height":case"borderWidth":y.isinstance(s,y.int)&&(s+="px")}t.style[o]=s}}},k.set_text=function(t,e){(t=9==t.nodeType?t.body:t).innerText=y.str.$factory(e),t.textContent=y.str.$factory(e)},k.set_value=function(t,e){t.value=y.str.$factory(e)},k.submit=function(t){return function(){t.submit()}},k.text=function(t){t=(t=9==t.nodeType?t.body:t).innerText||t.textContent;return t=null===t?y.None:t},k.toString=function(t){return void 0===t?"DOMNode":t.nodeName},k.trigger=function(t,e){var r;t.fireEvent?t.fireEvent("on"+e):((r=document.createEvent("Events")).initEvent(e,!0,!1),t.dispatchEvent(r))},k.unbind=function(t,e){if(t.$events=t.$events||{},t.$events==={})return y.None;if(void 0===e){for(var e in t.$events)k.unbind(t,e);return y.None}if(void 0===t.$events[e]||0==t.$events[e].length)return y.None;var r=t.$events[e];if(2==arguments.length){for(var n=0;n<r.length;n++){var o=r[n][1];t.removeEventListener(e,o,!1)}return t.$events[e]=[],y.None}for(n=2;n<arguments.length;n++){var s=!1;if(void 0===(i=(o=arguments[n]).$func)){for(var a=!1,_=0;_<r.length;_++)if(r[_][0]===o){var i=o,a=!0;break}if(!a)throw y.TypeError.$factory("function is not an event callback")}for(_=0;_<r.length;_++)if(b.$getattr(i,"__eq__")(r[_][0])){o=r[_][1];t.removeEventListener(e,o,!1),r.splice(_,1),s=!0;break}if(!s)throw y.KeyError.$factory("missing callback for event "+e)}},b.set_func_names(k,"browser");var E={__class__:y.type,__mro__:[y.object],$infos:{__name__:"query"},__contains__:function(t,e){return-1<t._keys.indexOf(e)},__getitem__:function(t,e){t=t._values[e];if(void 0===t)throw y.KeyError.$factory(e);return 1==t.length?t[0]:t}},r=b.make_iterator_class("query string iterator");E.__iter__=function(t){return r.$factory(t._keys)},E.__setitem__=function(t,e,r){return t._values[e]=[r],y.None},E.__str__=E.__repr__=function(t){var e,r=[];for(e in t._values)for(const n of t._values[e])r.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return 0==r.length?"":"?"+r.join("&")},E.getfirst=function(t,e,r){e=t._values[e];return void 0===e?void 0===r?y.None:r:e[0]},E.getlist=function(t,e){e=t._values[e];return void 0===e?[]:e},E.getvalue=function(t,e,r){try{return E.__getitem__(t,e)}catch(t){return void 0===r?y.None:r}},E.keys=function(t){return t._keys},b.set_func_names(E,"<dom>");var f={__class__:y.type,__mro__:[v],$infos:{__module__:"<pydom>",__name__:"TagSum"},appendChild:function(t,e){t.children.push(e)},__add__:function(t,e){return b.get_class(e)===f?t.children=t.children.concat(e.children):y.isinstance(e,[y.str,y.int,y.float,y.dict,y.set,y.list])?t.children=t.children.concat(k.$factory(document.createTextNode(e))):t.children.push(e),t},__radd__:function(t,e){var r=f.$factory();return r.children=t.children.concat(k.$factory(document.createTextNode(e))),r},__repr__:function(t){for(var e="<object TagSum> ",r=0;r<t.children.length;r++)e+=t.children[r],"[object Text]"==t.children[r].toString()&&(e+=" ["+t.children[r].textContent+"]\n");return e}};f.__str__=f.toString=f.__repr__,f.clone=function(t){for(var e=f.$factory(),r=0;r<t.children.length;r++)e.children.push(t.children[r].cloneNode(!0));return e},f.$factory=function(){return{__class__:f,children:[],toString:function(){return"(TagSum)"}}},b.set_func_names(f,"<dom>"),b.TagSum=f;t=b.JSObj.$factory(o);t.get_postMessage=function(t,e){var r;return y.isinstance(t,dict)&&(r={__class__:"dict"},y.list.$factory(y.dict.items(t)).forEach(function(t){r[t[0]]=t[1]}),t=r),o.postMessage(t,e)},b.DOMNode=k,b.win=t}(__BRYTHON__),$B.pattern_match=function(t,e){var r,n,o=$B.builtins,s=$B.last($B.frames_stack)[1];function a(t,e){t.alias&&(s[t.alias]=e)}if(e.sequence){if(o.isinstance(t,[o.str,o.bytes,o.bytearray]))return!1;$B.imported["collections.abc"]&&(r=$B.imported["collections.abc"].Sequence),$B.imported.collections&&(n=$B.imported.collections.deque);var _=!1;for(v of[O=t.__class__||$B.get_class(t)].concat(O.__bases__||[])){if(v.$match_sequence_pattern){_=!0;break}if(v===r||v==n){_=!0;break}}if(!(_=!_&&r?o.issubclass(O,r):_))return!1;if(1==e.sequence.length&&"_"==e.sequence[0].capture_starred)return!0;var i=o.len(t),l=0;for(b of e.sequence)b.capture_starred||l++;if(i<l)return!1;if(0==i&&0==e.sequence.length)return!0;for(var c=o.iter(t),u=$B.$getattr(c,"__next__"),f=[],p=0,$=0,d=e.sequence.length;$<d;$++)if(e.sequence[$].capture_starred){if("_"==e.sequence[$].capture_starred&&$==d-1)return a(e,t),!0;for(var h=i-p-d+$+1,m=0;m<h;m++)f.push(u());s[e.sequence[$].capture_starred]=f,p+=h}else{var g=u();if(!$B.pattern_match(g,e.sequence[$]))return!1;p++}return p!=i?!1:(a(e,t),!0)}if(e.group){if(1!=e.group.length)return e.sequence=e.group,$B.pattern_match(t,e);if($B.pattern_match(t,e.group[0]))return a(e,t),!0}if(e.or){for(var b of e.or)if($B.pattern_match(t,b))return a(e,t),!0;return!1}if(e.mapping){var y,v,_=!1;$B.imported["collections.abc"]&&(y=$B.imported["collections.abc"].Mapping);for(v of[O=t.__class__||$B.get_class(t)].concat(O.__bases__||[]))if(v.$match_mapping_pattern||v===y){_=!0;break}if(!(_=!_&&y?o.issubclass(O,y):_))return!1;var x=[],B=[];for(b of e.mapping){var w=b[0],k=b[1];if(w.hasOwnProperty("literal")?C=w.literal:w.hasOwnProperty("value")&&(C=w.value),o.list.__contains__(B,C))throw o.ValueError.$factory("mapping pattern checks duplicate key ("+o.str.$factory(C)+")");B.push(C);var E=$B.make_class("missing",function(){return{__class__:E}});try{if((S=$B.$call($B.$getattr(t,"get"))(C,E))===E)return!1;if(!$B.pattern_match(S,k))return!1;x.push(C)}catch(t){if($B.is_exc(t,[o.KeyError]))return!1;throw t}}if(e.rest)for(var j=$B.empty_dict(),c=o.iter(t);;){try{var N=o.next(c)}catch(t){if($B.is_exc(t,[o.StopIteration]))return s[e.rest]=j,!0;throw t}o.list.__contains__(x,N)||o.dict.__setitem__(j,N,$B.$getitem(t,N))}return!0}if(e.class){var C,S,O=e.class;if(!o.isinstance(O,o.type))throw o.TypeError.$factory("called match pattern must be a type");if(!o.isinstance(t,O))return!1;if(0<e.args.length){if(-1<[o.bool,o.bytearray,o.bytes,o.dict,o.float,o.frozenset,o.int,o.list,o.set,o.str,o.tuple].indexOf(O)){if(1<e.args.length)throw o.TypeError.$factory("for builtin type "+$B.class_name(t)+", a single positional subpattern is accepted");return $B.pattern_match(t,e.args[0])}var A=$B.$getattr(O,"__match_args__",$B.fast_tuple([]));if(!o.isinstance(A,o.tuple))throw o.TypeError.$factory("__match_args__() did not return a tuple");if(e.args.length>A.length)throw o.TypeError.$factory("__match_args__() returns "+A.length+" names but "+e.args.length+" positional arguments were passed");for($=0,d=e.args.length;$<d;$++){var I=e.args[$],T=A[$];if("string"!=typeof T)throw o.TypeError.$factory("item in __match_args__ is not a string: "+T);if(e.keywords.hasOwnProperty(T))throw o.TypeError.$factory("__match_arg__ item "+T+" was passed as keyword pattern");e.keywords[T]=I}}for(C in e.keywords){if(null===(S=$B.$getattr(t,C,null)))return!1;if(!$B.pattern_match(S,e.keywords[C]))return!1}return a(e,t),!0}if(e.capture)return"_"!=e.capture&&(s[e.capture]=t),a(e,t),!0;if(e.capture_starred)return s[e.capture_starred]=$B.$list(t),!0;if(e.hasOwnProperty("literal")){O=e.literal;return O===o.None||O===o.True||O===o.False?$B.$is(t,O):!!$B.rich_comp("__eq__",t,O)&&(a(e,t),!0)}if(e.hasOwnProperty("value")){if($B.rich_comp("__eq__",t,e.value))return a(e,t),!0}else if(t==e)return!0;return!1},function($B){var _b_=$B.builtins,update=$B.update_obj=function(t,e){for(attr in e)t[attr]=e[attr]},_window=self,modules={},browser={$package:!0,$is_package:!0,__initialized__:!0,__package__:"browser",__file__:$B.brython_path.replace(/\/*$/g,"")+"/Lib/browser/__init__.py",bind:function(){var s=$B.args("bind",3,{elt:null,evt:null,options:null},["elt","evt","options"],arguments,{options:_b_.None},null,null),a=s.options;return"boolean"==typeof a||a.__class__===_b_.dict&&(a=a.$string_dict),function(e){if($B.get_class(s.elt)===$B.JSObj)return s.elt.addEventListener(s.evt,function(t){try{return e($B.JSObj.$factory(t))}catch(t){$B.handle_error(t)}},a),e;if(_b_.isinstance(s.elt,$B.DOMNode))return $B.DOMNode.bind(s.elt,s.evt,e,a),e;if(_b_.isinstance(s.elt,_b_.str)){for(var t=document.querySelectorAll(s.elt),r=0;r<t.length;r++)$B.DOMNode.bind($B.DOMNode.$factory(t[r]),s.evt,e,a);return e}try{for(var n=$B.$iter(s.elt);;)try{var o=_b_.next(n);$B.DOMNode.bind(o,s.evt,e)}catch(t){if(_b_.isinstance(t,_b_.StopIteration))break;throw t}}catch(t){throw _b_.isinstance(t,_b_.AttributeError)&&$B.DOMNode.bind(s.elt,s.evt,e),t}return e}},console:self.console&&$B.JSObj.$factory(self.console),self:$B.win,win:$B.win,window:$B.win};browser.__path__=browser.__file__,$B.isNode?(delete browser.window,delete browser.win):$B.isWebWorker?(browser.is_webworker=!0,delete browser.window,delete browser.win,browser.self.send=self.postMessage):(browser.is_webworker=!1,update(browser,{alert:function(t){window.alert($B.builtins.str.$factory(t||""))},confirm:$B.JSObj.$factory(window.confirm),document:$B.DOMNode.$factory(document),doc:$B.DOMNode.$factory(document),DOMEvent:$B.DOMEvent,DOMNode:$B.DOMNode,load:function(script_url){var file_obj=$B.builtins.open(script_url),content=$B.$getattr(file_obj,"read")();eval(content)},mouseCoords:function(t){return $B.JSObj.$factory($mouseCoords(t))},prompt:function(t,e){return $B.JSObj.$factory(window.prompt(t,e||""))},reload:function(){var t,e=document.getElementsByTagName("script"),r=[];for(t in e.forEach(function(t){void 0!==t.type&&"text/javascript"!=t.type||(r.push(t),t.src&&console.log(t.src))}),console.log(r),$B.imported)$B.imported[t].$last_modified?console.log("check",t,$B.imported[t].__file__,$B.imported[t].$last_modified):console.log("no date for mod",t)},run_script:function(){var t=$B.args("run_script",2,{src:null,name:null},["src","name"],arguments,{name:"script_"+$B.UUID()},null,null);$B.run_script(t.src,t.name,$B.script_path,!0)},URLParameter:function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");t=null===(t=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search))?"":decodeURIComponent(t[1].replace(/\+/g," "));return $B.builtins.str.$factory(t)}}),modules["browser.html"]=function($B){var _b_=$B.builtins,TagSum=$B.TagSum;function makeTagDict(tagName){var dict={__class__:_b_.type,$infos:{__name__:tagName,__module__:"browser.html",__qualname__:tagName},__init__:function(){var $ns=$B.args("pow",1,{self:null},["self"],arguments,{},"args","kw"),self=$ns.self,args=$ns.args;if(1==args.length){var first=args[0];if(_b_.isinstance(first,[_b_.str,_b_.int,_b_.float]))self.innerHTML=_b_.str.$factory(first);else if(first.__class__===TagSum)for(var i=0,len=first.children.length;i<len;i++)self.appendChild(first.children[i]);else if(_b_.isinstance(first,$B.DOMNode))self.appendChild(first);else try{var items=_b_.list.$factory(first);items.forEach(function(t){$B.DOMNode.__le__(self,t)})}catch(err){throw 1<$B.debug&&(console.log(err,err.__class__,err.args),console.log("first",first),console.log(arguments)),err}}for(var items=_b_.list.$factory(_b_.dict.items($ns.kw)),i=0,len=items.length;i<len;i++){var arg=items[i][0],value=items[i][1];if("on"==arg.toLowerCase().substr(0,2)){var js='$B.DOMNode.bind(self,"'+arg.toLowerCase().substr(2);eval(js+'",function(){'+value+"})")}else if("style"==arg.toLowerCase())$B.DOMNode.set_style(self,value);else if(!1!==value)try{arg=$B.imported["browser.html"].attribute_mapper(arg),self.setAttribute(arg,value)}catch(err){throw _b_.ValueError.$factory("can't set attribute "+arg)}}}};return dict.__mro__=[$B.DOMNode,$B.builtins.object],dict.__new__=function(t){var e=document.createElement(tagName);return t!==html[tagName]&&(e.__class__=t),e},$B.set_func_names(dict,"browser.html"),dict}function makeFactory(r){return function(){var t;t="SVG"==r.$infos.__name__?$B.DOMNode.$factory(document.createElementNS("http://www.w3.org/2000/svg","svg"),!0):document.createElement(r.$infos.__name__);var e=$B.$getattr(r,"__init__",null);return null!==e&&e(t,...arguments),t}}var tags=["A","ABBR","ACRONYM","ADDRESS","APPLET","AREA","B","BASE","BASEFONT","BDO","BIG","BLOCKQUOTE","BODY","BR","BUTTON","CAPTION","CENTER","CITE","CODE","COL","COLGROUP","DD","DEL","DFN","DIR","DIV","DL","DT","EM","FIELDSET","FONT","FORM","FRAME","FRAMESET","H1","H2","H3","H4","H5","H6","HEAD","HR","HTML","I","IFRAME","IMG","INPUT","INS","ISINDEX","KBD","LABEL","LEGEND","LI","LINK","MAP","MENU","META","NOFRAMES","NOSCRIPT","OBJECT","OL","OPTGROUP","OPTION","P","PARAM","PRE","Q","S","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRIKE","STRONG","STYLE","SUB","SUP","SVG","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TITLE","TR","TT","U","UL","VAR","ARTICLE","ASIDE","AUDIO","BDI","CANVAS","COMMAND","DATA","DATALIST","EMBED","FIGCAPTION","FIGURE","FOOTER","HEADER","KEYGEN","MAIN","MARK","MATH","METER","NAV","OUTPUT","PROGRESS","RB","RP","RT","RTC","RUBY","SECTION","SOURCE","TEMPLATE","TIME","TRACK","VIDEO","WBR","DETAILS","DIALOG","MENUITEM","PICTURE","SUMMARY"],html={},tagName;function maketag(t){if("string"!=typeof t)throw _b_.TypeError.$factory("html.maketag expects a string as argument");if(void 0!==html[t])throw _b_.ValueError.$factory("cannot reset class for "+t);var e=makeTagDict(t);return e.$factory=makeFactory(e),_b_.dict.$setitem(html.tags,t,e),html[t]=e}html.tags=$B.empty_dict();for(tagName of tags)maketag(tagName);return html.maketag=maketag,html.attribute_mapper=function(t){return t.replace(/_/g,"-")},html}(__BRYTHON__)),modules.browser=browser,$B.UndefinedClass=$B.make_class("Undefined",function(){return $B.Undefined}),$B.UndefinedClass.__mro__=[_b_.object],$B.UndefinedClass.__bool__=function(t){return!1},$B.UndefinedClass.__repr__=$B.UndefinedClass.__str__=function(t){return"<Javascript undefined>"},$B.Undefined={__class__:$B.UndefinedClass},$B.set_func_names($B.UndefinedClass,"javascript");var super_class=$B.make_class("JavascriptSuper",function(){var r=_b_.super.$factory().__self_class__,n=Object.getPrototypeOf(r).constructor.$parent;return{__class__:super_class,__init__:function(){var t=n.bind(r),e=n.toString().startsWith("class")?new t(...arguments):t(...arguments);for(key in e)r[key]=e[key];return e},__self_class__:r}});super_class.__getattribute__=function(t,e){return"__init__"==e||"__call__"==e?t.__init__:$B.$getattr(t.__self_class__,e)},$B.set_func_names(super_class,"javascript"),modules.javascript={this:function(){return void 0===$B.js_this?$B.builtins.None:$B.JSObj.$factory($B.js_this)},Date:self.Date&&$B.JSObj.$factory(self.Date),extends:function(n){return function(e){if(e.$is_class){function t(){var t=$B.$getattr(e,"__init__",_b_.None);return t!==_b_.None&&t.bind(this,this).apply(this,arguments),this}for(var r in((t.prototype=Object.create(n.prototype)).constructor=t).$parent=n.$js_func,t.$is_class=!0,t.$infos=e.$infos,e)"function"==typeof e[r]&&(t.prototype[r]=function(t){return function(){return e[t].bind(this,this).apply(this,arguments)}}(r));return t}}},JSON:{__class__:$B.make_class("JSON"),parse:function(){return $B.structuredclone2pyobj(JSON.parse.apply(this,arguments))},stringify:function(t,e,r){return JSON.stringify($B.pyobj2structuredclone(t,!1),$B.JSObj.$factory(e),r)}},jsobj2pyobj:function(t){return $B.jsobj2pyobj(t)},load:function(script_url){console.log('"javascript.load" is deprecrated. Use browser.load instead.');var file_obj=$B.builtins.open(script_url),content=$B.$getattr(file_obj,"read")();eval(content)},Math:self.Math&&$B.JSObj.$factory(self.Math),NULL:null,Number:self.Number&&$B.JSObj.$factory(self.Number),py2js:function(t,e){return void 0===e&&(e="__main__"+$B.UUID()),$B.py2js(t,e,e,$B.builtins_scope).to_js()},pyobj2jsobj:function(t){return $B.pyobj2jsobj(t)},RegExp:self.RegExp&&$B.JSObj.$factory(self.RegExp),String:self.String&&$B.JSObj.$factory(self.String),super:super_class,UNDEFINED:$B.Undefined,UndefinedType:$B.UndefinedClass};var arraybuffers=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];arraybuffers.forEach(function(t){void 0!==self[t]&&(modules.javascript[t]=$B.JSObj.$factory(self[t]))});var _b_=$B.builtins;modules._sys={Getframe:function(){var t=$B.args("_getframe",1,{depth:null},["depth"],arguments,{depth:0},null,null).depth;return $B._frame.$factory($B.frames_stack,$B.frames_stack.length-t-1)},breakpointhook:function(){var t,e,r,n,o=$B.$options.breakpoint;[t,e,r]=_b_.str.rpartition(o=void 0===o?"pdb.set_trace":o,"."),""==e&&(t="builtins");try{$B.$import(t),n=$B.$getattr($B.imported[t],r)}catch(t){return console.warn("cannot import breakpoint",o),_b_.None}return $B.$call(n).apply(null,arguments)},exc_info:function(){for(var t=$B.frames_stack.length-1;0<=t;t--){var e=$B.frames_stack[t][1].$current_exception;if(e)return _b_.tuple.$factory([e.__class__,e,$B.$getattr(e,"__traceback__")])}return _b_.tuple.$factory([_b_.None,_b_.None,_b_.None])},excepthook:function(t,e,r){$B.handle_error(e)},gettrace:function(){return $B.tracefunc||_b_.None},max_string_length:$B.max_string_length,modules:_b_.property.$factory(function(){return $B.obj_dict($B.imported)},function(t,e,r){throw _b_.TypeError.$factory("Read only property 'sys.modules'")}),path:_b_.property.$factory(function(){return $B.path},function(t,e,r){$B.path=r}),meta_path:_b_.property.$factory(function(){return $B.meta_path},function(t,e,r){$B.meta_path=r}),path_hooks:_b_.property.$factory(function(){return $B.path_hooks},function(t,e,r){$B.path_hooks=r}),path_importer_cache:_b_.property.$factory(function(){return _b_.dict.$factory($B.JSObj.$factory($B.path_importer_cache))},function(t,e,r){throw _b_.TypeError.$factory("Read only property 'sys.path_importer_cache'")}),settrace:function(){var t=$B.args("settrace",1,{tracefunc:null},["tracefunc"],arguments,{},null,null);return $B.tracefunc=t.tracefunc,$B.last($B.frames_stack)[1].$f_trace=$B.tracefunc,$B.tracefunc.$current_frame_id=$B.last($B.frames_stack)[0],_b_.None},stderr:_b_.property.$factory(function(){return $B.stderr},function(t,e){$B.stderr=e}),stdout:_b_.property.$factory(function(){return $B.stdout},function(t,e){$B.stdout=e}),stdin:_b_.property.$factory(function(){return $B.stdin},function(t,e){$B.stdin=e}),vfs:_b_.property.$factory(function(){return $B.hasOwnProperty("VFS")?$B.obj_dict($B.VFS):_b_.None},function(){throw _b_.TypeError.$factory("Read only property 'sys.vfs'")})},modules._sys.__breakpointhook__=modules._sys.breakpointhook,modules._sys.stderr.write=function(t){return $B.$getattr(_sys.stderr.__get__(),"write")(t)},modules._sys.stdout.write=function(t){return $B.$getattr(_sys.stdout.__get__(),"write")(t)};var WarningMessage=$B.make_class("WarningMessage",function(){var t=$B.make_args("WarningMessage",8,{message:null,category:null,filename:null,lineno:null,file:null,line:null,source:null},["message","category","filename","lineno","file","line","source"],arguments,{file:_b_.None,line:_b_.None,source:_b_.None},null,null);return{__class__:WarningMessage,message:t.message,category:t.category,filename:t.filename,lineno:t.lineno,file:t.file,line:t.line,source:t.source,_category_name:_b_.bool.$factory(t.category)?$B.$getattr(t.category,"__name__"):_b_.None}}),attr;function load(t,e){for(var r in e.__class__=$B.module,e.__name__=t,$B.imported[t]=e)"function"==typeof e[r]&&(e[r].$infos={__module__:t,__name__:r,__qualname__:t+"."+r})}for(attr in modules._warnings={_defaultaction:"default",_filters_mutated:function(){},_onceregistry:$B.empty_dict(),filters:[$B.fast_tuple(["default",_b_.None,_b_.DeprecationWarning,"__main__",0]),$B.fast_tuple(["ignore",_b_.None,_b_.DeprecationWarning,_b_.None,0]),$B.fast_tuple(["ignore",_b_.None,_b_.PendingDeprecationWarning,_b_.None,0]),$B.fast_tuple(["ignore",_b_.None,_b_.ImportWarning,_b_.None,0]),$B.fast_tuple(["ignore",_b_.None,_b_.ResourceWarning,_b_.None,0])],warn:function(t){var e=($B.imported.warnings||modules._warnings).filters;if("error"==e[0][0]){var r=_b_.SyntaxError.$factory(t.args[0]);throw r.args[1]=[t.filename,t.lineno,t.offset,t.line],r.filename=t.filename,r.lineno=t.lineno,r.offset=t.offset,r.line=t.line,r}r=$B.imported._sys.Getframe();warning_message={__class__:WarningMessage,message:t,category:t.__class__,filename:t.filename||r.f_code.co_filename,lineno:t.lineno||r.f_lineno,file:_b_.None,line:_b_.None,source:_b_.None,_category_name:t.__class__.__name__},$B.imported.warnings?$B.imported.warnings._showwarnmsg_impl(warning_message):(t=$B.class_name(t)+": "+t.args[0],$B.$getattr($B.stderr,"write")(t+"\n"),(t=$B.$getattr($B.stderr,"flush",_b_.None))!==_b_.None&&t())},warn_explicit:function(){console.log("warn_explicit",arguments)}},modules)load(attr,modules[attr]);$B.isWebWorker||$B.isNode||(modules.browser.html=modules["browser.html"]);var _b_=$B.builtins,attr,name,attr;for(attr in _b_.__builtins__=$B.module.$factory("__builtins__","Python builtins"),_b_)_b_.__builtins__[attr]=_b_[attr],$B.builtins_scope.binding[attr]=!0,_b_[attr].$is_class&&(_b_[attr].__bases__?_b_[attr].__bases__.__class__=_b_.tuple:_b_[attr].__bases__=$B.fast_tuple([_b_.object]));for(name in _b_.__builtins__.__setattr__=function(t,e){_b_[t]=e},$B.method_descriptor.__getattribute__=$B.Function.__getattribute__,$B.wrapper_descriptor.__getattribute__=$B.Function.__getattribute__,_b_)if(_b_[name].__class__===_b_.type)for(var key in $B.builtin_classes.push(_b_[name]),_b_[name]){var value=_b_[name][key];void 0!==value&&(value.__class__||"function"==typeof value&&("__new__"==key?value.__class__=$B.builtin_function:key.startsWith("__")?value.__class__=$B.wrapper_descriptor:value.__class__=$B.method_descriptor,value.__objclass__=_b_[name]))}for(attr in $B)Array.isArray($B[attr])&&($B[attr].__class__=_b_.list);$B.cell=$B.make_class("cell",function(t){return{__class__:$B.cell,$cell_contents:t}}),$B.cell.cell_contents=$B.$call(_b_.property)(function(t){if(null===t.$cell_contents)throw _b_.ValueError.$factory("empty cell");return t.$cell_contents},function(t,e){t.$cell_contents=e});var $comps=Object.values($B.$comps).concat(["eq","ne"]);$comps.forEach(function(t){var r,t="__"+t+"__";$B.cell[t]=(r=t,function(t,e){return _b_.isinstance(e,$B.cell)?null===t.$cell_contents?null===e.$cell_contents?"__eq__"==r:-1<["__ne__","__lt__","__le__"].indexOf(r):null===e.$cell_contents?-1<["__ne__","__gt__","__ge__"].indexOf(r):$B.rich_comp(r,t.$cell_contents,e.$cell_contents):_b_.NotImplemented})}),$B.set_func_names($B.cell,"builtins")}(__BRYTHON__),function(n){n.builtins;var o=n.coroutine=n.make_class("coroutine");o.close=function(t){},o.send=function(t){return t.$func.apply(null,t.$args)},o.__repr__=o.__str__=function(t){return t.$func.$infos?"<coroutine "+t.$func.$infos.__name__+">":"<coroutine object>"},n.set_func_names(o,"builtins"),n.make_async=r=>{if(r.$is_genfunc)return r;function t(){var t=arguments,e=n.deep_copy(n.frames_stack);return{__class__:o,$args:t,$func:r,$stack:e}}return t.$infos=r.$infos,t},n.promise=function(t){return t.__class__===o?o.send(t):"function"==typeof t?t():t}}(__BRYTHON__);